import{a as W,b as Ee}from"./chunk-HFM63KZ2.js";import{c as le}from"./chunk-2JQMTGI5.js";import"./chunk-NO4444JX.js";import{a as K}from"./chunk-4BQOIAP5.js";import{C as Y,E as H,b as Ce,c as $,d as re,e as U,f as ye,k as Me,l as Oe,m as J,n as we,q as Pe,r as G,s as q,t as X,v as Se}from"./chunk-5CXVSPU7.js";import{$a as ke,E as de,Ea as _e,Jb as B,Lb as z,Mb as j,T as ce,Ua as F,W as ge,X as me,Za as fe,f as se,fa as be,ib as ve,oa as pe,pa as ue,pb as he,sa as xe,ub as R}from"./chunk-AY2PQ2ZV.js";import"./chunk-CVSECBKN.js";import{$a as l,Bc as S,Fc as L,Gc as ae,Kb as c,Lb as o,Mb as a,Nb as p,O as oe,Rb as A,Sb as D,Ub as C,Wb as _,X as ie,Yb as g,cd as N,dd as I,fb as ee,ga as w,gc as P,ic as y,jc as M,jd as V,kc as s,lc as v,ma as u,mb as T,mc as O,na as x,rb as k,ub as te,wa as h}from"./chunk-3MKZGHO3.js";function Te(i=new Date){let d=String(i.getDate()).padStart(2,"0"),t=String(i.getMonth()+1).padStart(2,"0");return`${d}/${t}`}function Ae(i){return i.trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"")}function Q(i,d){if(!i)return"";let t={HOY:Te(new Date),MANANA:Te(new Date(Date.now()+1440*60*1e3))};for(let[e,r]of Object.entries(d||{}))t[Ae(e)]=String(r??"");return!t.MORA&&t.SALDO_MORA&&(t.MORA=t.SALDO_MORA),!t.BAJA30&&t.BAJA_30&&(t.BAJA30=t.BAJA_30),i.replace(/\{([^}]+)\}/g,(e,r)=>{let n=Ae(r);return n in t?t[n]:`{${r}}`})}function Z(i){let d=(i||"").length;return d===0?{chars:0,segs:0}:d<=160?{chars:d,segs:1}:{chars:d,segs:Math.ceil(d/153)}}function Re(i,d){if(i&1){let t=C();o(0,"button",42),_("click",function(){let r=u(t).$implicit,n=g(3);return x(n.toggleChip(r.key,r.affectsSelects!==!1))}),s(1),a()}if(i&2){let t=d.$implicit,e=g(3);M(e.isActive(t.key)?"px-2.5 py-1 rounded-md text-white text-[11px] font-bold bg-gradient-to-r from-blue-600 to-violet-600 hover:from-blue-700 hover:to-violet-700 shadow-sm transition-all cursor-pointer":"px-2.5 py-1 rounded-md text-gray-700 dark:text-gray-300 text-[11px] font-semibold bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-700 dark:hover:text-blue-300 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"),c("disabled",e.isChipDisabled(t.key)),l(),O(" ",t.label," ")}}function Be(i,d){if(i&1&&(A(0),o(1,"div",38)(2,"div",39),s(3),a(),o(4,"div",40),k(5,Re,2,4,"button",41),a()(),D()),i&2){let t=d.$implicit;l(3),v(t.title),l(2),c("ngForOf",t.items)}}function ze(i,d){i&1&&(o(0,"div",43)(1,"div",44)(2,"label",45),s(3,"Sumar:"),a(),p(4,"input",46),a()())}function je(i,d){if(i&1&&(o(0,"div",34)(1,"div",35),k(2,Be,6,2,"ng-container",36),a(),k(3,ze,5,0,"div",37),a()),i&2){let t=g();l(2),c("ngForOf",t.chipGroups),l(),c("ngIf",t.selectedChips.has("LTD")||t.selectedChips.has("LTDE")||t.selectedChips.has("LTD_LTDE"))}}function $e(i,d){if(i&1&&(o(0,"option",56),s(1),a()),i&2){let t=d.$implicit;c("value",t.key),l(),v(t.label)}}function Ue(i,d){if(i&1&&(o(0,"div",57),p(1,"input",58),o(2,"label",59),p(3,"input",60),o(4,"span",61),s(5),a()(),o(6,"span",62),s(7),a(),o(8,"label",59),p(9,"input",63),o(10,"span",61),s(11),a()(),p(12,"input",64),a()),i&2){let t,e,r,n=g().$implicit,m=g(2);l(5),v((t=n.get("inclusiveMin"))!=null&&t.value?"\u2264":"<"),l(2),v(m.fieldLabel((e=n.get("field"))==null?null:e.value)),l(4),v((r=n.get("inclusiveMax"))!=null&&r.value?"\u2264":"<")}}function Je(i,d){if(i&1&&(o(0,"div",71)(1,"span",62),s(2),a(),o(3,"label",59),p(4,"input",60),o(5,"span",72),s(6),a()(),p(7,"input",73),a()),i&2){let t,e,r=g(2).$implicit,n=g(2);l(2),v(n.fieldLabel((t=r.get("field"))==null?null:t.value)),l(4),v((e=r.get("inclusiveMin"))!=null&&e.value?"\u2265":">")}}function Ge(i,d){if(i&1&&(o(0,"div",71)(1,"span",62),s(2),a(),o(3,"label",59),p(4,"input",63),o(5,"span",72),s(6),a()(),p(7,"input",74),a()),i&2){let t,e,r=g(2).$implicit,n=g(2);l(2),v(n.fieldLabel((t=r.get("field"))==null?null:t.value)),l(4),v((e=r.get("inclusiveMax"))!=null&&e.value?"\u2264":"<")}}function qe(i,d){if(i&1){let t=C();o(0,"div")(1,"div",65)(2,"button",66),_("click",function(){u(t);let r=g().index,n=g(2);return x(n.changeOperator(r,"gt"))}),s(3," Mayor "),a(),o(4,"button",66),_("click",function(){u(t);let r=g().index,n=g(2);return x(n.changeOperator(r,"lt"))}),s(5," Menor "),a()(),o(6,"div",67),k(7,Je,8,2,"div",68)(8,Ge,8,2,"div",68),a(),o(9,"label",69)(10,"input",70),_("change",function(r){u(t);let n=g().index,m=g(2);return x(m.toggleInterval(n,r.target.checked))}),a(),o(11,"span"),s(12,"Usar intervalo"),a()()()}if(i&2){let t,e,r,n,m,b=g().$implicit;l(2),M(((t=b.get("mode"))==null?null:t.value)==="gt"?"flex-1 px-2 py-1 rounded-md text-white text-[11px] font-bold bg-gradient-to-r from-blue-600 to-violet-600 transition-all cursor-pointer":"flex-1 px-2 py-1 rounded-md text-gray-700 dark:text-gray-300 text-[11px] font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 transition-all cursor-pointer"),l(2),M(((e=b.get("mode"))==null?null:e.value)==="lt"?"flex-1 px-2 py-1 rounded-md text-white text-[11px] font-bold bg-gradient-to-r from-blue-600 to-violet-600 transition-all cursor-pointer":"flex-1 px-2 py-1 rounded-md text-gray-700 dark:text-gray-300 text-[11px] font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 transition-all cursor-pointer"),l(3),c("ngIf",(r=b.get("useMin"))==null?null:r.value),l(),c("ngIf",(n=b.get("useMax"))==null?null:n.value),l(2),c("checked",((m=b.get("useMin"))==null?null:m.value)&&((m=b.get("useMax"))==null?null:m.value))}}function Xe(i,d){if(i&1){let t=C();o(0,"div",49)(1,"div",50)(2,"select",51),k(3,$e,2,2,"option",52),a(),o(4,"button",53),_("click",function(){let r=u(t).index,n=g(2);return x(n.removeRange(r))}),p(5,"lucide-angular",12),a()(),k(6,Ue,13,3,"div",54)(7,qe,13,7,"div",55),a()}if(i&2){let t,e,r=d.$implicit,n=g(2);c("formGroup",r),l(3),c("ngForOf",n.rangeFields),l(2),c("img",n.Trash2)("size",12),l(),c("ngIf",((t=r.get("useMin"))==null?null:t.value)&&((t=r.get("useMax"))==null?null:t.value)),l(),c("ngIf",!((e=r.get("useMin"))!=null&&e.value&&((e=r.get("useMax"))!=null&&e.value)))}}function Ye(i,d){if(i&1){let t=C();o(0,"div",34)(1,"button",47),_("click",function(){u(t);let r=g();return x(r.addRange())}),p(2,"lucide-angular",12),s(3," A\xF1adir rango "),a(),o(4,"div",35),k(5,Xe,8,6,"div",48),a()()}if(i&2){let t=g();l(2),c("img",t.Plus)("size",14),l(3),c("ngForOf",t.rangosFA.controls)}}function He(i,d){if(i&1){let t=C();o(0,"div",34)(1,"div",75)(2,"label",76)(3,"input",77),_("change",function(r){u(t);let n=g();return x(n.toggleCond(r,"PROMESAS_HOY"))}),a(),o(4,"span",78),s(5,"Promesas para hoy"),a()(),o(6,"label",76)(7,"input",77),_("change",function(r){u(t);let n=g();return x(n.toggleCond(r,"PROMESAS_MANANA"))}),a(),o(8,"span",78),s(9,"Promesas para ma\xF1ana"),a()(),o(10,"label",76)(11,"input",77),_("change",function(r){u(t);let n=g();return x(n.toggleCond(r,"PROMESAS_MANANA2"))}),a(),o(12,"span",78),s(13,"Promesas pasado ma\xF1ana"),a()(),o(14,"label",76)(15,"input",77),_("change",function(r){u(t);let n=g();return x(n.toggleCond(r,"PROMESAS_ROTAS"))}),a(),o(16,"span",78),s(17,"Promesas rotas"),a()()()()}if(i&2){let t=g();l(3),c("checked",t.isConditionChecked("PROMESAS_HOY")),l(4),c("checked",t.isConditionChecked("PROMESAS_MANANA")),l(4),c("checked",t.isConditionChecked("PROMESAS_MANANA2")),l(4),c("checked",t.isConditionChecked("PROMESAS_ROTAS"))}}function Ke(i,d){i&1&&(o(0,"div",34)(1,"div",75)(2,"label",76),p(3,"input",79),o(4,"span",78),s(5,"Sin contenido"),a()(),o(6,"label",76),p(7,"input",80),o(8,"span",78),s(9,"Excluir promesas periodo actual"),a()(),o(10,"label",76),p(11,"input",81),o(12,"span",78),s(13,"Excluir compromisos"),a()(),o(14,"label",76),p(15,"input",82),o(16,"span",78),s(17,"Excluir blacklist"),a()()()())}function We(i,d){if(i&1&&(o(0,"div",83),s(1),a()),i&2){let t=g();l(),O(" ",t.previewText()," ")}}function Qe(i,d){i&1&&(o(0,"div",84),s(1," Sin preview "),a())}var De=(()=>{let d=class d{get rangosFA(){return this.form.get("rangos")}constructor(e,r){this.fb=e,this.api=r,this.closed=new te,this.saved=new te,this.X=B,this.Settings=ke,this.Filter=be,this.ListChecks=xe,this.Ban=se,this.Plus=F,this.Trash2=R,this.activeTab=h("variables"),this.saving=h(!1),this.themeService=w(K),this.isDarkMode=this.themeService.isDarkMode,this.selectedChips=new Set,this.chipGroups=[{title:"Informaci\xF3n Personal",items:[{key:"NOMBRE",label:"Nombre"},{key:"NOMBRECOMPLETO",label:"Nombre Completo"},{key:"EMAIL",label:"Correo"}]},{title:"Informaci\xF3n Financiera",items:[{key:"LTD",label:"LTD"},{key:"LTDE",label:"LTDE"},{key:"LTD_LTDE",label:"LTD + LTDE"},{key:"BAJA30",label:"Baja 30"},{key:"SALDO_MORA",label:"Mora"},{key:"BAJA30_SALDOMORA",label:"Baja30 + Mora"},{key:"PKM",label:"PKM"},{key:"CAPITAL",label:"Capital"},{key:"DEUDA_TOTAL",label:"Deuda Total"},{key:"DIASMORA",label:"D\xEDas Mora"}]},{title:"Fechas",items:[{key:"HOY",label:"Hoy"},{key:"MANANA",label:"Ma\xF1ana"}]},{title:"Cuenta",items:[{key:"NUMCUENTAPMCP",label:"N\xFAmero de Cuenta"}]}],this.rangeFields=[{key:"BAJA30",label:"Baja 30"},{key:"SALDO_MORA",label:"Mora"},{key:"DEUDA_TOTAL",label:"Deuda Total"},{key:"CAPITAL",label:"Capital"},{key:"DIASMORA",label:"D\xEDas Mora"}],this.form=this.fb.nonNullable.group({nombre:["",re.required],tramo:["3"],plantillaTexto:["",re.required],importeExtra:[0],rangos:this.fb.array([]),noContenido:[!1],excluirPromesasPeriodoActual:[!1],excluirCompromisos:[!1],excluirBlacklist:[!1]}),this.condiciones=[],this.previewSample=h(null),this.previewText=L(()=>{let n=this.form.get("plantillaTexto")?.value||"",m=this.previewSample();return!m||!n?"":Q(n,m)}),this.smsLen=n=>Z(n)}ngOnInit(){this.combo&&this.loadComboData()}loadComboData(){this.form.patchValue({nombre:this.combo.name||"",tramo:this.combo.tramo||"3",plantillaTexto:this.combo.plantillaTexto||"",importeExtra:this.combo.importeExtra||0,noContenido:this.combo.restricciones?.noContenido||!1,excluirPromesasPeriodoActual:this.combo.restricciones?.excluirPromesasPeriodoActual||!1,excluirCompromisos:this.combo.restricciones?.excluirCompromisos||!1,excluirBlacklist:this.combo.restricciones?.excluirBlacklist||!1}),this.selectedChips.clear(),this.combo.selects&&this.combo.selects.forEach(r=>this.selectedChips.add(r)),this.rangosFA.clear(),(this.combo.rangos||[]).forEach(r=>{this.rangosFA.push(this.fb.nonNullable.group({field:[r.field||"BAJA30"],min:[r.min||0],max:[r.max||0],inclusiveMin:[r.inclusiveMin!==!1],inclusiveMax:[r.inclusiveMax!==!1],useMin:[r.useMin!==!1],useMax:[r.useMax!==!1],mode:[r.mode||"gt"]}))}),this.condiciones=this.combo.condiciones||[],this.loadPreviewSample()}loadPreviewSample(){this.api.previewFromCombo(this.combo.id,1).subscribe({next:e=>{e&&e.length>0&&this.previewSample.set(e[0])}})}toggleChip(e,r=!0){this.selectedChips.has(e)?this.selectedChips.delete(e):(this.selectedChips.add(e),e==="LTD_LTDE"?(this.selectedChips.delete("LTD"),this.selectedChips.delete("LTDE")):(e==="LTD"||e==="LTDE")&&this.selectedChips.delete("LTD_LTDE"),e==="BAJA30_SALDOMORA"?(this.selectedChips.delete("BAJA30"),this.selectedChips.delete("SALDO_MORA")):(e==="BAJA30"||e==="SALDO_MORA")&&this.selectedChips.delete("BAJA30_SALDOMORA"))}isActive(e){return this.selectedChips.has(e)}isChipDisabled(e){return!1}addRange(){this.rangosFA.push(this.fb.nonNullable.group({field:["BAJA30"],min:[0],max:[0],inclusiveMin:[!0],inclusiveMax:[!0],useMin:[!0],useMax:[!1],mode:["gt"]}))}removeRange(e){this.rangosFA.removeAt(e)}changeOperator(e,r){this.rangosFA.at(e).patchValue({mode:r,useMin:r==="gt",useMax:r==="lt"})}toggleInterval(e,r){this.rangosFA.at(e).patchValue({useMin:r,useMax:r})}fieldLabel(e){return this.rangeFields.find(r=>r.key===e)?.label||e}toggleCond(e,r){if(e.target.checked)this.condiciones.includes(r)||this.condiciones.push(r);else{let n=this.condiciones.indexOf(r);n>=0&&this.condiciones.splice(n,1)}}isConditionChecked(e){return this.condiciones.includes(e)}close(){this.closed.emit()}save(){if(this.form.invalid)return;this.saving.set(!0);let e=this.form.getRawValue(),r={name:e.nombre,tramo:e.tramo,selects:Array.from(this.selectedChips),plantillaTexto:e.plantillaTexto,importeExtra:e.importeExtra,rangos:e.rangos,condiciones:this.condiciones,restricciones:{noContenido:e.noContenido,excluirPromesasPeriodoActual:e.excluirPromesasPeriodoActual,excluirCompromisos:e.excluirCompromisos,excluirBlacklist:e.excluirBlacklist}};this.api.update(this.combo.id,r).subscribe({next:()=>{this.saving.set(!1),this.saved.emit(),this.close()},error:n=>{console.error("Error saving combo:",n),this.saving.set(!1)}})}};d.\u0275fac=function(r){return new(r||d)(ee(Y),ee(W))},d.\u0275cmp=T({type:d,selectors:[["app-edit-combo-modal"]],inputs:{combo:"combo"},outputs:{closed:"closed",saved:"saved"},decls:60,vars:34,consts:[["noPreview",""],[1,"fixed","inset-0","bg-black/60","dark:bg-black/70","backdrop-blur-sm","z-[999]","animate-fade-in",3,"click"],[1,"fixed","inset-0","z-2000","flex","items-center","justify-center","p-4","pointer-events-none"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","w-full","max-w-5xl","max-h-[90vh]","flex","flex-col","overflow-hidden","animate-scale-in","pointer-events-auto"],[1,"flex","items-center","justify-between","px-4","py-3","border-b","border-gray-200","dark:border-gray-700","bg-gradient-to-r","from-blue-600","to-violet-600"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"text-lg","font-bold","text-white","truncate"],[1,"px-2","py-1","border-0","rounded-md","bg-white/20","text-white","text-sm","font-medium","cursor-pointer","focus:outline-none","focus:ring-2","focus:ring-white/50","backdrop-blur-sm",3,"formControl"],["value","3",1,"text-gray-900"],["value","5",1,"text-gray-900"],["value","CONTACTO_TOTAL",1,"text-gray-900"],[1,"p-1.5","hover:bg-white/20","rounded-lg","text-white","transition-colors","cursor-pointer","flex-shrink-0",3,"click"],[3,"img","size"],[1,"flex-1","overflow-y-auto",3,"formGroup"],[1,"grid","grid-cols-[1fr_340px]","divide-x","divide-gray-200","dark:divide-gray-700","h-full"],[1,"flex","flex-col"],[1,"p-3","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-900/50"],["type","text","formControlName","nombre","placeholder","Nombre del tenor",1,"w-full","px-3","py-1.5","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","font-medium","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","shadow-sm"],[1,"flex","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],["type","button",1,"flex-1","flex","items-center","justify-center","gap-1","px-3","py-2","text-xs","font-medium","transition-all","cursor-pointer","border-b-2",3,"click"],[1,"flex-1","overflow-y-auto","p-3","bg-white","dark:bg-gray-900"],["class","animate-fade-in",4,"ngIf"],[1,"flex","flex-col","bg-gray-50","dark:bg-gray-900/50"],[1,"p-3","border-b","border-gray-200","dark:border-gray-700"],[1,"block","text-[10px]","font-bold","text-gray-500","dark:text-gray-400","uppercase","tracking-wider","mb-1.5"],["formControlName","plantillaTexto","rows","5","placeholder","Escribe tu mensaje SMS...",1,"w-full","px-2","py-1.5","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-xs","focus:outline-none","focus:ring-1","focus:ring-blue-500","dark:focus:ring-blue-400","transition-all","resize-none"],[1,"flex","items-center","justify-between","mt-1.5"],[1,"text-[10px]","font-semibold","text-gray-500","dark:text-gray-400"],[1,"text-[10px]","font-bold"],[1,"flex-1","p-3","overflow-y-auto"],["class","p-2.5 bg-gradient-to-r from-blue-600 to-violet-600 text-white rounded-lg text-xs leading-relaxed shadow-lg min-h-[80px]",4,"ngIf","ngIfElse"],[1,"flex","gap-2","px-4","py-2.5","border-t","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],["type","button",1,"flex-1","px-3","py-1.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-700","dark:text-gray-300","text-xs","font-medium","hover:bg-gray-100","dark:hover:bg-gray-600","transition-all","cursor-pointer",3,"click"],["type","button",1,"flex-1","px-3","py-1.5","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-xs","font-medium","transition-all","shadow-sm","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"animate-fade-in"],[1,"space-y-2"],[4,"ngFor","ngForOf"],["class","mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"border-b","border-gray-200","dark:border-gray-700","pb-2","last:border-0","last:pb-0"],[1,"text-[10px]","font-bold","text-gray-500","dark:text-gray-400","uppercase","tracking-wider","mb-1.5"],[1,"flex","flex-wrap","gap-1.5"],["type","button",3,"class","disabled","click",4,"ngFor","ngForOf"],["type","button",3,"click","disabled"],[1,"mt-3","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-2"],[1,"text-xs","font-semibold","text-gray-700","dark:text-gray-300"],["type","number","min","0","step","1","formControlName","importeExtra","placeholder","0",1,"w-20","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-xs","focus:outline-none","focus:ring-1","focus:ring-blue-500","dark:focus:ring-blue-400","transition-all"],["type","button",1,"w-full","flex","items-center","justify-center","gap-1.5","px-3","py-1.5","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-xs","font-medium","transition-all","shadow-sm","cursor-pointer","mb-2",3,"click"],["class","bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-2",3,"formGroup",4,"ngFor","ngForOf"],[1,"bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-lg","p-2",3,"formGroup"],[1,"flex","items-center","gap-2","mb-2"],["formControlName","field",1,"flex-1","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-xs","cursor-pointer","focus:outline-none","focus:ring-1","focus:ring-blue-500"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"p-1","bg-red-50","dark:bg-red-900/30","border","border-red-300","dark:border-red-700","rounded-md","text-red-700","dark:text-red-300","hover:bg-red-100","dark:hover:bg-red-900/50","transition-all","cursor-pointer",3,"click"],["class","flex items-center gap-1.5 flex-wrap text-xs",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"flex","items-center","gap-1.5","flex-wrap","text-xs"],["type","number","formControlName","min","placeholder","m\xEDn",1,"w-16","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-xs"],[1,"flex","items-center","gap-0.5","cursor-pointer"],["type","checkbox","formControlName","inclusiveMin",1,"w-3","h-3"],[1,"font-bold","text-gray-700","dark:text-gray-300"],[1,"px-2","py-0.5","bg-blue-100","dark:bg-blue-900/30","text-blue-700","dark:text-blue-300","rounded","text-[10px]","font-bold"],["type","checkbox","formControlName","inclusiveMax",1,"w-3","h-3"],["type","number","formControlName","max","placeholder","m\xE1x",1,"w-16","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-xs"],[1,"flex","gap-1.5","mb-2"],["type","button",3,"click"],[1,"space-y-1.5","text-xs"],["class","flex items-center gap-1.5",4,"ngIf"],[1,"flex","items-center","gap-1.5","mt-2","cursor-pointer","text-xs","text-gray-700","dark:text-gray-300"],["type","checkbox",1,"w-3","h-3",3,"change","checked"],[1,"flex","items-center","gap-1.5"],[1,"font-bold"],["type","number","formControlName","min","placeholder","valor",1,"w-20","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-xs"],["type","number","formControlName","max","placeholder","valor",1,"w-20","px-2","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-xs"],[1,"grid","grid-cols-1","gap-2"],[1,"flex","items-center","gap-2","p-2","bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-lg","cursor-pointer","hover:bg-blue-50","dark:hover:bg-gray-600","transition-all"],["type","checkbox",1,"w-3.5","h-3.5",3,"change","checked"],[1,"text-xs","font-medium","text-gray-700","dark:text-gray-300"],["type","checkbox","formControlName","noContenido",1,"w-3.5","h-3.5"],["type","checkbox","formControlName","excluirPromesasPeriodoActual",1,"w-3.5","h-3.5"],["type","checkbox","formControlName","excluirCompromisos",1,"w-3.5","h-3.5"],["type","checkbox","formControlName","excluirBlacklist",1,"w-3.5","h-3.5"],[1,"p-2.5","bg-gradient-to-r","from-blue-600","to-violet-600","text-white","rounded-lg","text-xs","leading-relaxed","shadow-lg","min-h-[80px]"],[1,"p-4","text-center","text-xs","text-gray-500","dark:text-gray-400","bg-white","dark:bg-gray-800","rounded-lg","border","border-gray-200","dark:border-gray-700","border-dashed","min-h-[80px]","flex","items-center","justify-center"]],template:function(r,n){if(r&1){let m=C();o(0,"div",1),_("click",function(){return u(m),x(n.close())}),a(),o(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6),s(6),a(),o(7,"select",7)(8,"option",8),s(9,"Tramo 3"),a(),o(10,"option",9),s(11,"Tramo 5"),a(),o(12,"option",10),s(13,"Cartera Propia"),a()()(),o(14,"button",11),_("click",function(){return u(m),x(n.close())}),p(15,"lucide-angular",12),a()(),o(16,"form",13)(17,"div",14)(18,"div",15)(19,"div",16),p(20,"input",17),a(),o(21,"div",18)(22,"button",19),_("click",function(){return u(m),x(n.activeTab.set("variables"))}),p(23,"lucide-angular",12),s(24," Variables "),a(),o(25,"button",19),_("click",function(){return u(m),x(n.activeTab.set("rangos"))}),p(26,"lucide-angular",12),s(27," Rangos "),a(),o(28,"button",19),_("click",function(){return u(m),x(n.activeTab.set("condiciones"))}),p(29,"lucide-angular",12),s(30," Condiciones "),a(),o(31,"button",19),_("click",function(){return u(m),x(n.activeTab.set("restricciones"))}),p(32,"lucide-angular",12),s(33," Restricciones "),a()(),o(34,"div",20),k(35,je,4,2,"div",21)(36,Ye,6,3,"div",21)(37,He,18,4,"div",21)(38,Ke,18,0,"div",21),a()(),o(39,"div",22)(40,"div",23)(41,"label",24),s(42,"Plantilla SMS"),a(),p(43,"textarea",25),o(44,"div",26)(45,"span",27),s(46,"Caracteres:"),a(),o(47,"span",28),s(48),a()()(),o(49,"div",29)(50,"label",24),s(51,"Vista Previa"),a(),k(52,We,2,1,"div",30)(53,Qe,2,0,"ng-template",null,0,S),a()()()(),o(55,"div",31)(56,"button",32),_("click",function(){return u(m),x(n.close())}),s(57," Cancelar "),a(),o(58,"button",33),_("click",function(){return u(m),x(n.save())}),s(59),a()()()()}if(r&2){let m,b,f=P(54);l(),y("dark",n.isDarkMode()),l(5),v(n.combo.name),l(),c("formControl",n.form.controls.tramo),l(8),c("img",n.X)("size",20),l(),c("formGroup",n.form),l(6),M(n.activeTab()==="variables"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),c("img",n.Settings)("size",14),l(2),M(n.activeTab()==="rangos"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),c("img",n.Filter)("size",14),l(2),M(n.activeTab()==="condiciones"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),c("img",n.ListChecks)("size",14),l(2),M(n.activeTab()==="restricciones"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),c("img",n.Ban)("size",14),l(3),c("ngIf",n.activeTab()==="variables"),l(),c("ngIf",n.activeTab()==="rangos"),l(),c("ngIf",n.activeTab()==="condiciones"),l(),c("ngIf",n.activeTab()==="restricciones"),l(9),M((((m=n.form.get("plantillaTexto"))==null||m.value==null?null:m.value.length)||0)>160?"text-red-600 dark:text-red-400":"text-blue-700 dark:text-blue-400"),l(),O(" ",((b=n.form.get("plantillaTexto"))==null||b.value==null?null:b.value.length)||0,"/160 "),l(4),c("ngIf",n.previewText())("ngIfElse",f),l(6),c("disabled",n.form.invalid||n.saving()),l(),O(" ",n.saving()?"Guardando...":"Guardar"," ")}},dependencies:[V,N,I,H,Me,q,X,$,Oe,Ce,G,U,ye,Se,J,we,Pe,j,z],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:not(.dark)   .bg-black\\/60[_ngcontent-%COMP%]{background-color:#0009!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-800"][_ngcontent-%COMP%]{background-color:#fff!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-900"][_ngcontent-%COMP%]{background-color:#fff!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-700"][_ngcontent-%COMP%]{background-color:#f3f4f6!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-600"][_ngcontent-%COMP%]{background-color:#e5e7eb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-700/50"][_ngcontent-%COMP%]{background-color:#f9fafb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-800/50"][_ngcontent-%COMP%]{background-color:#f9fafb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-blue-900/30"][_ngcontent-%COMP%]{background-color:#dbeafe!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-red-900/30"][_ngcontent-%COMP%]{background-color:#fee2e2!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-white"][_ngcontent-%COMP%]{color:#111827!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-100"][_ngcontent-%COMP%]{color:#111827!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-200"][_ngcontent-%COMP%]{color:#1f2937!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-300"][_ngcontent-%COMP%]{color:#374151!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-400"][_ngcontent-%COMP%]{color:#6b7280!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-300"][_ngcontent-%COMP%]{color:#1d4ed8!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-400"][_ngcontent-%COMP%]{color:#2563eb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-red-300"][_ngcontent-%COMP%]{color:#b91c1c!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-red-400"][_ngcontent-%COMP%]{color:#dc2626!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-700"][_ngcontent-%COMP%]{border-color:#e5e7eb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-600"][_ngcontent-%COMP%]{border-color:#d1d5db!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-blue-400"][_ngcontent-%COMP%]{border-color:#60a5fa!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-blue-500"][_ngcontent-%COMP%]{border-color:#3b82f6!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-red-700"][_ngcontent-%COMP%]{border-color:#ef4444!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:divide-gray-700"][_ngcontent-%COMP%]{border-color:#e5e7eb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:hover:bg-gray-700"][_ngcontent-%COMP%]:hover{background-color:#f3f4f6!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:hover:bg-gray-600"][_ngcontent-%COMP%]:hover{background-color:#e5e7eb!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:hover:text-gray-200"][_ngcontent-%COMP%]:hover{color:#1f2937!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:hover:bg-red-900/50"][_ngcontent-%COMP%]:hover{background-color:#fecaca!important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:focus:ring-blue-400"][_ngcontent-%COMP%]:focus{--tw-ring-color: rgb(96 165 250) !important}[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:focus:border-blue-400"][_ngcontent-%COMP%]:focus{border-color:#60a5fa!important}[_ngcontent-%COMP%]:not(.dark)   div[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#f9fafb!important}[_ngcontent-%COMP%]:not(.dark)   div[class*=bg-white][_ngcontent-%COMP%]{background-color:#fff!important}[_ngcontent-%COMP%]:not(.dark)   button[class*=bg-gray-100][_ngcontent-%COMP%]{background-color:#f3f4f6!important}[_ngcontent-%COMP%]:not(.dark)   input[class*=border-gray-300][_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.dark)   textarea[class*=border-gray-300][_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.dark)   select[class*=border-gray-300][_ngcontent-%COMP%]{border-color:#d1d5db!important;background-color:#fff!important;color:#111827!important}[_ngcontent-%COMP%]:not(.dark)   button[class*=bg-white][class*=border-gray-300][_ngcontent-%COMP%]:not([class*=from-blue-600]){background-color:#fff!important;border-color:#d1d5db!important;color:#374151!important}[_ngcontent-%COMP%]:not(.dark)   span[class*=bg-blue-100][class*=text-blue-700][_ngcontent-%COMP%]{background-color:#dbeafe!important;color:#1d4ed8!important}[_ngcontent-%COMP%]:not(.dark)   div[class*=bg-gray-50][class*=border-gray-200][_ngcontent-%COMP%]{background-color:#f9fafb!important;border-color:#e5e7eb!important}.dark[_ngcontent-%COMP%]   .bg-black\\/60[_ngcontent-%COMP%]{background-color:#000000b3!important}.dark[_ngcontent-%COMP%]   div[class*=bg-white][_ngcontent-%COMP%]{background-color:#1f2937!important}.dark[_ngcontent-%COMP%]   div[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#111827!important}.dark[_ngcontent-%COMP%]   div[class*=bg-gray-100][_ngcontent-%COMP%]{background-color:#374151!important}.dark[_ngcontent-%COMP%]   div[class*=bg-gray-200][_ngcontent-%COMP%]{background-color:#4b5563!important}.dark[_ngcontent-%COMP%]   div[class*=bg-blue-50][_ngcontent-%COMP%]{background-color:#1e3a8a!important}.dark[_ngcontent-%COMP%]   *[class*=text-gray-900][_ngcontent-%COMP%]{color:#fff!important}.dark[_ngcontent-%COMP%]   *[class*=text-gray-700][_ngcontent-%COMP%]{color:#f3f4f6!important}.dark[_ngcontent-%COMP%]   *[class*=text-gray-600][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   *[class*=text-gray-500][_ngcontent-%COMP%]{color:#9ca3af!important}.dark[_ngcontent-%COMP%]   *[class*=text-blue-700][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   *[class*=text-blue-600][_ngcontent-%COMP%]{color:#60a5fa!important}.dark[_ngcontent-%COMP%]   *[class*=text-red-600][_ngcontent-%COMP%]{color:#f87171!important}.dark[_ngcontent-%COMP%]   *[class*=text-red-700][_ngcontent-%COMP%]{color:#fca5a5!important}.dark[_ngcontent-%COMP%]   *[class*=border-gray-200][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   *[class*=border-gray-300][_ngcontent-%COMP%]{border-color:#374151!important}.dark[_ngcontent-%COMP%]   *[class*=border-gray-400][_ngcontent-%COMP%]{border-color:#4b5563!important}.dark[_ngcontent-%COMP%]   *[class*=border-blue-300][_ngcontent-%COMP%]{border-color:#1e40af!important}.dark[_ngcontent-%COMP%]   *[class*=border-red-300][_ngcontent-%COMP%]{border-color:#991b1b!important}.dark[_ngcontent-%COMP%]   *[class*=divide-gray-200][_ngcontent-%COMP%]{border-color:#374151!important}.dark[_ngcontent-%COMP%]   *[class*="hover:bg-gray-100"][_ngcontent-%COMP%]:hover{background-color:#374151!important}.dark[_ngcontent-%COMP%]   *[class*="hover:bg-blue-50"][_ngcontent-%COMP%]:hover{background-color:#1e3a8a!important}.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]), .dark[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#374151!important;border-color:#4b5563!important;color:#fff!important}.dark[_ngcontent-%COMP%]   button[class*=bg-white][class*=border-gray-300][_ngcontent-%COMP%]:not([class*=from-blue-600]){background-color:#374151!important;border-color:#4b5563!important;color:#d1d5db!important}.dark[_ngcontent-%COMP%]   span[class*=bg-blue-100][class*=text-blue-700][_ngcontent-%COMP%]{background-color:#1e3a8a80!important;color:#60a5fa!important}.dark[_ngcontent-%COMP%]   label[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#374151!important;border-color:#4b5563!important}.dark[_ngcontent-%COMP%]   label[class*=bg-gray-50][_ngcontent-%COMP%]:hover{background-color:#4b5563!important}.dark[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[class*=text-gray-700][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   label[class*=text-xs][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d1d5db!important}.dark[_ngcontent-%COMP%]   div[class*=bg-gray-50][class*=border-gray-200][_ngcontent-%COMP%]{background-color:#37415180!important;border-color:#4b5563!important}.dark[_ngcontent-%COMP%]   div[class*=flex][class*=border-b][class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#1f2937!important}.dark[_ngcontent-%COMP%]   button[class*=border-transparent][class*=text-gray-600][_ngcontent-%COMP%]{background-color:transparent!important;color:#9ca3af!important}.dark[_ngcontent-%COMP%]   button[class*=border-transparent][class*=text-gray-600][_ngcontent-%COMP%]:hover{background-color:#374151!important;color:#d1d5db!important}.dark[_ngcontent-%COMP%]   button[class*=bg-white][class*=border-blue-600][_ngcontent-%COMP%]{background-color:#1f2937!important;color:#60a5fa!important;border-bottom-color:#60a5fa!important}.dark[_ngcontent-%COMP%]   div[class*=flex-1][class*=overflow-y-auto][class*=bg-white][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   div[class*=flex][class*=flex-col][class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#111827!important}.dark[_ngcontent-%COMP%]   div[class*=p-3][class*=border-b][class*=border-gray-200][_ngcontent-%COMP%]{background-color:#1f2937!important}.dark[_ngcontent-%COMP%]   div[class*=flex-1][class*=p-3][class*=overflow-y-auto][_ngcontent-%COMP%]{background-color:#111827!important}.dark[_ngcontent-%COMP%]   div[class*=bg-white][class*=border-dashed][_ngcontent-%COMP%]{background-color:#1f2937!important;border-color:#4b5563!important}.dark[_ngcontent-%COMP%]   div[class*=text-gray-500][class*=uppercase][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   label[class*=text-gray-500][class*=uppercase][_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   span[class*=text-gray-500][_ngcontent-%COMP%]{color:#9ca3af!important}.dark[_ngcontent-%COMP%]   input[class*=border-gray-300][class*=bg-white][_ngcontent-%COMP%]{background-color:#374151!important;border-color:#4b5563!important;color:#fff!important}.dark[_ngcontent-%COMP%]   div[class*=flex][class*=gap-2][class*=border-t][class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#1f2937!important}.dark[_ngcontent-%COMP%]   button[class*=bg-white][class*=border-gray-300][_ngcontent-%COMP%]:not([class*=from-blue]):not([class*=from-violet]){background-color:#374151!important;border-color:#4b5563!important;color:#d1d5db!important}.dark[_ngcontent-%COMP%]   button[class*=bg-white][class*=border-gray-300][_ngcontent-%COMP%]:not([class*=from-blue]):not([class*=from-violet]):hover{background-color:#4b5563!important}.dark[_ngcontent-%COMP%]   div[class*=p-3][class*=border-b][class*=bg-gray-50][_ngcontent-%COMP%]:has(input){background-color:#1f2937!important}']});let i=d;return i})();function Ze(i,d){if(i&1){let t=C();o(0,"button",28),_("click",function(){let r=u(t).$implicit,n=g();return x(n.toggleChip(r.key))}),s(1),a()}if(i&2){let t=d.$implicit,e=g();M(e.isSelected(t.key)?"px-3.5 py-2 rounded-lg text-white text-xs font-bold bg-gradient-to-r from-blue-600 to-violet-600 hover:from-blue-700 hover:to-violet-700 shadow-md shadow-blue-500/25 hover:shadow-lg hover:shadow-blue-500/35 transition-all cursor-pointer":"px-3.5 py-2 rounded-lg text-gray-700 dark:text-gray-300 text-xs font-semibold bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-700 dark:hover:text-blue-300 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all cursor-pointer shadow-sm"),l(),O(" ",t.label," ")}}function et(i,d){if(i&1&&(o(0,"span",45),s(1),a()),i&2){let t=d.$implicit;l(),O(" ",t==="SALDO_MORA"?"MORA":t==="LTD_LTDE"?"LTD+LTDE":t," ")}}function tt(i,d){if(i&1){let t=C();o(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34),p(4,"lucide-angular",35),a(),o(5,"h3",36),s(6),a()(),o(7,"div",37)(8,"button",38),_("click",function(){let r=u(t).$implicit,n=g(2);return x(n.preview(r))}),p(9,"lucide-angular",19),o(10,"span"),s(11,"Ver"),a()(),o(12,"button",39),_("click",function(){let r=u(t).$implicit,n=g(2);return x(n.openEdit(r))}),p(13,"lucide-angular",19),o(14,"span"),s(15,"Editar"),a()()()(),o(16,"p",40),s(17),a(),o(18,"div",41)(19,"span",42),s(20,"Variables:"),a(),o(21,"div",43),k(22,et,2,1,"span",44),a()()()}if(i&2){let t=d.$implicit,e=g(2);l(4),c("img",e.MessageSquare)("size",16),l(2),O(" ",t.name||"(Sin nombre)"," "),l(3),c("img",e.Eye)("size",14),l(4),c("img",e.Edit)("size",14),l(4),v(t.plantillaTexto||"(sin mensaje)"),l(5),c("ngForOf",e.visibleTags(t))}}function rt(i,d){if(i&1&&(o(0,"div",29),k(1,tt,23,9,"div",30),a()),i&2){let t=g();l(),c("ngForOf",t.filtered())("ngForTrackBy",t.trackById)}}function nt(i,d){if(i&1&&(o(0,"div",46),p(1,"lucide-angular",47),o(2,"h3",48),s(3,"No hay tenores disponibles"),a(),o(4,"p",49),s(5,"Crea un nuevo tenor o ajusta los filtros"),a()()),i&2){let t=g();l(),c("img",t.Inbox)("size",48)}}function ot(i,d){if(i&1){let t=C();o(0,"div",50),_("click",function(){u(t);let r=g();return x(r.closePreview())}),a()}if(i&2){let t=g();y("bg-black/50",!t.isDarkMode())("bg-black/70",t.isDarkMode())}}function it(i,d){if(i&1&&(o(0,"div",65)(1,"span",66),s(2),a(),o(3,"span",67),s(4),a()()),i&2){let t=d.$implicit;l(2),v(t[0]),l(2),v(t[1])}}function at(i,d){if(i&1&&(o(0,"div",68)(1,"label",69),s(2,"Vista previa SMS"),a(),o(3,"div",70),s(4),a(),o(5,"div",71)(6,"span",72),s(7,"Caracteres:"),a(),o(8,"span",73),s(9),a()()()),i&2){let t=g(4);l(4),v(t.previewSms()),l(5),O("",t.smsLen(t.previewSms()).chars,"/160")}}function lt(i,d){if(i&1&&(A(0),o(1,"div",61)(2,"div",62),k(3,it,5,2,"div",63),a()(),k(4,at,10,2,"div",64),D()),i&2){let t=g(3);l(3),c("ngForOf",t.previewPairs()),l(),c("ngIf",t.previewSms())}}function st(i,d){if(i&1&&(o(0,"div",59),k(1,lt,5,2,"ng-container",60),a()),i&2){let t=g(2),e=P(36);l(),c("ngIf",t.previewRow())("ngIfElse",e)}}function dt(i,d){if(i&1){let t=C();o(0,"aside",51)(1,"div",52)(2,"h3",53),s(3),a(),o(4,"button",54),_("click",function(){u(t);let r=g();return x(r.closePreview())}),p(5,"lucide-angular",19),a()(),k(6,st,2,2,"div",55),o(7,"div",56)(8,"button",57),_("click",function(){u(t);let r=g();return x(r.exportSelected())}),p(9,"lucide-angular",19),o(10,"span"),s(11,"Exportar"),a()(),o(12,"button",58),_("click",function(){u(t);let r=g();return x(r.removeSelected())}),p(13,"lucide-angular",19),o(14,"span"),s(15,"Eliminar"),a()()()()}if(i&2){let t=g(),e=P(34);y("dark",t.isDarkMode())("bg-white",!t.isDarkMode())("bg-gray-800",t.isDarkMode())("border-l",!0)("border-gray-300",!t.isDarkMode())("border-gray-700",t.isDarkMode()),l(3),v(t.previewTitle()),l(2),c("img",t.X)("size",18),l(),c("ngIf",!t.previewLoading())("ngIfElse",e),l(3),c("img",t.Download)("size",16),l(4),c("img",t.Trash2)("size",16)}}function ct(i,d){i&1&&(o(0,"div",74),p(1,"div",75),o(2,"p",76),s(3,"Cargando..."),a()())}function gt(i,d){if(i&1&&(o(0,"div",74),p(1,"lucide-angular",77),o(2,"p",76),s(3,"Sin informaci\xF3n"),a()()),i&2){let t=g();l(),c("img",t.Info)("size",32)}}function mt(i,d){if(i&1){let t=C();o(0,"div",78)(1,"div",79)(2,"div",80),s(3,"\u26A0\uFE0F"),a(),o(4,"h3",81),s(5,"Atenci\xF3n"),a(),o(6,"p",82),s(7),a(),o(8,"button",83),_("click",function(){u(t);let r=g();return x(r.closeAlert())}),s(9," Entendido "),a()()()}if(i&2){let t=g();y("bg-black/60",!t.isDarkMode())("bg-black/70",t.isDarkMode()),l(),y("dark",t.isDarkMode())("bg-white",!t.isDarkMode())("bg-gray-800",t.isDarkMode())("border",!0)("border-gray-200",!t.isDarkMode())("border-gray-700",t.isDarkMode()),l(3),y("text-gray-900",!t.isDarkMode())("text-gray-100",t.isDarkMode()),l(2),y("text-gray-700",!t.isDarkMode())("text-gray-300",t.isDarkMode()),l(),v(t.alertMessage())}}function bt(i,d){if(i&1&&(o(0,"small",87),s(1),a()),i&2){let t,e=g(2);y("text-gray-700",!e.isDarkMode())("text-gray-400",e.isDarkMode()),l(),v((t=e.loadingModal().data)==null?null:t.subtitle)}}function pt(i,d){if(i&1&&(o(0,"div",78)(1,"div",79),p(2,"div",84),o(3,"p",85),s(4),a(),k(5,bt,2,5,"small",86),a()()),i&2){let t,e,r=g();y("bg-black/60",!r.isDarkMode())("bg-black/70",r.isDarkMode()),l(),y("dark",r.isDarkMode())("bg-white",!r.isDarkMode())("bg-gray-800",r.isDarkMode())("border",!0)("border-gray-200",!r.isDarkMode())("border-gray-700",r.isDarkMode()),l(),y("border-3",!0)("border-gray-300",!r.isDarkMode())("border-gray-600",r.isDarkMode())("border-t-blue-600",!r.isDarkMode())("border-t-blue-400",r.isDarkMode()),l(),y("text-gray-900",!r.isDarkMode())("text-gray-100",r.isDarkMode()),l(),v(((t=r.loadingModal().data)==null?null:t.title)||"Procesando..."),l(),c("ngIf",(e=r.loadingModal().data)==null?null:e.subtitle)}}function ut(i,d){if(i&1){let t=C();o(0,"app-edit-combo-modal",88),_("closed",function(){u(t);let r=g();return x(r.closeEditModal())})("saved",function(){u(t);let r=g();return x(r.onComboSaved())}),a()}if(i&2){let t=g();c("combo",t.editingCombo())}}var zt=(()=>{let d=class d{openEdit(e){this.editingCombo.set(e),this.editModalOpen.set(!0),this.lockBodyScroll(!0)}closeEditModal(){this.editModalOpen.set(!1),this.editingCombo.set(null),this.lockBodyScroll(!1)}onComboSaved(){this.load()}labelOf(e){return e==="TELEFONOCELULAR"?"TEL\xC9FONO":e==="DEUDA_TOTAL"?"DEUDA TOTAL":e.replaceAll("_"," ").toUpperCase()}preview(e){this.lockBodyScroll(!0),this.previewOpen.set(!0),this.previewTitle.set(`${e.name}`),this.previewLoading.set(!0),this.previewRow.set(null),this.previewSms.set(null),this.selectedCombo.set(e),this.api.previewFromCombo(e.id,1e3).subscribe({next:r=>{let n=r?.[0]??{};this.previewRow.set(n);let m=b=>{let f=Q(b||"",n);this.previewSms.set(f||"(sin texto)"),this.previewLoading.set(!1)};e.plantillaTexto?m(e.plantillaTexto):e.plantillaSmsId?this.api.getPlantillaTexto(e.plantillaSmsId).subscribe({next:b=>m(typeof b=="string"?b:b?.template??""),error:b=>{this.previewSms.set("(no se pudo cargar el texto)"),this.previewLoading.set(!1)}}):(this.previewSms.set("(sin texto de SMS)"),this.previewLoading.set(!1))},error:r=>{this.previewLoading.set(!1),this.previewSms.set("(error al obtener preview)")}})}constructor(){this.Plus=F,this.Eye=ge,this.Edit=ve,this.X=B,this.XCircle=de,this.Download=ce,this.Trash2=R,this.Inbox=pe,this.Info=ue,this.Search=fe,this.MessageSquare=_e,this.Tags=he,this.FileBadge=me,this.api=w(W),this.fb=w(Y),this.router=w(le),this.themeService=w(K),this.isDarkMode=this.themeService.isDarkMode,this.previewSms=h(null),this.smsLen=e=>Z(e),this.editModalOpen=h(!1),this.editingCombo=h(null),this.selectedCombo=h(null),this.previewOpen=h(!1),this.previewTitle=h(""),this.previewRow=h(null),this.previewLoading=h(!1),this.previewOrder=["DOCUMENTO","TELEFONOCELULAR","NOMBRE","BAJA30","DEUDA_TOTAL"],this.all=h([]),this.loading=h(!1),this.chips=[{key:"NOMBRE",label:"Nombre"},{key:"LTD",label:"LTD"},{key:"LTDE",label:"LTDE"},{key:"LTD_LTDE",label:"LTD + LTDE"},{key:"BAJA30",label:"Baja 30"},{key:"SALDO_MORA",label:"Mora"},{key:"BAJA30_SALDOMORA",label:"Baja30 + Mora"},{key:"PKM",label:"PKM"},{key:"CAPITAL",label:"Capital"},{key:"DEUDA_TOTAL",label:"Deuda Total"},{key:"MANANA",label:"Ma\xF1ana"},{key:"HOY",label:"Hoy"},{key:"NOMBRECOMPLETO",label:"Nombre Completo"},{key:"EMAIL",label:"Correo"},{key:"NUMCUENTAPMCP",label:"N\xFAmero de Cuenta"},{key:"DIASMORA",label:"D\xEDas Mora"}],this.selected=h(new Set),this.form=this.fb.nonNullable.group({q:"",tramo:"ALL",soloActivos:!0}),this.filtersSig=Ee(this.form.valueChanges.pipe(ie(this.form.getRawValue())),{initialValue:this.form.getRawValue()}),this.filtered=L(()=>{let{q:e,tramo:r,soloActivos:n}=this.filtersSig(),m=this.selected(),b=(e??"").trim().toLowerCase();return this.all().filter(f=>{if(n&&!f.isActive||r!=="ALL"&&f.tramo!==r)return!1;if(m.size){let E=new Set(f.selects??[]),Le=E.has("NOMBRE")||/\{NOMBRE\}/i.test(f.plantillaTexto||"");for(let ne of m){if(ne==="NOMBRE"){if(!Le)return!1;continue}if(!E.has(ne))return!1}}return!(b&&!((f.name??"").toLowerCase().includes(b)||(f.plantillaTexto??"").toLowerCase().includes(b)))})}),this.alertMessage=h(""),this.loadingModal=h({isOpen:!1}),this.savedScrollTop=0,this.Math=Math,this.load(),ae(()=>this.filtered())}load(){this.loading.set(!0),this.api.list().subscribe({next:e=>{this.all.set(e??[]),this.loading.set(!1)},error:e=>{this.all.set([]),this.loading.set(!1)}})}trackById(e,r){return r.id}isSelected(e){return this.selected().has(e)}toggleChip(e){let r=new Set(this.selected());r.has(e)?r.delete(e):r.add(e),this.selected.set(r)}clearChips(){this.selected.set(new Set)}buildDownloadName(e){let r=new Date().toISOString().slice(0,10);return`${(e.name??`combo_${e.id}`).trim().replace(/[<>:"/\\|?*]+/g,"").replace(/\s+/g," ").slice(0,150)} - ${r}.xlsx`}alert(e,r="Aviso"){this.alertMessage.set(e)}closeAlert(){this.alertMessage.set("")}export(e){let r=e.id;this.loadingModal.set({isOpen:!0,data:{title:"Generando Excel\u2026",subtitle:"Preparando datos y creando archivo"}}),this.api.precheck(r).subscribe({next:n=>{if(!n.ok){this.loadingModal.set({isOpen:!1});let m=`${n.excedidos} ${n.excedidos===1?"fila":"filas"} superan los caracteres.`,b=(n.ejemplos??[]).map((f,E)=>`\u2022 ${f.len} caracteres \u2014 DNI: ${f.documento||"(sin DNI)"}`).join(`
`);this.alert(`${m}

Primeros ${Math.min((n.ejemplos??[]).length,3)} casos:
${b}`,"Mensaje demasiado largo");return}this.api.exportFromCombo(r).pipe(oe(()=>this.loadingModal.set({isOpen:!1}))).subscribe({next:m=>{let b=URL.createObjectURL(m),f=document.createElement("a");f.href=b,f.download=this.buildDownloadName(e),document.body.appendChild(f),f.click(),f.remove(),URL.revokeObjectURL(b)},error:m=>{this.loadingModal.set({isOpen:!1});let b=m?.status===422?m?.error?.message||"No hay filas para exportar con los filtros seleccionados.":m?.error?.message||m?.message||"Ocurri\xF3 un error al exportar.";this.alert(b,m?.status===422?"Sin resultados":"Error")}})},error:n=>{let m=n?.error?.message||n?.message||"No se pudo validar el SMS del combo.";this.alert(m,"Error en precheck")}})}exportSelected(){let e=this.selectedCombo();e&&this.export(e)}removeSelected(){let e=this.selectedCombo();e&&confirm(`\xBFEliminar el combo "${e.name}"?`)&&this.api.delete(e.id).subscribe(()=>{this.closePreview(),this.load()})}closePreview(){this.previewOpen.set(!1),this.lockBodyScroll(!1),this.previewSms.set(""),this.previewSms.set(null),this.previewRow.set(null),this.selectedCombo.set(null)}previewPairs(){let e=this.previewRow();if(!e)return[];let r=new Set,n=[];for(let b of this.previewOrder)e[b]!==void 0&&(n.push([this.labelOf(String(b)),e[b]]),r.add(String(b)));let m=[];for(let[b,f]of Object.entries(e))r.has(b)||m.push([this.labelOf(b),f]);return[...n,...m]}New(){this.router.navigate(["/sms/dynamic"])}remove(e){confirm(`\xBFEliminar el combo "${e.name}"?`)&&this.api.delete(e.id).subscribe(()=>this.load())}lockBodyScroll(e){let r=document.body;e?(this.savedScrollTop=window.scrollY||window.pageYOffset||0,r.style.top=`-${this.savedScrollTop}px`,r.classList.add("no-scroll")):(r.classList.remove("no-scroll"),r.style.top="",window.scrollTo(0,this.savedScrollTop||0))}visibleTags(e){let r=[...e.selects??[]];return/\{NOMBRE\}/i.test(e.plantillaTexto||"")&&!r.includes("NOMBRE")&&r.unshift("NOMBRE"),r}};d.\u0275fac=function(r){return new(r||d)},d.\u0275cmp=T({type:d,selectors:[["app-combo-list"]],decls:40,vars:22,consts:[["noData",""],["loadingTpl",""],["emptyTpl",""],[1,"min-h-screen","pt-24","px-8"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"group","flex","items-center","gap-2","px-4","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg","shadow-blue-500/20","hover:shadow-xl","hover:shadow-blue-500/30","cursor-pointer",3,"click"],[1,"group-hover:rotate-90","transition-transform",3,"img","size"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700","bg-white","dark:bg-gray-800"],[1,"flex","gap-3"],[1,"relative","flex-1","min-w-[300px]"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","dark:text-gray-500","pointer-events-none",3,"img","size"],["type","text","placeholder","Buscar tenor por nombre o texto...",1,"w-full","pl-10","pr-4","py-2.5","border","border-gray-300","dark:border-gray-600","rounded-lg","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm",3,"formControl"],[1,"px-3","py-2.5","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","font-medium","cursor-pointer","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm",3,"formControl"],["value","ALL"],["value","3"],["value","5"],[1,"flex","items-center","gap-1.5","px-3","py-2.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-700","dark:text-gray-300","text-sm","font-medium","hover:bg-gray-100","dark:hover:bg-gray-600","hover:border-gray-400","dark:hover:border-gray-500","transition-all","cursor-pointer","shadow-sm",3,"click"],[3,"img","size"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],[1,"flex","flex-wrap","gap-2"],[3,"class","click",4,"ngFor","ngForOf"],["class","p-4 flex flex-col gap-3 bg-gray-50 dark:bg-gray-900",4,"ngIf","ngIfElse"],["class","fixed inset-0 backdrop-blur-sm z-[999] animate-fade-in cursor-pointer",3,"bg-black/50","bg-black/70","click",4,"ngIf"],["class","fixed top-0 right-0 bottom-0 w-[400px] shadow-2xl z-[1000] flex flex-col animate-slide-in",3,"dark","bg-white","bg-gray-800","border-l","border-gray-300","border-gray-700",4,"ngIf"],["class","fixed inset-0 z-[2000] flex items-center justify-center animate-fade-in",3,"bg-black/60","bg-black/70",4,"ngIf"],[3,"combo","closed","saved",4,"ngIf"],[3,"click"],[1,"p-4","flex","flex-col","gap-3","bg-gray-50","dark:bg-gray-900"],["class","group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl p-4 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-lg transition-all",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-600","rounded-xl","p-4","hover:border-blue-400","dark:hover:border-blue-500","hover:shadow-lg","transition-all"],[1,"flex","justify-between","items-start","mb-3"],[1,"flex","items-center","gap-2.5","flex-1"],[1,"p-2","bg-blue-100","dark:bg-blue-900/40","rounded-lg","group-hover:scale-110","transition-transform"],[1,"",3,"img","size"],[1,"text-sm","font-bold","text-gray-900","dark:text-gray-100"],[1,"flex","gap-2"],[1,"flex","items-center","gap-1.5","px-3","py-2","bg-blue-50","dark:bg-blue-900/30","border","border-blue-300","dark:border-blue-700","rounded-lg","text-blue-700","dark:text-blue-300","text-xs","font-semibold","hover:bg-blue-100","dark:hover:bg-blue-900/50","hover:border-blue-400","dark:hover:border-blue-600","transition-all","cursor-pointer",3,"click"],[1,"flex","items-center","gap-1.5","px-3","py-2","bg-gray-100","dark:bg-gray-600","border","border-gray-300","dark:border-gray-500","rounded-lg","text-gray-700","dark:text-gray-200","text-xs","font-semibold","hover:bg-gray-200","dark:hover:bg-gray-500","hover:border-gray-400","dark:hover:border-gray-400","transition-all","cursor-pointer",3,"click"],[1,"text-sm","text-gray-700","dark:text-gray-300","mb-3","leading-relaxed"],[1,"flex","items-center","gap-2"],[1,"text-[10px]","font-bold","text-gray-500","dark:text-gray-400","uppercase","tracking-wider"],[1,"flex","flex-wrap","gap-1.5"],["class","inline-flex items-center px-2.5 py-1 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-800/50 text-blue-700 dark:text-blue-300 rounded-md text-[10px] font-bold uppercase tracking-wide",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-1","bg-blue-100","dark:bg-blue-900/30","border","border-blue-300","dark:border-blue-800/50","text-blue-700","dark:text-blue-300","rounded-md","text-[10px]","font-bold","uppercase","tracking-wide"],[1,"p-16","text-center","bg-gray-50","dark:bg-gray-900"],[1,"mx-auto","mb-4","text-gray-400","dark:text-gray-500",3,"img","size"],[1,"text-base","font-semibold","text-gray-900","dark:text-gray-100","mb-2"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"fixed","inset-0","backdrop-blur-sm","z-[999]","animate-fade-in","cursor-pointer",3,"click"],[1,"fixed","top-0","right-0","bottom-0","w-[400px]","shadow-2xl","z-[1000]","flex","flex-col","animate-slide-in"],[1,"flex","justify-between","items-center","p-4","border-b","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[1,"p-1.5","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-lg","text-gray-600","dark:text-gray-300","transition-colors","cursor-pointer",3,"click"],["class","flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",4,"ngIf","ngIfElse"],[1,"flex","gap-2","p-4","border-t","border-gray-300","dark:border-gray-700","bg-white","dark:bg-gray-800"],[1,"flex-1","flex","items-center","justify-center","gap-1.5","px-3","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","shadow-lg","shadow-blue-500/20","hover:shadow-xl","hover:shadow-blue-500/30","transition-all","cursor-pointer",3,"click"],[1,"flex-1","flex","items-center","justify-center","gap-1.5","px-3","py-2","bg-gradient-to-r","from-red-600","to-rose-600","hover:from-red-700","hover:to-rose-700","text-white","rounded-lg","text-sm","font-medium","shadow-lg","shadow-red-500/20","hover:shadow-xl","hover:shadow-red-500/30","transition-all","cursor-pointer",3,"click"],[1,"flex-1","overflow-y-auto","p-4","bg-gray-50","dark:bg-gray-900"],[4,"ngIf","ngIfElse"],[1,"mb-4"],[1,"space-y-2"],["class","grid grid-cols-[120px_1fr] gap-3 p-3 bg-white dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700 rounded-lg text-xs hover:border-blue-300 dark:hover:border-blue-800 transition-colors shadow-sm",4,"ngFor","ngForOf"],["class","mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-300 dark:border-blue-800",4,"ngIf"],[1,"grid","grid-cols-[120px_1fr]","gap-3","p-3","bg-white","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-700","rounded-lg","text-xs","hover:border-blue-300","dark:hover:border-blue-800","transition-colors","shadow-sm"],[1,"font-bold","text-gray-700","dark:text-gray-400"],[1,"text-gray-900","dark:text-gray-100"],[1,"mt-4","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg","border","border-blue-300","dark:border-blue-800"],[1,"block","text-xs","font-bold","text-gray-700","dark:text-gray-300","mb-2","uppercase","tracking-wide"],[1,"p-3","bg-gradient-to-r","from-blue-600","to-violet-600","text-white","rounded-lg","text-sm","leading-relaxed","mb-2","shadow-lg"],[1,"flex","items-center","justify-between","text-xs","text-gray-700","dark:text-gray-400"],[1,"font-semibold"],[1,"font-bold","text-blue-700","dark:text-blue-400"],[1,"p-12","text-center"],[1,"w-10","h-10","border-3","border-gray-300","dark:border-gray-600","border-t-blue-600","dark:border-t-blue-400","rounded-full","animate-spin","mx-auto","mb-3"],[1,"text-sm","text-gray-700","dark:text-gray-400","font-medium"],[1,"mx-auto","mb-2","text-gray-400","dark:text-gray-500",3,"img","size"],[1,"fixed","inset-0","z-[2000]","flex","items-center","justify-center","animate-fade-in"],[1,"rounded-lg","p-6","max-w-md","w-11/12","shadow-2xl","text-center","animate-scale-in"],[1,"text-4xl","mb-3"],[1,"text-lg","font-bold","mb-2"],[1,"text-sm","mb-4","whitespace-pre-line"],[1,"w-full","px-4","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg",3,"click"],[1,"w-10","h-10","rounded-full","animate-spin","mx-auto","mb-4"],[1,"text-base","font-bold"],["class","block mt-1 text-sm",3,"text-gray-700","text-gray-400",4,"ngIf"],[1,"block","mt-1","text-sm"],[3,"closed","saved","combo"]],template:function(r,n){if(r&1){let m=C();o(0,"div",3)(1,"div",4)(2,"h1",5),s(3,"Gesti\xF3n de Tenores"),a(),o(4,"button",6),_("click",function(){return u(m),x(n.New())}),p(5,"lucide-angular",7),o(6,"span"),s(7,"Nuevo"),a()()(),o(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),p(12,"lucide-angular",12)(13,"input",13),a(),o(14,"select",14)(15,"option",15),s(16,"Todos los tramos"),a(),o(17,"option",16),s(18,"Tramo 3"),a(),o(19,"option",17),s(20,"Tramo 5"),a()(),o(21,"button",18),_("click",function(){return u(m),x(n.clearChips())}),p(22,"lucide-angular",19),o(23,"span"),s(24,"Limpiar"),a()()()(),o(25,"div",20)(26,"div",21),k(27,Ze,2,3,"button",22),a()(),k(28,rt,2,2,"div",23)(29,nt,6,2,"ng-template",null,0,S),a()(),k(31,ot,1,4,"div",24)(32,dt,16,21,"aside",25)(33,ct,4,0,"ng-template",null,1,S)(35,gt,4,2,"ng-template",null,2,S)(37,mt,10,25,"div",26)(38,pt,6,32,"div",26)(39,ut,1,1,"app-edit-combo-modal",27)}if(r&2){let m=P(30);y("dark",n.isDarkMode())("bg-gray-50",!n.isDarkMode())("bg-gray-900",n.isDarkMode()),l(5),c("img",n.Plus)("size",18),l(7),c("img",n.Search)("size",16),l(),c("formControl",n.form.controls.q),l(),c("formControl",n.form.controls.tramo),l(8),c("img",n.XCircle)("size",16),l(5),c("ngForOf",n.chips),l(),c("ngIf",n.filtered().length)("ngIfElse",m),l(3),c("ngIf",n.previewOpen()),l(),c("ngIf",n.previewOpen()),l(5),c("ngIf",n.alertMessage()),l(),c("ngIf",n.loadingModal().isOpen),l(),c("ngIf",n.editModalOpen()&&n.editingCombo())}},dependencies:[V,N,I,H,q,X,$,G,U,J,j,z,De],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:global(body.no-scroll){overflow:hidden;position:fixed;width:100%}.min-h-screen[_ngcontent-%COMP%]:not(.dark){background-color:#f9fafb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-900"][_ngcontent-%COMP%]{background-color:#f9fafb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-800"][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-700"][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-600"][_ngcontent-%COMP%]{background-color:#f3f4f6!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-slate-800"][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-800/50"][_ngcontent-%COMP%]{background-color:#f9fafb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-white"][_ngcontent-%COMP%]{color:#111827!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-100"][_ngcontent-%COMP%]{color:#111827!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-300"][_ngcontent-%COMP%]{color:#374151!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-400"][_ngcontent-%COMP%]{color:#4b5563!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-500"][_ngcontent-%COMP%]{color:#6b7280!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-400"][_ngcontent-%COMP%]{color:#2563eb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-300"][_ngcontent-%COMP%]{color:#2563eb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-700"][_ngcontent-%COMP%]{border-color:#e5e7eb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-600"][_ngcontent-%COMP%]{border-color:#d1d5db!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-500"][_ngcontent-%COMP%]{border-color:#9ca3af!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-blue-500"][_ngcontent-%COMP%]{border-color:#60a5fa!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   div[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#f3f4f6!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   div[class*=bg-white][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   button[class*=bg-white][class*=border-gray-300][_ngcontent-%COMP%]:not([class*=from-blue-600]){background-color:#fff!important;border-color:#d1d5db!important;color:#374151!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   button[class*=bg-blue-50][_ngcontent-%COMP%]{background-color:#dbeafe!important;border-color:#93c5fd!important;color:#1d4ed8!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   button[class*=bg-gray-100][_ngcontent-%COMP%]{background-color:#f3f4f6!important;border-color:#d1d5db!important;color:#374151!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   span[class*=bg-blue-100][class*=text-blue-700][_ngcontent-%COMP%]{background-color:#dbeafe!important;border-color:#93c5fd!important;color:#1d4ed8!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   div[class*=p-2][class*=bg-blue-100][class*=rounded-lg][_ngcontent-%COMP%]{background-color:#3b82f6!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   div[class*=p-2][class*=bg-blue-100][class*=rounded-lg][_ngcontent-%COMP%]     lucide-angular{color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   div[class*=p-2][class*=bg-blue-100][class*=rounded-lg][_ngcontent-%COMP%]     lucide-angular svg{color:#fff!important;fill:#fff!important;stroke:#fff!important}.min-h-screen.dark[_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#111827!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-white][_ngcontent-%COMP%]{background-color:#1f2937!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-gray-100][_ngcontent-%COMP%]{background-color:#374151!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-gray-200][_ngcontent-%COMP%]{background-color:#4b5563!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-900][_ngcontent-%COMP%]{color:#fff!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-700][_ngcontent-%COMP%]{color:#f3f4f6!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-600][_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-500][_ngcontent-%COMP%]{color:#9ca3af!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-gray-200][_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-gray-300][_ngcontent-%COMP%]{border-color:#374151!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-gray-400][_ngcontent-%COMP%]{border-color:#4b5563!important}']});let i=d;return i})();export{zt as ComboListComponent};
