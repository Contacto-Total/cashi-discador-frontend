import{a as J}from"./chunk-VAWVBMXP.js";import{a as W}from"./chunk-QXZDWS2J.js";import{c as K}from"./chunk-PWZOA6UF.js";import{c as V}from"./chunk-JKE5BK6V.js";import"./chunk-WPZY277X.js";import{E as q,f as $,k as j,s as H,t as Y,u as G}from"./chunk-2YC26MZ7.js";import{pc as B,qc as U}from"./chunk-YLTLMO6P.js";import"./chunk-YQKVMPSG.js";import"./chunk-LYMJIISJ.js";import{Bc as w,E as _,Lb as l,Mb as t,Nb as i,Ob as c,Vb as E,Xb as f,Zb as g,bb as a,dd as N,ed as O,g as I,hb as y,ic as S,jc as C,kd as P,lc as o,ld as R,mc as m,md as L,na as x,nc as b,oa as v,ob as T,oc as z,qc as D,rc as M,sc as F,tb as h,zc as k}from"./chunk-BMTIWWAP.js";function Q(d,p){if(d&1&&(t(0,"option",37),o(1),i()),d&2){let n=p.$implicit;l("value",n.id),a(),z(" ",n.name," (",n.status,") ")}}function X(d,p){if(d&1&&(t(0,"div",38)(1,"h3"),c(2,"lucide-angular",39),o(3," M\xE9tricas del Auto-Dialer en Tiempo Real"),i(),t(4,"div",40)(5,"div",41)(6,"span",42),c(7,"lucide-angular",39),i(),t(8,"div",43)(9,"span",44),o(10),i(),t(11,"span",45),o(12,"Total llamadas"),i()()(),t(13,"div",41)(14,"span",42),c(15,"lucide-angular",46),i(),t(16,"div",43)(17,"span",44),o(18),i(),t(19,"span",45),o(20,"Llamadas en cola"),i()()(),t(21,"div",41)(22,"span",42),c(23,"lucide-angular",47),i(),t(24,"div",43)(25,"span",44),o(26),i(),t(27,"span",45),o(28,"Llamadas conectadas"),i()()(),t(29,"div",41)(30,"span",42),c(31,"lucide-angular",48),i(),t(32,"div",43)(33,"span",44),o(34),i(),t(35,"span",45),o(36,"Llamadas por realizar"),i()()(),t(37,"div",41)(38,"span",42),c(39,"lucide-angular",20),i(),t(40,"div",43)(41,"span",44),o(42),i(),t(43,"span",45),o(44,"Llamadas siendo marcadas"),i()()(),t(45,"div",41)(46,"span",42),c(47,"lucide-angular",49),i(),t(48,"div",43)(49,"span",44),o(50),i(),t(51,"span",45),o(52,"Llamadas siendo procesadas"),i()()(),t(53,"div",41)(54,"span",42),c(55,"lucide-angular",50),i(),t(56,"div",43)(57,"span",44),o(58),i(),t(59,"span",45),o(60,"Llamadas fallidas"),i()()(),t(61,"div",41)(62,"span",42),c(63,"lucide-angular",51),i(),t(64,"div",43)(65,"span",44),o(66),i(),t(67,"span",45),o(68,"Llamadas no contestadas"),i()()(),t(69,"div",41)(70,"span",42),c(71,"lucide-angular",52),i(),t(72,"div",43)(73,"span",44),o(74),i(),t(75,"span",45),o(76,"Llamadas abandonadas"),i()()(),t(77,"div",41)(78,"span",42),c(79,"lucide-angular",46),i(),t(80,"div",43)(81,"span",44),o(82),i(),t(83,"span",45),o(84,"Duraci\xF3n promedio de llamada"),i()()(),t(85,"div",41)(86,"span",42),c(87,"lucide-angular",53),i(),t(88,"div",43)(89,"span",44),o(90),i(),t(91,"span",45),o(92,"Duraci\xF3n m\xE1xima de llamada"),i()()()()()),d&2){let n=g();a(2),l("size",20),a(5),l("size",24),a(3),m(n.autoDialerStats.totalLlamadas),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasEnCola),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasConectadas),a(5),l("size",24),a(3),m(n.autoDialerStats.contactosPendientes),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasMarcando),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasActivas),a(5),l("size",24),a(3),m(n.autoDialerStats.contactosFallidos),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasNoContestadas),a(5),l("size",24),a(3),m(n.autoDialerStats.llamadasAbandonadas),a(5),l("size",24),a(3),m(n.autoDialerStats.duracionPromedioFormato),a(5),l("size",24),a(3),m(n.autoDialerStats.duracionMaximaFormato)}}function Z(d,p){if(d&1&&(t(0,"tr",54)(1,"td",55),o(2),k(3,"date"),i(),t(4,"td",56),o(5),i(),t(6,"td",57),o(7),i(),t(8,"td",58)(9,"span",59),o(10),i()(),t(11,"td",60),o(12),i()()),d&2){let n=p.$implicit,e=g();a(2),m(w(3,5,n.fechaInicio,"HH:mm:ss")),a(3),m(n.anexoDestino),a(2),m(n.nombreAgente),a(3),m(n.estadoLlamada),a(2),m(e.formatTiempo(n.duracionSegundos))}}function ee(d,p){d&1&&(t(0,"tr",61)(1,"td",62),o(2," No hay llamadas en curso "),i()())}function te(d,p){if(d&1){let n=E();t(0,"tr",63),f("click",function(){let r=x(n).$implicit,s=g();return v(s.openChangeStatusModal(r))}),t(1,"td",64)(2,"div",65),o(3),i(),t(4,"div",66),o(5),i()(),t(6,"td",67)(7,"span",68),c(8,"lucide-angular",10),o(9),i()(),t(10,"td",69),o(11),i(),t(12,"td",70),o(13),i(),t(14,"td",71),c(15,"app-status-alarm-clock",72),i()()}if(d&2){let n=p.$implicit,e=g();C("alert-row",n.excedeTiempoMaximo),a(3),b("SIP/",n.sipExtension),a(2),m(n.nombreCompleto),a(2),S("background-color",e.getEstadoColor(n.estadoActual)),a(),l("name",e.getEstadoIcon(n.estadoActual))("size",14),a(),b(" ",e.getEstadoTexto(n.estadoActual)," "),a(2),b(" ",n.telefonoDestino||"-"," "),a(2),b(" ",e.formatTiempo(n.segundosEnEstado)," "),a(2),l("color",n.colorIndicador)("excedido",n.excedeTiempoMaximo)("size",20)("tooltip",n.mensajeAlerta||"")}}function ie(d,p){d&1&&(t(0,"tr",61)(1,"td",62),o(2," No hay agentes registrados "),i()())}function ae(d,p){if(d&1){let n=E();t(0,"div",73),f("click",function(r){x(n);let s=g();return v(s.onOverlayClick(r))}),t(1,"div",74)(2,"button",75),f("click",function(){x(n);let r=g();return v(r.dismissAlert())}),c(3,"lucide-angular",76),i(),t(4,"div",77)(5,"div",78),c(6,"lucide-angular",79),i(),t(7,"h3"),o(8,"Alerta de Agente"),i()(),t(9,"div",80)(10,"div",81)(11,"div",82),c(12,"lucide-angular",83),i(),t(13,"div",84)(14,"span",85),o(15),i(),t(16,"span",86),o(17),i()()(),t(18,"div",87)(19,"span",88),o(20,"Estado:"),i(),t(21,"span",89),o(22),i()(),t(23,"div",90),c(24,"lucide-angular",46),t(25,"span"),o(26,"Tiempo en estado: "),t(27,"strong"),o(28),i()()(),t(29,"div",91),c(30,"lucide-angular",92),t(31,"span"),o(32),i()()(),t(33,"div",93)(34,"button",94),f("click",function(){x(n);let r=g();return v(r.dismissAlert())}),c(35,"span",95),t(36,"span",96),c(37,"lucide-angular",97),t(38,"span",98),o(39,"Entendido"),i(),t(40,"span",99),o(41),k(42,"number"),i()()()()()()}if(d&2){let n=g();a(3),l("size",20),a(3),l("size",32),a(6),l("size",24),a(3),m(n.alertaActiva.agente.nombreCompleto),a(2),b("SIP/",n.alertaActiva.agente.sipExtension),a(4),S("background-color",n.getEstadoColor(n.alertaActiva.agente.estadoActual)),a(),b(" ",n.getEstadoTexto(n.alertaActiva.agente.estadoActual)," "),a(2),l("size",18),a(4),m(n.formatTiempo(n.alertaActiva.agente.segundosEnEstado)),a(2),l("size",18),a(2),m(n.alertaActiva.agente.mensajeAlerta),a(3),S("width",n.alertProgress,"%"),a(2),l("size",18),a(4),b("",w(42,16,n.alertRemainingTime,"1.0-0"),"s")}}function ne(d,p){if(d&1&&(t(0,"div",110)(1,"div",111),c(2,"lucide-angular",83),i(),t(3,"div",112)(4,"span",113),o(5),i(),t(6,"span",114),o(7),i()()()),d&2){let n=g(2);a(2),l("size",28),a(3),m(n.selectedAgentForStatusChange.nombreCompleto),a(2),b("SIP/",n.selectedAgentForStatusChange.sipExtension)}}function oe(d,p){if(d&1&&(t(0,"div",115)(1,"span",116),o(2,"Estado actual:"),i(),t(3,"span",117),c(4,"lucide-angular",10),o(5),i()()),d&2){let n=g(2);a(3),S("background-color",n.getEstadoColor(n.selectedAgentForStatusChange.estadoActual)),a(),l("name",n.getEstadoIcon(n.selectedAgentForStatusChange.estadoActual))("size",14),a(),b(" ",n.getEstadoTexto(n.selectedAgentForStatusChange.estadoActual)," ")}}function re(d,p){d&1&&c(0,"lucide-angular",120),d&2&&l("size",16)}function se(d,p){if(d&1){let n=E();t(0,"button",118),f("click",function(){let r=x(n).$implicit,s=g(2);return v(s.changeAgentStatus(r.value))}),c(1,"lucide-angular",10),t(2,"span"),o(3),i(),h(4,re,1,1,"lucide-angular",119),i()}if(d&2){let n=p.$implicit,e=g(2);S("--estado-color",n.color),C("current",e.isCurrentStatus(n.value))("disabled",e.changingStatus),l("disabled",e.changingStatus),a(),l("name",n.icon)("size",18),a(2),m(n.label),a(),l("ngIf",e.isCurrentStatus(n.value))}}function le(d,p){d&1&&(t(0,"div",121),c(1,"lucide-angular",122),t(2,"span"),o(3,"Cambiando estado..."),i()()),d&2&&(a(),l("size",20))}function de(d,p){if(d&1){let n=E();t(0,"div",100),f("click",function(r){x(n);let s=g();return v(s.onStatusModalOverlayClick(r))}),t(1,"div",101)(2,"button",102),f("click",function(){x(n);let r=g();return v(r.closeChangeStatusModal())}),c(3,"lucide-angular",76),i(),t(4,"div",103),c(5,"lucide-angular",104),t(6,"h3"),o(7,"Cambiar Estado"),i()(),h(8,ne,8,3,"div",105)(9,oe,6,5,"div",106),t(10,"div",107),h(11,se,5,11,"button",108),i(),h(12,le,4,1,"div",109),i()()}if(d&2){let n=g();a(3),l("size",20),a(2),l("size",24),a(3),l("ngIf",n.selectedAgentForStatusChange),a(),l("ngIf",n.selectedAgentForStatusChange),a(2),l("ngForOf",n.estadosDisponibles),a(),l("ngIf",n.changingStatus)}}var ye=(()=>{let p=class p{constructor(e,r,s){this.campaignService=e,this.autoDialerService=r,this.router=s,this.campaigns=[],this.selectedCampaignId=null,this.loadingCampaigns=!1,this.autoDialerStats=null,this.agentesMonitoreo=[],this.llamadasEnTiempoReal=[],this.alertaActiva=null,this.alertasDismissed=new Set,this.soundEnabled=!1,this.alertDuration=0,this.alertRemainingTime=0,this.alertProgress=100,this.ALERT_DURATIONS={DISPONIBLE:8,EN_LLAMADA:10,TIPIFICANDO:10,EN_REUNION:12,REFRIGERIO:12,SSHH:10,EN_MANUAL:8,PAUSADO:8},this.DEFAULT_ALERT_DURATION=10,this.SOUND_STORAGE_KEY="supervisor_sound_enabled",this.showChangeStatusModal=!1,this.selectedAgentForStatusChange=null,this.changingStatus=!1,this.estadosDisponibles=[{value:"DISPONIBLE",label:"Disponible",icon:"circle",color:"#10B981"},{value:"EN_REUNION",label:"En Reuni\xF3n",icon:"users",color:"#8B5CF6"},{value:"REFRIGERIO",label:"Refrigerio",icon:"coffee",color:"#F59E0B"},{value:"SSHH",label:"SSHH",icon:"user",color:"#F59E0B"},{value:"EN_MANUAL",label:"Modo Manual",icon:"pencil",color:"#6B7280"}],this.audioContext=null,this.oscillator=null,this.gainNode=null,this.isAlarmPlaying=!1,this.speechVoices=[],this.spanishVoice=null,this.previousAgentStates=new Map}ngOnInit(){this.loadSoundPreference(),this.initAlarmAudio(),this.initSpeechVoices(),this.loadCampaigns(),this.startAutoDialerPolling(),this.startAgentesPolling(),this.startLlamadasPolling(),this.startLocalTimer()}initSpeechVoices(){if(!("speechSynthesis"in window))return;let e=()=>{this.speechVoices=speechSynthesis.getVoices(),this.spanishVoice=this.speechVoices.find(r=>r.lang.startsWith("es"))||null,console.log(`[Monitor] Voces cargadas: ${this.speechVoices.length}, voz espa\xF1ola: ${this.spanishVoice?.name||"ninguna"}`)};e(),speechSynthesis.onvoiceschanged=()=>{e()}}startLocalTimer(){this.localTimerSubscription=_(1e3).subscribe(()=>{this.agentesMonitoreo.forEach(e=>{e.segundosEnEstado!==void 0&&e.segundosEnEstado++})})}loadSoundPreference(){let e=localStorage.getItem(this.SOUND_STORAGE_KEY);this.soundEnabled=e==="true"}saveSoundPreference(){localStorage.setItem(this.SOUND_STORAGE_KEY,String(this.soundEnabled))}ngOnDestroy(){this.localTimerSubscription&&this.localTimerSubscription.unsubscribe(),this.autoDialerSubscription&&this.autoDialerSubscription.unsubscribe(),this.agentesSubscription&&this.agentesSubscription.unsubscribe(),this.llamadasSubscription&&this.llamadasSubscription.unsubscribe(),this.alertTimerSubscription&&this.alertTimerSubscription.unsubscribe(),this.stopAlarm(),this.audioContext&&this.audioContext.close()}initAlarmAudio(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)}loadCampaigns(){this.loadingCampaigns=!0,this.campaignService.getAllCampaigns().subscribe({next:e=>{if(this.campaigns=e,this.loadingCampaigns=!1,e.length>0&&!this.selectedCampaignId){let r=e.find(s=>s.status==="ACTIVE");this.selectedCampaignId=r?.id||e[0].id||null}},error:e=>{console.error("Error loading campaigns:",e),this.loadingCampaigns=!1}})}onCampaignChange(){console.log("Selected campaign changed to:",this.selectedCampaignId),this.autoDialerSubscription&&this.autoDialerSubscription.unsubscribe(),this.startAutoDialerPolling(),this.llamadasSubscription&&this.llamadasSubscription.unsubscribe(),this.startLlamadasPolling()}startAutoDialerPolling(){let e=this.selectedCampaignId||void 0;this.autoDialerSubscription=this.autoDialerService.startStatsPolling(e).subscribe({next:r=>{this.autoDialerStats=r},error:r=>{console.error("Error polling auto-dialer stats:",r)}})}startAgentesPolling(){this.agentesSubscription=this.autoDialerService.startAgentesPolling().subscribe({next:e=>{this.agentesMonitoreo=e;let r=e.filter(s=>s.excedeTiempoMaximo);r.length>0&&console.log("[Monitor] Agentes con tiempo excedido:",r.map(s=>({nombre:s.nombreCompleto,estado:s.estadoActual,excede:s.excedeTiempoMaximo,mensaje:s.mensajeAlerta,sonido:s.sonidoAlerta}))),this.checkAgentAlerts(e)},error:e=>{console.error("Error polling agentes:",e)}})}checkAgentAlerts(e){for(let r of e){let s=this.previousAgentStates.get(r.idUsuario);s&&s!==r.estadoActual&&(console.log(`[Monitor] Agente ${r.nombreCompleto} cambi\xF3 de ${s} a ${r.estadoActual}, limpiando alertas`),this.clearDismissedForAgent(r.idUsuario)),this.previousAgentStates.set(r.idUsuario,r.estadoActual)}if(this.alertaActiva){console.log("[Monitor] Ya hay una alerta activa, no se mostrar\xE1n nuevas");return}for(let r of e)if(r.excedeTiempoMaximo&&r.mensajeAlerta){let s=`${r.idUsuario}-${r.estadoActual}`;if(this.alertasDismissed.has(s)){console.log(`[Monitor] Alerta ${s} ya fue cerrada, ignorando`);continue}console.log(`[Monitor] Mostrando alerta para agente ${r.nombreCompleto}`),this.showAlert(r);break}}showAlert(e){this.alertaActiva={agente:e,timestamp:new Date},this.startAlertTimer(e.estadoActual),this.soundEnabled&&(this.speakAlert(e),this.playAlarm())}startAlertTimer(e){this.alertTimerSubscription&&this.alertTimerSubscription.unsubscribe(),this.alertDuration=this.ALERT_DURATIONS[e]||this.DEFAULT_ALERT_DURATION,this.alertRemainingTime=this.alertDuration,this.alertProgress=100,this.alertTimerSubscription=_(100).subscribe(()=>{this.alertRemainingTime-=.1,this.alertProgress=this.alertRemainingTime/this.alertDuration*100,this.alertRemainingTime<=0&&this.dismissAlert()})}stopAlertTimer(){this.alertTimerSubscription&&(this.alertTimerSubscription.unsubscribe(),this.alertTimerSubscription=void 0),this.alertDuration=0,this.alertRemainingTime=0,this.alertProgress=100}speakAlert(e){if(!("speechSynthesis"in window)){console.warn("Text-to-Speech no soportado");return}let r=this.getEstadoHablado(e.estadoActual),s=`Atenci\xF3n. El agente ${e.nombreCompleto} lleva demasiado tiempo en estado ${r}. Requiere supervisi\xF3n.`;speechSynthesis.cancel(),setTimeout(()=>{let u=new SpeechSynthesisUtterance(s);u.lang="es-ES",u.rate=.9,u.pitch=.8,u.volume=1,this.spanishVoice&&(u.voice=this.spanishVoice),speechSynthesis.speak(u)},100)}getEstadoHablado(e){return{DISPONIBLE:"disponible",EN_LLAMADA:"en llamada",TIPIFICANDO:"tipificando",EN_REUNION:"en reuni\xF3n",REFRIGERIO:"refrigerio",SSHH:"ba\xF1o",EN_MANUAL:"modo manual",PAUSADO:"pausado"}[e]||e}dismissAlert(){if(this.alertaActiva){let e=`${this.alertaActiva.agente.idUsuario}-${this.alertaActiva.agente.estadoActual}`;this.alertasDismissed.add(e),this.alertaActiva=null,this.stopAlertTimer(),this.stopAlarm(),"speechSynthesis"in window&&speechSynthesis.cancel(),setTimeout(()=>{this.agentesMonitoreo.length>0&&this.checkAgentAlerts(this.agentesMonitoreo)},500)}}onOverlayClick(e){e.target.classList.contains("alert-overlay")&&this.dismissAlert()}toggleSound(){this.soundEnabled=!this.soundEnabled,this.saveSoundPreference(),this.soundEnabled&&this.audioContext&&(this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playTestBeep())}playTestBeep(){if(!this.audioContext)return;let e=this.audioContext.createOscillator(),r=this.audioContext.createGain();e.connect(r),r.connect(this.audioContext.destination),e.type="sine",e.frequency.setValueAtTime(440,this.audioContext.currentTime),r.gain.setValueAtTime(.3,this.audioContext.currentTime),e.start(),e.stop(this.audioContext.currentTime+.1)}playAlarm(){return I(this,null,function*(){if(!(!this.audioContext||this.isAlarmPlaying||!this.soundEnabled))try{if(this.audioContext.state==="suspended"&&(yield this.audioContext.resume()),this.audioContext.state!=="running"){console.warn("[Monitor] AudioContext no est\xE1 en estado running:",this.audioContext.state);return}this.isAlarmPlaying=!0,this.startBeepSequence()}catch(e){console.warn("No se pudo reproducir la alarma:",e)}})}startBeepSequence(){if(!this.audioContext||!this.isAlarmPlaying)return;let e=this.audioContext.createOscillator(),r=this.audioContext.createGain();e.connect(r),r.connect(this.audioContext.destination),e.type="sine",e.frequency.setValueAtTime(880,this.audioContext.currentTime),r.gain.setValueAtTime(.5,this.audioContext.currentTime),e.start(),e.stop(this.audioContext.currentTime+.2),e.onended=()=>{this.isAlarmPlaying&&setTimeout(()=>this.startBeepSequence(),200)}}stopAlarm(){this.isAlarmPlaying=!1}clearDismissedForAgent(e){let r=[];this.alertasDismissed.forEach(s=>{s.startsWith(`${e}-`)&&r.push(s)}),r.forEach(s=>this.alertasDismissed.delete(s))}startLlamadasPolling(){let e=this.selectedCampaignId||void 0;this.llamadasSubscription=this.autoDialerService.startLlamadasPolling(e).subscribe({next:r=>{this.llamadasEnTiempoReal=r},error:r=>{console.error("Error polling llamadas en tiempo real:",r)}})}getCurrentTime(){return new Date().toLocaleTimeString("es-PE",{hour12:!1})}getEstadoColor(e){switch(e){case"DISPONIBLE":return"#10B981";case"EN_LLAMADA":return"#3B82F6";case"DESCONECTADO":return"#EF4444";case"PAUSADO":return"#F59E0B";case"EN_REUNION":return"#8B5CF6";case"REFRIGERIO":return"#F59E0B";case"SSHH":return"#F59E0B";case"TIPIFICANDO":return"#06B6D4";default:return"#6B7280"}}getEstadoIcon(e){switch(e){case"DISPONIBLE":return"circle";case"EN_LLAMADA":return"phone-call";case"DESCONECTADO":return"circle";case"PAUSADO":return"pause";case"EN_REUNION":return"users";case"REFRIGERIO":return"coffee";case"SSHH":return"user";case"TIPIFICANDO":return"edit";default:return"circle"}}getEstadoTexto(e){switch(e){case"DISPONIBLE":return"Libre";case"EN_LLAMADA":return"En Llamada";case"DESCONECTADO":return"Desconectado";case"PAUSADO":return"Pausado";case"EN_REUNION":return"En Reuni\xF3n";case"REFRIGERIO":return"Refrigerio";case"SSHH":return"SSHH";case"TIPIFICANDO":return"Tipificando";default:return e}}formatTiempo(e){if(!e||e<0)return"-";let r=Math.floor(e/3600),s=Math.floor(e%3600/60),u=e%60;return r>0?`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${s.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}goBack(){this.router.navigate(["/admin/campaigns"])}navigateToExtensions(){this.router.navigate(["/admin/extensions"])}openChangeStatusModal(e){this.selectedAgentForStatusChange=e,this.showChangeStatusModal=!0}closeChangeStatusModal(){this.showChangeStatusModal=!1,this.selectedAgentForStatusChange=null,this.changingStatus=!1}onStatusModalOverlayClick(e){e.target.classList.contains("status-modal-overlay")&&this.closeChangeStatusModal()}changeAgentStatus(e){if(!this.selectedAgentForStatusChange||this.changingStatus)return;if(e==="EN_LLAMADA"||e==="TIPIFICANDO"){alert("Este estado solo puede ser cambiado por el sistema");return}if(this.selectedAgentForStatusChange.estadoActual===e){this.closeChangeStatusModal();return}this.changingStatus=!0;let r=this.selectedAgentForStatusChange.idUsuario,s=this.selectedAgentForStatusChange.nombreCompleto;this.autoDialerService.cambiarEstadoAgente(r,e,"Cambiado por supervisor").subscribe({next:u=>{console.log(`\u2705 Estado de ${s} cambiado a ${e}`,u),this.selectedAgentForStatusChange&&(this.selectedAgentForStatusChange.estadoActual=e,this.selectedAgentForStatusChange.segundosEnEstado=0),this.closeChangeStatusModal()},error:u=>{console.error(`\u274C Error cambiando estado de ${s}:`,u),alert(`Error al cambiar estado: ${u.error?.error||u.message||"Error desconocido"}`),this.changingStatus=!1}})}isCurrentStatus(e){return this.selectedAgentForStatusChange?.estadoActual===e}};p.\u0275fac=function(r){return new(r||p)(y(K),y(W),y(V))},p.\u0275cmp=T({type:p,selectors:[["app-campaign-monitoring"]],decls:77,vars:21,consts:[[1,"monitoring-container"],[1,"flex","items-center","gap-2","mb-2"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-600","to-blue-700","rounded-lg","flex","items-center","justify-center"],["name","bar-chart-2",1,"text-white",3,"size"],[1,"text-lg","font-bold","text-white"],[1,"text-xs","text-gray-400"],[1,"header"],[1,"btn-back",3,"click"],["name","arrow-left",3,"size"],[1,"btn-sound",3,"click","title"],[3,"name","size"],[1,"campaign-selector"],["for","campaignSelect"],["id","campaignSelect",1,"campaign-select",3,"ngModelChange","change","ngModel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","metrics-panel",4,"ngIf"],[1,"two-column-layout"],[1,"left-column"],[1,"discado-panel"],["name","phone-call",3,"size"],[1,"discado-table-container"],[1,"discado-table"],["class","llamada-row",4,"ngFor","ngForOf"],["class","empty-row",4,"ngIf"],[1,"right-column"],[1,"agentes-panel"],[1,"agentes-header"],["name","users",3,"size"],[1,"btn-view-all",3,"click"],["name","phone",3,"size"],[1,"agentes-table-container"],[1,"agentes-table"],[2,"width","50px","text-align","center"],["class","agente-row clickable-row","title","Click para cambiar estado",3,"alert-row","click",4,"ngFor","ngForOf"],["class","alert-overlay",3,"click",4,"ngIf"],["class","status-modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"metrics-panel"],["name","bar-chart-2",3,"size"],[1,"metrics-grid"],[1,"metric-item"],[1,"metric-icon"],[1,"metric-info"],[1,"metric-value"],[1,"metric-label"],["name","clock",3,"size"],["name","check-circle",3,"size"],["name","clipboard-list",3,"size"],["name","activity",3,"size"],["name","x-circle",3,"size"],["name","phone-missed",3,"size"],["name","phone-off",3,"size"],["name","timer",3,"size"],[1,"llamada-row"],[1,"llamada-hora"],[1,"llamada-telefono"],[1,"llamada-agente"],[1,"llamada-estado"],[1,"estado-badge-mini"],[1,"llamada-duracion"],[1,"empty-row"],["colspan","5",2,"text-align","center","color","#94a3b8"],["title","Click para cambiar estado",1,"agente-row","clickable-row",3,"click"],[1,"agente-info"],[1,"agente-extension"],[1,"agente-nombre"],[1,"agente-estado"],[1,"estado-badge"],[1,"agente-telefono"],[1,"agente-tiempo"],[1,"agente-alerta",2,"text-align","center"],[3,"color","excedido","size","tooltip"],[1,"alert-overlay",3,"click"],[1,"alert-modal"],[1,"alert-close",3,"click"],["name","x",3,"size"],[1,"alert-header"],[1,"alert-icon-container"],["name","alert-triangle",1,"alert-icon",3,"size"],[1,"alert-body"],[1,"alert-agent-info"],[1,"agent-avatar"],["name","user",3,"size"],[1,"agent-details"],[1,"agent-name"],[1,"agent-extension"],[1,"alert-status"],[1,"status-label"],[1,"status-badge"],[1,"alert-time"],[1,"alert-message"],["name","alert-circle",3,"size"],[1,"alert-footer"],[1,"btn-dismiss",3,"click"],[1,"btn-dismiss-progress"],[1,"btn-dismiss-content"],["name","check",1,"btn-dismiss-icon",3,"size"],[1,"btn-dismiss-label"],[1,"btn-dismiss-timer"],[1,"status-modal-overlay",3,"click"],[1,"status-modal"],[1,"status-modal-close",3,"click"],[1,"status-modal-header"],["name","user-cog",1,"status-modal-icon",3,"size"],["class","status-modal-agent",4,"ngIf"],["class","status-current",4,"ngIf"],[1,"status-options"],["class","status-option-btn",3,"current","disabled","--estado-color","click",4,"ngFor","ngForOf"],["class","status-modal-loading",4,"ngIf"],[1,"status-modal-agent"],[1,"agent-avatar-large"],[1,"agent-details-large"],[1,"agent-name-large"],[1,"agent-extension-large"],[1,"status-current"],[1,"status-current-label"],[1,"status-current-badge"],[1,"status-option-btn",3,"click","disabled"],["name","check","class","check-icon",3,"size",4,"ngIf"],["name","check",1,"check-icon",3,"size"],[1,"status-modal-loading"],["name","loader",1,"spin",3,"size"]],template:function(r,s){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"lucide-angular",3),i(),t(4,"div")(5,"h1",4),o(6,"Monitoreo por Campa\xF1a"),i(),t(7,"p",5),o(8,"M\xE9tricas del auto-dialer en tiempo real"),i()()(),t(9,"div",6)(10,"button",7),f("click",function(){return s.goBack()}),c(11,"lucide-angular",8),t(12,"span"),o(13,"Volver a Campa\xF1as"),i()(),t(14,"button",9),f("click",function(){return s.toggleSound()}),c(15,"lucide-angular",10),t(16,"span"),o(17),i()()(),t(18,"div",11)(19,"label",12),o(20,"Seleccionar Campa\xF1a:"),i(),t(21,"select",13),F("ngModelChange",function(A){return M(s.selectedCampaignId,A)||(s.selectedCampaignId=A),A}),f("change",function(){return s.onCampaignChange()}),t(22,"option",14),o(23,"-- Seleccione una campa\xF1a --"),i(),h(24,Q,2,3,"option",15),i()(),h(25,X,93,23,"div",16),t(26,"div",17)(27,"div",18)(28,"div",19)(29,"h3"),c(30,"lucide-angular",20),o(31," Discado en Tiempo Real"),i(),t(32,"div",21)(33,"table",22)(34,"thead")(35,"tr")(36,"th"),o(37,"Hora"),i(),t(38,"th"),o(39,"Tel\xE9fono"),i(),t(40,"th"),o(41,"Agente"),i(),t(42,"th"),o(43,"Estado"),i(),t(44,"th"),o(45,"Duraci\xF3n"),i()()(),t(46,"tbody"),h(47,Z,13,8,"tr",23)(48,ee,3,0,"tr",24),i()()()()(),t(49,"div",25)(50,"div",26)(51,"div",27)(52,"h3"),c(53,"lucide-angular",28),o(54," Agentes en Tiempo Real"),i(),t(55,"button",29),f("click",function(){return s.navigateToExtensions()}),c(56,"lucide-angular",30),o(57," Ver Extensiones "),i()(),t(58,"div",31)(59,"table",32)(60,"thead")(61,"tr")(62,"th"),o(63,"Agente"),i(),t(64,"th"),o(65,"Estado"),i(),t(66,"th"),o(67,"Tel\xE9fono"),i(),t(68,"th"),o(69,"Tiempo"),i(),t(70,"th",33),o(71,"Alerta"),i()()(),t(72,"tbody"),h(73,te,16,15,"tr",34)(74,ie,3,0,"tr",24),i()()()()()()(),h(75,ae,43,19,"div",35)(76,de,13,6,"div",36)),r&2&&(a(3),l("size",16),a(8),l("size",18),a(3),C("active",s.soundEnabled),l("title",s.soundEnabled?"Desactivar sonido de alertas":"Activar sonido de alertas (requerido para escuchar alarmas)"),a(),l("name",s.soundEnabled?"volume-2":"volume-x")("size",18),a(2),m(s.soundEnabled?"Sonido ON":"Sonido OFF"),a(4),D("ngModel",s.selectedCampaignId),a(),l("value",null),a(2),l("ngForOf",s.campaigns),a(),l("ngIf",s.autoDialerStats),a(5),l("size",20),a(17),l("ngForOf",s.llamadasEnTiempoReal),a(),l("ngIf",s.llamadasEnTiempoReal.length===0),a(5),l("size",20),a(3),l("size",16),a(17),l("ngForOf",s.agentesMonitoreo),a(),l("ngIf",s.agentesMonitoreo.length===0),a(),l("ngIf",s.alertaActiva),a(),l("ngIf",s.showChangeStatusModal))},dependencies:[L,N,O,q,Y,G,H,$,j,U,B,J,R,P],styles:[`.monitoring-container{min-height:100vh;background:linear-gradient(to bottom right,#0f172a,#1e293b,#0f172a);padding:1.5rem!important;max-width:1600px;margin:0 auto}.header{display:flex;align-items:center;gap:1rem;margin:1.5rem 0;padding-bottom:1rem;border-bottom:1px solid #334155}.header h1{margin:0;font-size:1.5rem;color:#fff;font-weight:600}.btn-back{display:flex;align-items:center;gap:.5rem;background:#ffffff1a;border:1px solid #334155;color:#fff;padding:.6rem 1rem;border-radius:8px;cursor:pointer;font-size:.9rem;transition:all .3s}.btn-back:hover{background:#ffffff26;transform:translate(-3px)}.btn-sound{display:flex;align-items:center;gap:.5rem;background:#ef444433;border:1px solid #ef4444;color:#fca5a5;padding:.6rem 1rem;border-radius:8px;cursor:pointer;font-size:.9rem;transition:all .3s;margin-left:auto}.btn-sound:hover{background:#ef44444d}.btn-sound.active{background:#22c55e33;border-color:#22c55e;color:#86efac}.btn-sound.active:hover{background:#22c55e4d}.campaign-selector{background:#1e293b;border:1px solid #334155;border-radius:8px;padding:1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem}.campaign-selector label{color:#fff;font-weight:600;font-size:.95rem;white-space:nowrap}.campaign-select{flex:1;max-width:500px;background:#0a0e27;border:1px solid #334155;border-radius:6px;padding:.7rem;color:#fff;font-size:.95rem;transition:border .3s;cursor:pointer}.campaign-select:focus{outline:none;border-color:#10b981}.campaign-select option{background:#0a0e27;color:#fff}.metrics-panel{background:#1e293b;border:1px solid #334155;border-radius:8px;padding:1rem;margin-bottom:1.5rem}.metrics-panel h3{margin:0 0 1rem;font-size:.95rem;color:#fff;font-weight:600}.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.8rem}.metric-item{background:#0a0e27;border:1px solid #334155;border-radius:6px;padding:.7rem;display:flex;align-items:center;gap:.7rem;transition:transform .2s,box-shadow .2s}.metric-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.metric-icon{font-size:1.5rem;flex-shrink:0}.metric-info{display:flex;flex-direction:column;min-width:0}.metric-value{font-size:1.3rem;font-weight:700;color:#10b981;line-height:1.2}.metric-label{font-size:.7rem;color:#94a3b8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.two-column-layout{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;height:calc(100vh - 400px);min-height:500px}.left-column{display:flex;flex-direction:column;background:#1e293b;border:1px solid #334155;border-radius:8px;overflow:hidden}.discado-panel{flex:1;display:flex;flex-direction:column;overflow:hidden}.discado-panel h3{margin:0;padding:1rem;font-size:.95rem;color:#fff;font-weight:600;background:#0a0e27;border-bottom:1px solid #334155}.discado-table-container{flex:1;overflow-y:auto;overflow-x:auto}.discado-table-container::-webkit-scrollbar{width:8px;height:8px}.discado-table-container::-webkit-scrollbar-track{background:#0a0e27}.discado-table-container::-webkit-scrollbar-thumb{background:#334155;border-radius:4px}.discado-table-container::-webkit-scrollbar-thumb:hover{background:#475569}.discado-table{width:100%;border-collapse:collapse;font-size:.8rem}.discado-table thead{position:sticky;top:0;background:#0a0e27;z-index:10}.discado-table th{padding:.7rem .8rem;text-align:left;font-weight:600;color:#94a3b8;font-size:.75rem;text-transform:uppercase;border-bottom:1px solid #334155}.discado-table tbody tr{transition:background-color .2s;animation:fadeIn .3s ease-in}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.llamada-row:hover{background:#3b82f60d}.discado-table td{padding:.7rem .8rem;border-bottom:1px solid #334155;color:#e2e8f0}.llamada-hora{font-family:monospace;font-size:.75rem;color:#94a3b8}.llamada-telefono{font-family:monospace;font-size:.8rem;color:#10b981;font-weight:600}.llamada-agente{font-size:.75rem;color:#e2e8f0}.llamada-estado{text-align:center}.estado-badge-mini{display:inline-block;padding:.2rem .5rem;border-radius:50px;background:#3b82f6;color:#fff;font-size:.7rem;font-weight:600;white-space:nowrap}.llamada-duracion{font-family:monospace;font-size:.75rem;font-weight:600;color:#10b981;text-align:center}.right-column{display:flex;flex-direction:column}.agentes-panel{flex:1;background:#1e293b;border:1px solid #334155;border-radius:8px;overflow:hidden;display:flex;flex-direction:column}.agentes-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#0a0e27;border-bottom:1px solid #334155}.agentes-panel h3{margin:0;font-size:.95rem;color:#fff;font-weight:600}.btn-view-all{padding:6px 12px;background:#3b82f6;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:13px;font-weight:500;transition:all .3s}.btn-view-all:hover{background:#2563eb;transform:translateY(-2px)}.agentes-table-container{flex:1;overflow-y:auto;overflow-x:auto}.agentes-table-container::-webkit-scrollbar{width:8px;height:8px}.agentes-table-container::-webkit-scrollbar-track{background:#0a0e27}.agentes-table-container::-webkit-scrollbar-thumb{background:#334155;border-radius:4px}.agentes-table-container::-webkit-scrollbar-thumb:hover{background:#475569}.agentes-table{width:100%;border-collapse:collapse;font-size:.8rem}.agentes-table thead{position:sticky;top:0;background:#0a0e27;z-index:10}.agentes-table th{padding:.7rem .8rem;text-align:left;font-weight:600;color:#94a3b8;font-size:.75rem;text-transform:uppercase;border-bottom:1px solid #334155}.agentes-table tbody tr{transition:background-color .2s}.agente-row:hover{background:#10b9810d}.agentes-table td{padding:.7rem .8rem;border-bottom:1px solid #334155;color:#e2e8f0}.agente-info{display:flex;flex-direction:column;gap:.2rem}.agente-extension{font-size:.75rem;color:#10b981;font-weight:600;font-family:monospace}.agente-nombre{font-size:.7rem;color:#94a3b8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px}.agente-estado{text-align:center}.estado-badge{display:inline-flex;align-items:center;gap:.3rem;padding:.3rem .6rem;border-radius:50px;color:#fff;font-size:.7rem;font-weight:600;white-space:nowrap}.agente-telefono{font-family:monospace;font-size:.75rem;color:#e2e8f0}.agente-tiempo{font-family:monospace;font-size:.75rem;font-weight:600;color:#10b981;text-align:center}.empty-row td{padding:2rem 1rem}@media (max-width: 1200px){.two-column-layout{grid-template-columns:1fr;height:auto}.left-column,.right-column{min-height:400px;max-height:500px}.metrics-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}}@media (max-width: 768px){.monitoring-container{padding:1rem}.header{flex-direction:column;align-items:flex-start;gap:.5rem}.campaign-selector{flex-direction:column;align-items:flex-start}.campaign-select{max-width:100%}.two-column-layout{gap:1rem}.metrics-grid{grid-template-columns:repeat(2,1fr)}}.agente-row.alert-row{background:#ef44441a!important;animation:alertRowPulse 2s ease-in-out infinite}@keyframes alertRowPulse{0%,to{background:#ef44441a}50%{background:#ef444433}}.alert-overlay{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.alert-modal{background:linear-gradient(135deg,#1e293b,#0f172a);border:1px solid #EF4444;border-radius:16px;padding:0;width:90%;max-width:420px;box-shadow:0 20px 60px #ef44444d,0 0 40px #ef44441a;animation:modalSlideIn .3s ease,modalPulse 2s ease-in-out infinite;position:relative;overflow:hidden}@keyframes modalSlideIn{0%{transform:scale(.9) translateY(-20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes modalPulse{0%,to{box-shadow:0 20px 60px #ef44444d,0 0 40px #ef44441a}50%{box-shadow:0 20px 80px #ef444480,0 0 60px #ef444433}}.alert-close{position:absolute;top:12px;right:12px;background:#ffffff1a;border:none;color:#94a3b8;width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:1}.alert-close:hover{background:#ef444433;color:#ef4444}.alert-header{background:linear-gradient(135deg,#ef4444,#dc2626);padding:1.5rem;text-align:center}.alert-icon-container{width:64px;height:64px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto .75rem;animation:iconShake .5s ease-in-out infinite}@keyframes iconShake{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.alert-icon{color:#fff}.alert-header h3{margin:0;color:#fff;font-size:1.25rem;font-weight:600}.alert-body{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.alert-agent-info{display:flex;align-items:center;gap:1rem;background:#ffffff0d;padding:1rem;border-radius:12px;border:1px solid #334155}.agent-avatar{width:48px;height:48px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff}.agent-details{display:flex;flex-direction:column;gap:.25rem}.agent-name{color:#fff;font-weight:600;font-size:1rem}.agent-extension{color:#94a3b8;font-size:.85rem}.alert-status{display:flex;align-items:center;gap:.75rem}.status-label{color:#94a3b8;font-size:.9rem}.alert-status .status-badge{padding:.35rem .75rem;border-radius:20px;color:#fff;font-size:.85rem;font-weight:500}.alert-time,.alert-message{display:flex;align-items:center;gap:.75rem;color:#cbd5e1;font-size:.95rem}.alert-time lucide-angular,.alert-message lucide-angular{color:#94a3b8}.alert-message{background:#ef44441a;padding:.75rem 1rem;border-radius:8px;border-left:3px solid #EF4444}.alert-message lucide-angular{color:#ef4444}.alert-footer{padding:1rem 1.5rem 1.5rem;display:flex;justify-content:center}.btn-dismiss{position:relative;overflow:hidden;background:linear-gradient(135deg,#1e3a5f,#1e293b);border:1px solid #334155;color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-size:.95rem;font-weight:500;cursor:pointer;min-width:180px;transition:all .2s ease}.btn-dismiss:hover{transform:translateY(-1px);border-color:#3b82f6;box-shadow:0 4px 12px #3b82f640}.btn-dismiss:active{transform:translateY(0)}.btn-dismiss-progress{position:absolute;top:0;left:0;height:100%;background:linear-gradient(135deg,#3b82f6,#2563eb);transition:width .1s linear;z-index:0;border-radius:7px}.btn-dismiss-content{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-dismiss-icon{opacity:.9}.btn-dismiss-label{letter-spacing:.01em}.btn-dismiss-timer{display:inline-flex;align-items:center;justify-content:center;min-width:26px;height:20px;padding:0 5px;background:#ffffff26;border-radius:4px;font-size:.7rem;font-weight:600;font-variant-numeric:tabular-nums}.clickable-row{cursor:pointer}.clickable-row:hover{background:#3b82f61a!important}.status-modal-overlay{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .2s ease-out}.status-modal{background:linear-gradient(145deg,#1e293b,#0f172a);border-radius:16px;width:340px;max-width:90vw;border:1px solid #334155;box-shadow:0 20px 60px #00000080;position:relative;animation:modalSlideIn .3s ease-out}.status-modal-close{position:absolute;top:12px;right:12px;background:#ffffff1a;border:none;color:#94a3b8;width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:1}.status-modal-close:hover{background:#ef444433;color:#ef4444}.status-modal-header{background:linear-gradient(135deg,#3b82f6,#2563eb);padding:1.25rem;display:flex;align-items:center;justify-content:center;gap:.75rem;border-radius:16px 16px 0 0}.status-modal-icon{color:#fff}.status-modal-header h3{margin:0;color:#fff;font-size:1.1rem;font-weight:600}.status-modal-agent{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:#ffffff08;border-bottom:1px solid #334155}.agent-avatar-large{width:52px;height:52px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff}.agent-details-large{display:flex;flex-direction:column;gap:.25rem}.agent-name-large{color:#f1f5f9;font-size:1rem;font-weight:600}.agent-extension-large{color:#10b981;font-size:.85rem;font-family:monospace}.status-current{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1rem 1.25rem;border-bottom:1px solid #334155}.status-current-label{color:#94a3b8;font-size:.85rem}.status-current-badge{display:inline-flex;align-items:center;gap:.3rem;padding:.35rem .75rem;border-radius:50px;color:#fff;font-size:.8rem;font-weight:600}.status-options{padding:1rem;display:flex;flex-direction:column;gap:.5rem}.status-option-btn{display:flex;align-items:center;gap:.75rem;padding:.85rem 1rem;background:#ffffff0d;border:1px solid #334155;border-radius:10px;color:#e2e8f0;font-size:.9rem;cursor:pointer;transition:all .2s;position:relative}.status-option-btn:hover:not(.current):not(.disabled){background:#ffffff1a;border-color:var(--estado-color, #3B82F6);transform:translate(4px)}.status-option-btn lucide-angular:first-child{color:var(--estado-color, #94A3B8)}.status-option-btn.current{background:#10b98126;border-color:#10b981;color:#10b981}.status-option-btn.current lucide-angular:first-child{color:#10b981}.status-option-btn .check-icon{margin-left:auto;color:#10b981}.status-option-btn.disabled{opacity:.5;cursor:not-allowed}.status-modal-loading{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;color:#94a3b8;font-size:.9rem;border-top:1px solid #334155}.spin{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host-context(html:not(.dark)) .status-modal-overlay,:host-context(body.light-theme) .status-modal-overlay{background:#0006}:host-context(html:not(.dark)) .status-modal,:host-context(body.light-theme) .status-modal{background:linear-gradient(145deg,#fff,#f8fafc);border:1px solid #e2e8f0;box-shadow:0 20px 60px #00000026}:host-context(html:not(.dark)) .status-modal-close,:host-context(body.light-theme) .status-modal-close{background:#0000000d;color:#64748b}:host-context(html:not(.dark)) .status-modal-close:hover,:host-context(body.light-theme) .status-modal-close:hover{background:#ef44441a;color:#dc2626}:host-context(html:not(.dark)) .status-modal-agent,:host-context(body.light-theme) .status-modal-agent{background:#00000005;border-bottom:1px solid #e2e8f0}:host-context(html:not(.dark)) .agent-name-large,:host-context(body.light-theme) .agent-name-large{color:#0f172a}:host-context(html:not(.dark)) .agent-extension-large,:host-context(body.light-theme) .agent-extension-large{color:#059669}:host-context(html:not(.dark)) .status-current,:host-context(body.light-theme) .status-current{border-bottom:1px solid #e2e8f0}:host-context(html:not(.dark)) .status-current-label,:host-context(body.light-theme) .status-current-label{color:#64748b}:host-context(html:not(.dark)) .status-option-btn,:host-context(body.light-theme) .status-option-btn{background:#00000005;border:1px solid #e2e8f0;color:#334155}:host-context(html:not(.dark)) .status-option-btn:hover:not(.current):not(.disabled),:host-context(body.light-theme) .status-option-btn:hover:not(.current):not(.disabled){background:#0000000a}:host-context(html:not(.dark)) .status-option-btn.current,:host-context(body.light-theme) .status-option-btn.current{background:#10b9811a;border-color:#10b981;color:#059669}:host-context(html:not(.dark)) .status-option-btn.current lucide-angular:first-child,:host-context(body.light-theme) .status-option-btn.current lucide-angular:first-child{color:#059669}:host-context(html:not(.dark)) .status-modal-loading,:host-context(body.light-theme) .status-modal-loading{color:#64748b;border-top:1px solid #e2e8f0}
`],encapsulation:2});let d=p;return d})();export{ye as CampaignMonitoringComponent};
