import{A as H,E as J,c as Q,f as O,k as G}from"./chunk-YEUR475X.js";import{Rb as q,Sb as D}from"./chunk-UE4ONSKR.js";import{a as F}from"./chunk-DF6EJM3T.js";import{Ac as T,Cc as z,E as S,Mb as l,Nb as i,Ob as a,Pb as c,Wb as v,Ya as A,Yb as u,_b as h,bb as e,da as C,dd as N,ed as M,fd as $,ha as E,hb as L,jc as W,jd as j,lc as w,ld as V,mc as s,nc as g,oa as x,ob as I,oc as b,pa as f,pc as P,rc as k,sc as B,tb as m,tc as R,td as U}from"./chunk-QOPKCBWK.js";var K=(()=>{let p=class p{constructor(t){this.http=t,this.baseUrl=F.scraperServiceUrl||"http://localhost:8090"}queryPhoneLines(t){return this.http.post(`${this.baseUrl}/api/v1/phone-lines/query`,t)}queryPhoneLinesForceRefresh(t){return this.http.post(`${this.baseUrl}/api/v1/phone-lines/query/refresh`,t)}queryPhoneLinesByDocument(t){return this.http.get(`${this.baseUrl}/api/v1/phone-lines/query/${t}`)}startBatch(t=!1){return this.http.post(`${this.baseUrl}/api/batch/phone-lines/start?skipWhatsApp=${t}`,{})}getBatchStatus(t){return this.http.get(`${this.baseUrl}/api/batch/phone-lines/status/${t}`)}isBatchRunning(){return this.http.get(`${this.baseUrl}/api/batch/phone-lines/running`)}stopBatch(t){return this.http.post(`${this.baseUrl}/api/batch/phone-lines/stop/${t}`,{})}resetStuckBatches(){return this.http.post(`${this.baseUrl}/api/batch/phone-lines/reset`,{},{responseType:"text"})}getWhatsAppStatus(){return this.http.get(`${this.baseUrl}/api/v1/whatsapp/status`)}connectWhatsApp(){return this.http.post(`${this.baseUrl}/api/v1/whatsapp/connect`,{})}getWhatsAppQR(){return this.http.get(`${this.baseUrl}/api/v1/whatsapp/qr`)}verifyPendingPhones(){return this.http.post(`${this.baseUrl}/api/v1/whatsapp/verify`,{})}logoutWhatsApp(){return this.http.post(`${this.baseUrl}/api/v1/whatsapp/logout`,{})}};p.\u0275fac=function(o){return new(o||p)(E(U))},p.\u0275prov=C({token:p,factory:p.\u0275fac,providedIn:"root"});let r=p;return r})();function Z(r,p){r&1&&(i(0,"span",36),s(1," Sin WhatsApp "),a())}function ee(r,p){if(r&1){let n=v();i(0,"button",37),u("click",function(){x(n);let o=h(2);return f(o.stopBatch())}),s(1," Detener "),a()}}function te(r,p){if(r&1&&(i(0,"div",26)(1,"div",27)(2,"div",28)(3,"span",29),s(4,"Proceso Batch"),a(),m(5,Z,2,0,"span",30),a(),i(6,"div",28)(7,"span",31),s(8),a(),m(9,ee,2,0,"button",32),a()(),i(10,"div",33),c(11,"div",34),a(),i(12,"div",35)(13,"span"),s(14),a(),i(15,"span"),s(16),a()()()),r&2){let n=h();e(5),l("ngIf",n.batchSkippedWhatsApp),e(2),w(n.batchStatus.status==="RUNNING"?"bg-blue-500/20 text-blue-400":n.batchStatus.status==="COMPLETED"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),e(),b(" ",n.batchStatus.status," "),e(),l("ngIf",n.isBatchRunning),e(2),W("width",n.getBatchProgressPercent(),"%"),e(3),P("",n.batchStatus.processedRecords," / ",n.batchStatus.totalRecords),e(2),P("Exitosos: ",n.batchStatus.successfulRecords," | Fallidos: ",n.batchStatus.failedRecords)}}function ne(r,p){if(r&1&&(i(0,"div",38)(1,"p",39),s(2),a()()),r&2){let n=h();e(2),g(n.batchError)}}function ie(r,p){r&1&&(i(0,"div",40),c(1,"div",41),i(2,"p",42),s(3,"Consultando OSIPTEL..."),a(),i(4,"p",43),s(5,"Esto puede tomar unos segundos"),a()())}function re(r,p){if(r&1&&(i(0,"div",44),c(1,"lucide-angular",45),i(2,"div")(3,"p",46),s(4,"Error en la consulta"),a(),i(5,"p",39),s(6),a()()()),r&2){let n=h();e(),l("size",24),e(5),g(n.error)}}function ae(r,p){r&1&&(i(0,"div",62),c(1,"lucide-angular",63),i(2,"p",42),s(3,"No se encontraron lineas telefonicas asociadas a este documento"),a()()),r&2&&(e(),l("size",48))}function se(r,p){if(r&1&&(i(0,"tr",70)(1,"td",71),s(2),a(),i(3,"td",72)(4,"div",28),c(5,"lucide-angular",73),i(6,"span",74),s(7),a()()(),i(8,"td",72)(9,"span",75),s(10),a()()()),r&2){let n=p.$implicit,t=p.index,o=h(3);e(2),g(t+1),e(3),l("size",16),e(2),g(n.phoneNumber),e(2),l("ngClass",o.getCarrierColor(n.carrier)),e(),b(" ",n.carrier," ")}}function oe(r,p){if(r&1&&(i(0,"div",64)(1,"table",65)(2,"thead",66)(3,"tr")(4,"th",67),s(5,"#"),a(),i(6,"th",67),s(7,"Telefono"),a(),i(8,"th",67),s(9,"Empresa"),a()()(),i(10,"tbody",68),m(11,se,11,5,"tr",69),a()()()),r&2){let n=h(2);e(11),l("ngForOf",n.response.phoneLines)}}function le(r,p){if(r&1&&(i(0,"div",47)(1,"div",48)(2,"div",49)(3,"div",50)(4,"div",51),c(5,"lucide-angular",52),a(),i(6,"div")(7,"p",53),s(8,"Documento"),a(),i(9,"p",54),s(10),a(),i(11,"span",55),s(12),a()()(),i(13,"div",56)(14,"div",57)(15,"p",58),s(16),a(),i(17,"p",53),s(18,"Lineas encontradas"),a()()()()(),m(19,ae,4,1,"div",59)(20,oe,12,1,"div",60),i(21,"div",61),s(22),T(23,"date"),a()()),r&2){let n=h();e(5),l("size",24),e(5),g(n.response.documentNumber),e(2),g(n.response.documentType),e(4),g(n.response.totalLines),e(3),l("ngIf",n.response.phoneLines.length===0),e(),l("ngIf",n.response.phoneLines.length>0),e(2),b(" Consulta realizada: ",z(23,7,n.response.queryDate,"dd/MM/yyyy HH:mm:ss")," ")}}function pe(r,p){if(r&1&&(i(0,"div",91)(1,"p",92),s(2,"Escanea el codigo QR con WhatsApp"),a(),c(3,"img",93),i(4,"p",94),s(5,"El codigo expira en 60 segundos"),a()()),r&2){let n=h(2);e(3),l("src",n.whatsAppQR,A)}}function de(r,p){r&1&&(i(0,"div",95),c(1,"lucide-angular",96),i(2,"p",97),s(3,"WhatsApp conectado correctamente"),a()()),r&2&&(e(),l("size",48))}function ce(r,p){if(r&1&&(i(0,"div",98)(1,"p",39),s(2),a()()),r&2){let n=h(2);e(2),g(n.whatsAppError)}}function he(r,p){if(r&1){let n=v();i(0,"button",99),u("click",function(){x(n);let o=h(2);return f(o.connectWhatsApp())}),c(1,"lucide-angular",100),s(2),a()}if(r&2){let n=h(2);l("disabled",n.isConnectingWhatsApp),e(),l("size",16),e(),b(" ",n.isConnectingWhatsApp?"Conectando...":"Generar QR"," ")}}function ue(r,p){if(r&1){let n=v();i(0,"button",101),u("click",function(){x(n);let o=h(2);return f(o.confirmStartBatch())}),c(1,"lucide-angular",102),s(2," Iniciar Consulta Masiva "),a()}r&2&&(e(),l("size",16))}function me(r,p){if(r&1){let n=v();i(0,"button",103),u("click",function(){x(n);let o=h(2);return f(o.skipWhatsAppAndStartBatch())}),c(1,"lucide-angular",104),s(2," Saltar y continuar sin WhatsApp "),a()}r&2&&(e(),l("size",16))}function ge(r,p){if(r&1){let n=v();i(0,"div",76)(1,"div",77)(2,"div",78)(3,"h3",79),s(4,"Conectar WhatsApp"),a(),i(5,"button",80),u("click",function(){x(n);let o=h();return f(o.closeWhatsAppModal())}),c(6,"lucide-angular",16),a()(),i(7,"div",1),c(8,"div",81),i(9,"span",29),s(10),a()(),m(11,pe,6,1,"div",82)(12,de,4,1,"div",83)(13,ce,3,1,"div",84),i(14,"div",85)(15,"div",86),m(16,he,3,3,"button",87)(17,ue,3,1,"button",88),i(18,"button",89),u("click",function(){x(n);let o=h();return f(o.closeWhatsAppModal())}),s(19," Cancelar "),a()(),m(20,me,3,1,"button",90),a()()()}if(r&2){let n=h();e(6),l("size",20),e(2),w(n.isWhatsAppConnected()?"bg-green-500":"bg-red-500"),e(2),b(" ",n.isWhatsAppConnected()?"Conectado":"Desconectado"," "),e(),l("ngIf",n.whatsAppQR&&!n.isWhatsAppConnected()),e(),l("ngIf",n.isWhatsAppConnected()),e(),l("ngIf",n.whatsAppError),e(3),l("ngIf",!n.isWhatsAppConnected()),e(),l("ngIf",n.isWhatsAppConnected()),e(3),l("ngIf",!n.isWhatsAppConnected())}}function be(r,p){if(r&1){let n=v();i(0,"div",76)(1,"div",105),c(2,"lucide-angular",106),i(3,"p",107),s(4,"Proceso iniciado"),a(),i(5,"p",108),s(6),a(),i(7,"button",109),u("click",function(){x(n);let o=h();return f(o.closeBatchStartedPopup())}),s(8," Entendido "),a()()()}if(r&2){let n=h();e(2),l("size",48),e(4),b(" ",n.batchSkippedWhatsApp?"El batch se est\xE1 ejecutando sin verificaci\xF3n de WhatsApp":"El batch se est\xE1 ejecutando"," ")}}var Ee=(()=>{let p=class p{constructor(t){this.phoneLineService=t,this.documentNumber="",this.isLoading=!1,this.response=null,this.error=null,this.batchStatus=null,this.isBatchRunning=!1,this.batchError=null,this.batchSkippedWhatsApp=!1,this.showBatchStartedPopup=!1,this.whatsAppStatus=null,this.whatsAppQR=null,this.isConnectingWhatsApp=!1,this.whatsAppError=null,this.showWhatsAppModal=!1,this.batchPolling$=null,this.whatsAppPolling$=null}ngOnInit(){this.checkInitialStatus()}ngOnDestroy(){this.stopBatchPolling(),this.stopWhatsAppPolling()}checkInitialStatus(){this.phoneLineService.isBatchRunning().subscribe({next:t=>{this.isBatchRunning=t}}),this.refreshWhatsAppStatus()}startBatchProcess(){this.refreshWhatsAppStatus(),this.showWhatsAppModal=!0}closeWhatsAppModal(){this.showWhatsAppModal=!1,this.whatsAppError=null}confirmStartBatch(){this.showWhatsAppModal=!1,this.startBatch(!1)}skipWhatsAppAndStartBatch(){this.showWhatsAppModal=!1,this.startBatch(!0)}search(){if(!this.documentNumber||this.documentNumber.length<8){this.error="Ingrese un documento valido (minimo 8 digitos)";return}this.isLoading=!0,this.error=null,this.response=null,this.phoneLineService.queryPhoneLines({documentNumber:this.documentNumber}).subscribe({next:t=>{this.response=t,this.isLoading=!1},error:t=>{this.error=t?.error?.message||"Error al consultar las lineas telefonicas",this.isLoading=!1}})}forceRefresh(){if(!this.documentNumber||this.documentNumber.length<8){this.error="Ingrese un documento valido (minimo 8 digitos)";return}this.isLoading=!0,this.error=null,this.response=null,this.phoneLineService.queryPhoneLinesForceRefresh({documentNumber:this.documentNumber}).subscribe({next:t=>{this.response=t,this.isLoading=!1},error:t=>{this.error=t?.error?.message||"Error al consultar las lineas telefonicas",this.isLoading=!1}})}clearResults(){this.documentNumber="",this.response=null,this.error=null}startBatch(t=!1){this.isBatchRunning||(this.batchError=null,this.batchSkippedWhatsApp=t,this.isBatchRunning=!0,this.phoneLineService.startBatch(t).subscribe({next:o=>{this.batchStatus=o,this.isBatchRunning=o.status==="RUNNING"||o.status==="STARTED",this.isBatchRunning&&(this.showBatchStartedPopup=!0,this.startBatchPolling(o.batchId))},error:o=>{this.batchError=o?.error?.message||"Error al iniciar el proceso batch",this.isBatchRunning=!1}}))}closeBatchStartedPopup(){this.showBatchStartedPopup=!1}stopBatch(){this.batchStatus?.batchId&&this.phoneLineService.stopBatch(this.batchStatus.batchId).subscribe({next:t=>{this.batchStatus=t,this.isBatchRunning=!1,this.stopBatchPolling()},error:t=>{this.batchError=t?.error?.message||"Error al detener el proceso batch"}})}resetBatches(){this.phoneLineService.resetStuckBatches().subscribe({next:()=>{this.batchStatus=null,this.isBatchRunning=!1,this.stopBatchPolling()},error:t=>{this.batchError="Error al resetear batches"}})}startBatchPolling(t){this.stopBatchPolling(),this.batchPolling$=S(3e3).subscribe(()=>{this.phoneLineService.getBatchStatus(t).subscribe({next:o=>{this.batchStatus=o,o.status!=="RUNNING"&&(this.isBatchRunning=!1,this.stopBatchPolling())}})})}stopBatchPolling(){this.batchPolling$&&(this.batchPolling$.unsubscribe(),this.batchPolling$=null)}getBatchProgressPercent(){return!this.batchStatus||this.batchStatus.totalRecords===0?0:Math.round(this.batchStatus.processedRecords/this.batchStatus.totalRecords*100)}refreshWhatsAppStatus(){this.phoneLineService.getWhatsAppStatus().subscribe({next:t=>{this.whatsAppStatus=t,t.status==="qr_ready"?this.phoneLineService.getWhatsAppQR().subscribe({next:o=>{this.whatsAppQR=o.qrCode}}):this.whatsAppQR=null},error:()=>{this.whatsAppStatus=null}})}connectWhatsApp(){this.isConnectingWhatsApp=!0,this.whatsAppError=null,this.phoneLineService.connectWhatsApp().subscribe({next:t=>{this.isConnectingWhatsApp=!1,t.status==="connected"?(this.whatsAppQR=null,this.refreshWhatsAppStatus()):t.qrCode&&(this.whatsAppQR=t.qrCode,this.startWhatsAppPolling())},error:t=>{this.isConnectingWhatsApp=!1,this.whatsAppError=t?.error?.message||"Error al conectar WhatsApp"}})}startWhatsAppPolling(){this.stopWhatsAppPolling(),this.whatsAppPolling$=S(3e3).subscribe(()=>{this.refreshWhatsAppStatus(),this.whatsAppStatus?.status==="connected"&&this.stopWhatsAppPolling()})}stopWhatsAppPolling(){this.whatsAppPolling$&&(this.whatsAppPolling$.unsubscribe(),this.whatsAppPolling$=null)}isWhatsAppConnected(){return this.whatsAppStatus?.status==="connected"}getCarrierColor(t){let o=t?.toLowerCase()||"";return o.includes("claro")?"bg-red-100 text-red-700 border-red-300":o.includes("movistar")?"bg-blue-100 text-blue-700 border-blue-300":o.includes("entel")?"bg-orange-100 text-orange-700 border-orange-300":o.includes("bitel")?"bg-green-100 text-green-700 border-green-300":"bg-gray-100 text-gray-700 border-gray-300"}getModalityIcon(t){let o=t?.toLowerCase()||"";return o.includes("prepago")?"credit-card":o.includes("postpago")?"file-text":o.includes("control")?"sliders":"smartphone"}};p.\u0275fac=function(o){return new(o||p)(L(K))},p.\u0275cmp=I({type:p,selectors:[["app-phone-lines-page"]],decls:35,vars:18,consts:[[1,"min-h-screen","bg-slate-950","p-4"],[1,"flex","items-center","gap-2","mb-4"],[1,"w-8","h-8","bg-gradient-to-br","from-cyan-600","to-blue-700","rounded-lg","flex","items-center","justify-center"],["name","smartphone",1,"text-white",3,"size"],[1,"text-lg","font-bold","text-white"],[1,"text-xs","text-gray-400"],[1,"bg-slate-800","rounded-lg","p-4","mb-4","border","border-slate-700"],[1,"flex","flex-wrap","gap-3","items-end"],[1,"flex-1","min-w-[200px]"],[1,"block","text-sm","font-medium","text-gray-300","mb-1"],["type","text","placeholder","Ingrese DNI o CE","maxlength","12",1,"w-full","h-10","px-3","text-sm","border","border-slate-600","rounded-lg","bg-slate-700","text-white","placeholder:text-slate-400","focus:ring-2","focus:ring-cyan-500","focus:border-transparent","transition-colors",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-cyan-600","to-blue-700","hover:from-cyan-700","hover:to-blue-800","rounded-lg","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],["name","search",3,"size"],["type","button","title","Forzar nueva consulta (ignorar cache)",1,"h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-orange-500","to-orange-600","hover:from-orange-600","hover:to-orange-700","rounded-lg","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],["name","refresh-cw",3,"size"],["type","button",1,"h-10","px-4","text-sm","font-medium","text-gray-300","bg-slate-700","hover:bg-slate-600","rounded-lg","transition-all","duration-200","flex","items-center","gap-2",3,"click"],["name","x",3,"size"],[1,"w-px","h-10","bg-slate-600","mx-2"],["type","button",1,"h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-purple-600","to-purple-700","hover:from-purple-700","hover:to-purple-800","rounded-lg","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],["name","layers",3,"size"],["class","mt-4 p-3 bg-slate-900 rounded-lg",4,"ngIf"],["class","mt-3 p-2 bg-red-900/30 rounded-lg border border-red-700",4,"ngIf"],["class","bg-slate-800 rounded-lg p-8 border border-slate-700 flex flex-col items-center justify-center",4,"ngIf"],["class","bg-red-900/30 rounded-lg p-4 border border-red-700 flex items-center gap-3",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","fixed inset-0 bg-black/70 flex items-center justify-center z-50",4,"ngIf"],[1,"mt-4","p-3","bg-slate-900","rounded-lg"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-300"],["class","px-2 py-0.5 text-xs font-medium rounded-full bg-orange-500/20 text-orange-400",4,"ngIf"],[1,"px-2","py-0.5","text-xs","font-medium","rounded-full"],["class","text-red-400 hover:text-red-300 text-xs",3,"click",4,"ngIf"],[1,"h-2","bg-slate-700","rounded-full","overflow-hidden","mb-2"],[1,"h-full","bg-gradient-to-r","from-cyan-500","to-blue-500","transition-all","duration-300"],[1,"flex","justify-between","text-xs","text-gray-400"],[1,"px-2","py-0.5","text-xs","font-medium","rounded-full","bg-orange-500/20","text-orange-400"],[1,"text-red-400","hover:text-red-300","text-xs",3,"click"],[1,"mt-3","p-2","bg-red-900/30","rounded-lg","border","border-red-700"],[1,"text-red-400","text-sm"],[1,"bg-slate-800","rounded-lg","p-8","border","border-slate-700","flex","flex-col","items-center","justify-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-cyan-500","mb-4"],[1,"text-gray-400"],[1,"text-xs","text-gray-500","mt-1"],[1,"bg-red-900/30","rounded-lg","p-4","border","border-red-700","flex","items-center","gap-3"],["name","alert-circle",1,"text-red-400",3,"size"],[1,"text-red-300","font-medium"],[1,"space-y-4"],[1,"bg-slate-800","rounded-lg","p-4","border","border-slate-700"],[1,"flex","flex-wrap","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-cyan-600","to-blue-700","rounded-full","flex","items-center","justify-center"],["name","user",1,"text-white",3,"size"],[1,"text-gray-400","text-sm"],[1,"text-white","text-lg","font-bold"],[1,"text-xs","px-2","py-0.5","rounded","bg-slate-700","text-gray-300"],[1,"flex","items-center","gap-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-cyan-400"],["class","bg-slate-800 rounded-lg p-8 border border-slate-700 text-center",4,"ngIf"],["class","bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",4,"ngIf"],[1,"text-center","text-xs","text-gray-500"],[1,"bg-slate-800","rounded-lg","p-8","border","border-slate-700","text-center"],["name","phone-off",1,"text-gray-500","mx-auto","mb-4",3,"size"],[1,"bg-slate-800","rounded-lg","border","border-slate-700","overflow-hidden"],[1,"w-full"],[1,"bg-slate-900"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700"],["class","hover:bg-slate-700/50 transition-colors",4,"ngFor","ngForOf"],[1,"hover:bg-slate-700/50","transition-colors"],[1,"px-4","py-3","text-sm","text-gray-400"],[1,"px-4","py-3"],["name","phone",1,"text-cyan-400",3,"size"],[1,"text-white","font-medium"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","border",3,"ngClass"],[1,"fixed","inset-0","bg-black/70","flex","items-center","justify-center","z-50"],[1,"bg-slate-800","rounded-lg","p-6","max-w-md","w-full","mx-4","border","border-slate-700"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-white"],[1,"text-gray-400","hover:text-white",3,"click"],[1,"w-3","h-3","rounded-full"],["class","flex flex-col items-center gap-4 p-4 bg-slate-900 rounded-lg mb-4",4,"ngIf"],["class","flex flex-col items-center gap-4 p-4 bg-green-900/30 rounded-lg mb-4 border border-green-700",4,"ngIf"],["class","bg-red-900/30 rounded-lg p-3 border border-red-700 mb-4",4,"ngIf"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-2"],["type","button","class","flex-1 h-10 px-4 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",3,"disabled","click",4,"ngIf"],["type","button","class","flex-1 h-10 px-4 text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",3,"click",4,"ngIf"],["type","button",1,"h-10","px-4","text-sm","font-medium","text-gray-300","bg-slate-700","hover:bg-slate-600","rounded-lg","transition-all","duration-200",3,"click"],["type","button","class","w-full h-9 text-sm font-medium text-gray-400 hover:text-white border border-slate-600 hover:border-slate-500 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","gap-4","p-4","bg-slate-900","rounded-lg","mb-4"],[1,"text-sm","text-gray-400"],["alt","QR Code",1,"w-48","h-48","bg-white","p-2","rounded-lg",3,"src"],[1,"text-xs","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","p-4","bg-green-900/30","rounded-lg","mb-4","border","border-green-700"],["name","check-circle",1,"text-green-400",3,"size"],[1,"text-green-300","text-center"],[1,"bg-red-900/30","rounded-lg","p-3","border","border-red-700","mb-4"],["type","button",1,"flex-1","h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-green-500","to-green-600","hover:from-green-600","hover:to-green-700","rounded-lg","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center","gap-2",3,"click","disabled"],["name","qr-code",3,"size"],["type","button",1,"flex-1","h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-purple-600","to-purple-700","hover:from-purple-700","hover:to-purple-800","rounded-lg","transition-all","duration-200","flex","items-center","justify-center","gap-2",3,"click"],["name","play",3,"size"],["type","button",1,"w-full","h-9","text-sm","font-medium","text-gray-400","hover:text-white","border","border-slate-600","hover:border-slate-500","rounded-lg","transition-all","duration-200","flex","items-center","justify-center","gap-2",3,"click"],["name","skip-forward",3,"size"],[1,"bg-slate-800","rounded-lg","p-6","max-w-sm","w-full","mx-4","border","border-slate-700","text-center"],["name","check-circle",1,"text-green-400","mx-auto","mb-4",3,"size"],[1,"text-white","font-medium","text-lg"],[1,"text-gray-400","text-sm","mt-2"],[1,"mt-4","w-full","h-10","px-4","text-sm","font-medium","text-white","bg-gradient-to-r","from-cyan-600","to-blue-700","hover:from-cyan-700","hover:to-blue-800","rounded-lg","transition-all",3,"click"]],template:function(o,d){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),c(3,"lucide-angular",3),a(),i(4,"div")(5,"h1",4),s(6,"Consulta de Lineas Telefonicas"),a(),i(7,"p",5),s(8,"Consulta lineas asociadas a un documento (OSIPTEL)"),a()()(),i(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),s(13,"Numero de Documento"),a(),i(14,"input",10),R("ngModelChange",function(y){return B(d.documentNumber,y)||(d.documentNumber=y),y}),u("keyup.enter",function(){return d.search()}),a()(),i(15,"button",11),u("click",function(){return d.search()}),c(16,"lucide-angular",12),s(17),a(),i(18,"button",13),u("click",function(){return d.forceRefresh()}),c(19,"lucide-angular",14),s(20," Actualizar "),a(),i(21,"button",15),u("click",function(){return d.clearResults()}),c(22,"lucide-angular",16),s(23," Limpiar "),a(),c(24,"div",17),i(25,"button",18),u("click",function(){return d.startBatchProcess()}),c(26,"lucide-angular",19),s(27),a()(),m(28,te,17,11,"div",20)(29,ne,3,1,"div",21),a(),m(30,ie,6,0,"div",22)(31,re,7,2,"div",23)(32,le,24,10,"div",24),a(),m(33,ge,21,10,"div",25)(34,be,9,2,"div",25)),o&2&&(e(3),l("size",16),e(11),k("ngModel",d.documentNumber),e(),l("disabled",d.isLoading||!d.documentNumber),e(),l("size",16),e(),b(" ",d.isLoading?"Consultando...":"Consultar"," "),e(),l("disabled",d.isLoading||!d.documentNumber),e(),l("size",16),e(3),l("size",16),e(3),l("disabled",d.isBatchRunning),e(),l("size",16),e(),b(" ",d.isBatchRunning?"Procesando...":"Consulta Masiva OSIPTEL"," "),e(),l("ngIf",d.batchStatus),e(),l("ngIf",d.batchError),e(),l("ngIf",d.isLoading),e(),l("ngIf",d.error&&!d.isLoading),e(),l("ngIf",d.response&&!d.isLoading),e(),l("ngIf",d.showWhatsAppModal),e(),l("ngIf",d.showBatchStartedPopup))},dependencies:[V,N,M,$,J,Q,O,H,G,D,q,j],encapsulation:2});let r=p;return r})();export{Ee as PhoneLinesPageComponent};
