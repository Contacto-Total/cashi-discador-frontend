import{c as te,d as ie}from"./chunk-XQ65SWR6.js";import{a as ee}from"./chunk-XCDAWB4O.js";import{c as Q}from"./chunk-FYMDUG3I.js";import{Rb as J,Sb as X}from"./chunk-PSICT5GB.js";import{a as j}from"./chunk-YQKVMPSG.js";import{$a as c,Ac as Y,Kb as d,Lb as r,Mb as s,Nb as g,Rb as O,Sb as D,Ub as U,Wb as w,Yb as m,_ as b,ba as R,dd as q,fa as y,fb as C,ic as V,kc as l,kd as B,lc as T,ld as G,m as P,ma as I,mb as H,mc as N,na as v,nc as $,rb as k,rd as K,td as F,wa as A,yc as W}from"./chunk-FWGUXTKY.js";var ye=(()=>{let t=class t{constructor(e,o){this.http=e,this.webSocketService=o,this.baseUrl=`${j.gatewayUrl}/autorizaciones`,this.supervisoresEnLinea=A([]),this.solicitudesPendientes=A([]),this.solicitudActual=A(null),this.cargando=A(!1),this.nuevaSolicitudSubject=new P,this.respuestaSubject=new P,this.nuevaSolicitud$=this.nuevaSolicitudSubject.asObservable(),this.respuesta$=this.respuestaSubject.asObservable(),this.wsSubscribed=!1,this.subscribeToWebSocket()}getHeaders(){let e=localStorage.getItem("callcenter_token");return new K({"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""})}getCurrentUserId(){try{let e=localStorage.getItem("callcenter_user");if(e)return JSON.parse(e).id||null}catch(e){console.error("[AUTORIZACION] Error obteniendo usuario actual:",e)}return null}obtenerSupervisoresEnLinea(){return console.log("[AUTORIZACION] Obteniendo supervisores en l\xEDnea..."),this.cargando.set(!0),this.http.get(`${this.baseUrl}/supervisores-en-linea`,{headers:this.getHeaders()}).pipe(b(e=>{this.supervisoresEnLinea.set(e),this.cargando.set(!1),console.log("[AUTORIZACION] Supervisores encontrados:",e.length)}))}crearSolicitud(e){return console.log("[AUTORIZACION] Creando solicitud:",e),this.cargando.set(!0),this.http.post(this.baseUrl,e,{headers:this.getHeaders()}).pipe(b(o=>{this.solicitudActual.set(o),this.cargando.set(!1),console.log("[AUTORIZACION] Solicitud creada:",o.uuid)}))}responderSolicitud(e){return console.log("[AUTORIZACION] Respondiendo solicitud:",e),this.http.post(`${this.baseUrl}/responder`,e,{headers:this.getHeaders()}).pipe(b(o=>{console.log("[AUTORIZACION] Solicitud respondida:",o.estado),this.solicitudesPendientes.update(a=>a.filter(u=>u.uuid!==o.uuid))}))}obtenerSolicitudesPendientes(e){return console.log("[AUTORIZACION] Obteniendo pendientes para supervisor:",e),this.http.get(`${this.baseUrl}/pendientes/${e}`,{headers:this.getHeaders()}).pipe(b(o=>{this.solicitudesPendientes.set(o),console.log("[AUTORIZACION] Solicitudes pendientes:",o.length)}))}obtenerPorUuid(e){return this.http.get(`${this.baseUrl}/${e}`,{headers:this.getHeaders()})}cancelarSolicitud(e,o){return console.log("[AUTORIZACION] Cancelando solicitud:",e),this.http.post(`${this.baseUrl}/${e}/cancelar`,{idAgente:o},{headers:this.getHeaders()}).pipe(b(a=>{this.solicitudActual.set(null),console.log("[AUTORIZACION] Solicitud cancelada")}))}subscribeToWebSocket(){this.wsSubscribed||(console.log("[AUTORIZACION] Iniciando suscripci\xF3n a WebSocket..."),this.webSocketService.isConnected()||(console.log("[AUTORIZACION] WebSocket no conectado, iniciando conexi\xF3n..."),this.webSocketService.connect()),console.log("[AUTORIZACION] Suscribiendo a /user/queue/messages..."),this.webSocketService.subscribe("/user/queue/messages").subscribe(e=>{console.log("[AUTORIZACION] \u{1F4EC} Mensaje recibido en /user/queue/messages:",e),this.handleWebSocketMessage(e)}),console.log("[AUTORIZACION] Suscribiendo a /topic/autorizaciones/supervisores..."),this.webSocketService.subscribe("/topic/autorizaciones/supervisores").subscribe(e=>{console.log("[AUTORIZACION] \u{1F4EC} Mensaje recibido en /topic/autorizaciones/supervisores:",e),this.handleWebSocketMessage(e)}),this.wsSubscribed=!0,console.log("[AUTORIZACION] \u2705 Subscrito a WebSocket para autorizaciones"))}ensureWebSocketSubscription(){console.log("[AUTORIZACION] Verificando suscripci\xF3n WebSocket..."),this.wsSubscribed?console.log("[AUTORIZACION] Ya est\xE1 suscrito a WebSocket"):this.subscribeToWebSocket()}handleWebSocketMessage(e){if(console.log("[AUTORIZACION] \u{1F4E8} Mensaje WebSocket recibido (raw):",JSON.stringify(e,null,2)),!e)return;let o;if(e.tipo&&e.solicitud)o=e,console.log("[AUTORIZACION] \u2705 Mensaje en formato directo:",o.tipo);else if(e.payload&&e.payload.tipo)o=e.payload,console.log("[AUTORIZACION] \u2705 Mensaje normalizado desde payload:",o.tipo);else if(e.type&&e.payload&&e.payload.solicitud)o=e.payload,console.log("[AUTORIZACION] \u2705 Mensaje normalizado desde type/payload:",o.tipo);else{console.log("[AUTORIZACION] \u26A0\uFE0F Formato de mensaje no reconocido:",e);return}if(!o.tipo||!o.solicitud){console.log("[AUTORIZACION] \u26A0\uFE0F Evento incompleto, ignorando:",o);return}let a=this.getCurrentUserId();switch(console.log("[AUTORIZACION] Procesando evento:",o.tipo,"| Usuario actual:",a),o.tipo){case"NUEVA_SOLICITUD_AUTORIZACION":if(o.solicitud.idSupervisor!==a){console.log("[AUTORIZACION] Ignorando solicitud - no es para este supervisor. Destinatario:",o.solicitud.idSupervisor,"Yo:",a);return}console.log("[AUTORIZACION] Nueva solicitud recibida para M\xCD!"),this.solicitudesPendientes.update(u=>[o.solicitud,...u]),this.nuevaSolicitudSubject.next(o.solicitud);break;case"SOLICITUD_APROBADA":if(o.solicitud.idAgenteSolicitante!==a){console.log("[AUTORIZACION] \u23ED\uFE0F Ignorando APROBADA - no es mi solicitud. Agente:",o.solicitud.idAgenteSolicitante,"Yo:",a);return}console.log("[AUTORIZACION] \u2705 \xA1MI Solicitud fue APROBADA!"),this.solicitudActual.set(o.solicitud),this.respuestaSubject.next(o.solicitud);break;case"SOLICITUD_RECHAZADA":if(o.solicitud.idAgenteSolicitante!==a){console.log("[AUTORIZACION] \u23ED\uFE0F Ignorando RECHAZADA - no es mi solicitud. Agente:",o.solicitud.idAgenteSolicitante,"Yo:",a);return}console.log("[AUTORIZACION] \u274C \xA1MI Solicitud fue RECHAZADA!"),this.solicitudActual.set(o.solicitud),this.respuestaSubject.next(o.solicitud);break;case"SOLICITUD_CANCELADA":console.log("[AUTORIZACION] Solicitud cancelada por agente"),this.solicitudesPendientes.update(u=>u.filter(f=>f.uuid!==o.solicitud.uuid));break;case"SOLICITUD_EXPIRADA":console.log("[AUTORIZACION] Solicitud expirada!"),this.solicitudActual.set(o.solicitud),this.respuestaSubject.next(o.solicitud);break}}limpiarEstado(){this.solicitudActual.set(null),this.supervisoresEnLinea.set([])}};t.\u0275fac=function(o){return new(o||t)(y(F),y(ee))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var ne=(()=>{let t=class t{constructor(e){this.http=e,this.baseUrl=`${j.apiUrl}/v2/management-records/recordatorios`}getMisRecordatoriosHoy(e){return this.http.get(`${this.baseUrl}/hoy/${e}`)}getMisRecordatoriosProximos(e,o=3){return this.http.get(`${this.baseUrl}/proximos/${e}?dias=${o}`)}registrarIntento(e){return this.http.post(`${this.baseUrl}/registrar`,e)}getEstadisticas(e,o){let a=`${this.baseUrl}/estadisticas/${e}`;return o&&(a+=`?fecha=${o}`),this.http.get(a)}getResultadosPosibles(){return this.http.get(`${this.baseUrl}/resultados-posibles`)}iniciarDialer(e){return this.http.post(`${this.baseUrl}/dialer/iniciar/${e}`,{})}obtenerSiguiente(e){return this.http.get(`${this.baseUrl}/dialer/siguiente/${e}`)}completarActual(e,o,a,u){let f="",S=[];return o&&S.push(`resultado=${o}`),a&&S.push(`uuidLlamada=${a}`),u&&S.push(`observaciones=${encodeURIComponent(u)}`),S.length>0&&(f="?"+S.join("&")),this.http.post(`${this.baseUrl}/dialer/completar/${e}${f}`,{})}detenerDialer(e){return this.http.delete(`${this.baseUrl}/dialer/detener/${e}`)}obtenerEstadoDialer(e){return this.http.get(`${this.baseUrl}/dialer/estado/${e}`)}};t.\u0275fac=function(o){return new(o||t)(y(F))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var p=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(p||{}),ae="*";function E(i,t){return{type:p.Trigger,name:i,definitions:t,options:{}}}function _(i,t=null){return{type:p.Animate,styles:t,timings:i}}function Ae(i,t=null){return{type:p.Sequence,steps:i,options:t}}function h(i){return{type:p.Style,styles:i,offset:null}}function L(i,t,n){return{type:p.State,name:i,styles:t,options:n}}function z(i){return{type:p.Keyframes,steps:i}}function x(i,t,n=null){return{type:p.Transition,expr:i,animation:t,options:n}}var Z=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,n=0){this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(e=>e()),n.length=0}},M=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let n=0,e=0,o=0,a=this.players.length;a==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++n==a&&this._onFinish()}),u.onDestroy(()=>{++e==a&&this._onDestroy()}),u.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(e=>{let o=e.totalTime?Math.min(1,n/e.totalTime):1;e.setPosition(o)})}getPosition(){let t=this.players.reduce((n,e)=>n===null||e.totalTime>n.totalTime?e:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(e=>e()),n.length=0}},le="!";function ce(i,t){if(i&1){let n=U();O(0),r(1,"div",2)(2,"div",3),g(3,"lucide-angular",4),s(),r(4,"div")(5,"h2",5),l(6,"Recordatorios del d\xEDa"),s(),r(7,"p",6),l(8,"Promesas de pago que vencen hoy"),s()()(),r(9,"div",7)(10,"div",8)(11,"div")(12,"p",9),l(13,"Tienes"),s(),r(14,"p",10),l(15),s(),r(16,"p",9),l(17,"cliente(s) por llamar"),s()(),g(18,"lucide-angular",11),s()(),r(19,"p",12),l(20," Inicia el marcado autom\xE1tico para recordar a tus clientes sobre sus compromisos de pago. "),s(),r(21,"div",13)(22,"button",14),w("click",function(){I(n);let o=m();return v(o.cerrar())}),l(23," M\xE1s tarde "),s(),r(24,"button",15),w("click",function(){I(n);let o=m();return v(o.iniciarDiscado())}),g(25,"lucide-angular",16),l(26),s()(),D()}if(i&2){let n=m();c(3),d("size",24),c(12),T(n.data.pendientes),c(3),d("size",48),c(6),d("disabled",n.isLoading),c(),d("size",16),c(),N(" ",n.isLoading?"Cargando...":"Iniciar"," ")}}function de(i,t){if(i&1&&(r(0,"div",23),l(1),s()),i&2){let n=m(2);V("text-red-500",n.countdownNumber<=2)("text-orange-500",n.countdownNumber===3)("text-yellow-500",n.countdownNumber===4)("text-green-500",n.countdownNumber===5),d("@countdownNumber",void 0),c(),N(" ",n.countdownNumber," ")}}function ue(i,t){if(i&1){let n=U();O(0),r(1,"div",17)(2,"p",18),l(3,"Iniciando en..."),s(),r(4,"div",19),k(5,de,2,10,"div",20),s(),r(6,"p",21),l(7," Preparando la llamada al cliente... "),s(),r(8,"button",22),w("click",function(){I(n);let o=m();return v(o.cancelarDiscado())}),l(9," Cancelar "),s()(),D()}if(i&2){let n=m();c(5),d("ngIf",n.countdownNumber>0)}}function he(i,t){if(i&1&&(r(0,"div",30)(1,"p",6),l(2,"Cliente"),s(),r(3,"p",31),l(4),s(),r(5,"div",32)(6,"div")(7,"p",33),l(8,"Tel\xE9fono"),s(),r(9,"p",34),l(10),s()(),r(11,"div")(12,"p",33),l(13,"Monto"),s(),r(14,"p",35),l(15),W(16,"number"),s()()(),r(17,"div",36)(18,"p",33),l(19),s()()()),i&2){let n=m(2);c(4),T(n.recordatorioActual.nombreCliente),c(6),T(n.recordatorioActual.telefono),c(5),N("S/ ",Y(16,5,n.recordatorioActual.monto,"1.2-2")),c(4),$("Cuota ",n.recordatorioActual.numeroCuota," de ",n.recordatorioActual.totalCuotas)}}function me(i,t){if(i&1&&(O(0),r(1,"div",24)(2,"div",25),g(3,"lucide-angular",26),s(),r(4,"h2",27),l(5,"Llamando..."),s(),k(6,he,20,8,"div",28),r(7,"div",29),l(8),s()(),D()),i&2){let n=m();c(),d("@fadeSlide",void 0),c(2),d("size",32),c(3),d("ngIf",n.recordatorioActual),c(2),$(" Recordatorio ",(n.estadoDialer==null?null:n.estadoDialer.recordatoriosCompletados)||0," de ",(n.estadoDialer==null?null:n.estadoDialer.totalRecordatorios)||0," ")}}function pe(i,t){if(i&1){let n=U();O(0),r(1,"div",37)(2,"div",38),g(3,"lucide-angular",39),s(),r(4,"h2",27),l(5,"\xA1Terminaste!"),s(),r(6,"p",40),l(7," Has completado todos tus recordatorios de pago por hoy. "),s(),r(8,"div",41)(9,"div",42),g(10,"lucide-angular",43),r(11,"p",44),l(12," Ya puedes ponerte en l\xEDnea para gestionar "),s()()(),r(13,"button",45),w("click",function(){I(n);let o=m();return v(o.cerrar())}),g(14,"lucide-angular",46),l(15," Ir al Dialer "),s()(),D()}i&2&&(c(),d("@fadeSlide",void 0),c(2),d("size",40),c(7),d("size",24),c(4),d("size",18))}var ze=(()=>{let t=class t{constructor(e,o,a,u){this.dialogRef=e,this.data=o,this.router=a,this.recordatoriosService=u,this.modalState="initial",this.countdownNumber=5,this.isLoading=!1,this.recordatorioActual=null,this.estadoDialer=null,this.countdownInterval=null}ngOnInit(){this.data.modoFinalizado?this.modalState="finished":this.data.modoSiguiente&&this.data.recordatorio&&(this.recordatorioActual=this.data.recordatorio,this.iniciarCountdown())}ngOnDestroy(){this.limpiarInterval()}cerrar(){this.limpiarInterval(),this.dialogRef.close({action:"close"})}iniciarDiscado(){this.isLoading=!0,this.recordatoriosService.iniciarDialer(this.data.idAgente).subscribe({next:e=>{this.isLoading=!1,e.success?(this.estadoDialer={recordatoriosCompletados:e.estado.recordatoriosCompletados,totalRecordatorios:e.estado.totalRecordatorios},this.iniciarCountdown()):console.error("Error iniciando dialer:",e.mensaje)},error:e=>{this.isLoading=!1,console.error("Error iniciando dialer:",e)}})}iniciarCountdown(){this.modalState="countdown",this.countdownNumber=5,this.countdownInterval=setInterval(()=>{this.countdownNumber--,this.countdownNumber<=0&&(this.limpiarInterval(),this.obtenerSiguienteYLlamar())},1e3)}obtenerSiguienteYLlamar(){if(this.data.modoSiguiente&&this.recordatorioActual){this.modalState="calling",setTimeout(()=>{this.dialogRef.close({action:"call",recordatorio:this.recordatorioActual,estado:this.estadoDialer})},1500);return}this.recordatoriosService.obtenerSiguiente(this.data.idAgente).subscribe({next:e=>{e.hayMas&&e.recordatorio?(this.recordatorioActual=e.recordatorio,this.estadoDialer=e.estado?{recordatoriosCompletados:e.estado.recordatoriosCompletados,totalRecordatorios:e.estado.totalRecordatorios}:null,this.modalState="calling",setTimeout(()=>{this.dialogRef.close({action:"call",recordatorio:this.recordatorioActual,estado:this.estadoDialer})},1500)):this.modalState="finished"},error:e=>{console.error("Error obteniendo siguiente:",e),this.modalState="finished"}})}cancelarDiscado(){this.limpiarInterval(),this.recordatoriosService.detenerDialer(this.data.idAgente).subscribe({next:()=>{this.dialogRef.close({action:"cancelled"})},error:()=>{this.dialogRef.close({action:"cancelled"})}})}limpiarInterval(){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null)}};t.\u0275fac=function(o){return new(o||t)(C(te),C(ie),C(Q),C(ne))},t.\u0275cmp=H({type:t,selectors:[["app-recordatorios-modal"]],decls:5,vars:4,consts:[[1,"p-6","max-w-md","min-w-[380px]"],[4,"ngIf"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-12","h-12","bg-gradient-to-br","from-orange-500","to-orange-600","rounded-full","flex","items-center","justify-center","shadow-lg"],["name","bell-ring",1,"text-white",3,"size"],[1,"text-lg","font-bold","text-slate-800","dark:text-white"],[1,"text-sm","text-slate-500","dark:text-gray-400"],[1,"bg-orange-50","dark:bg-orange-500/10","border","border-orange-200","dark:border-orange-500/20","rounded-xl","p-4","mb-5"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-orange-700","dark:text-orange-300"],[1,"text-3xl","font-bold","text-orange-600","dark:text-orange-400"],["name","phone-call",1,"text-orange-300","dark:text-orange-600",3,"size"],[1,"text-sm","text-slate-600","dark:text-gray-400","mb-5"],[1,"flex","gap-3"],[1,"flex-1","px-4","py-2.5","bg-slate-200","dark:bg-slate-700","hover:bg-slate-300","dark:hover:bg-slate-600","text-slate-700","dark:text-slate-300","text-sm","font-semibold","rounded-lg","transition-all","duration-200",3,"click"],[1,"flex-1","px-4","py-2.5","bg-gradient-to-r","from-green-500","to-green-600","hover:from-green-400","hover:to-green-500","text-white","text-sm","font-semibold","rounded-lg","transition-all","duration-200","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["name","play",3,"size"],[1,"text-center","py-8"],[1,"text-lg","text-slate-600","dark:text-gray-400","mb-6"],[1,"relative","h-40","flex","items-center","justify-center"],["class","countdown-number",3,"text-red-500","text-orange-500","text-yellow-500","text-green-500",4,"ngIf"],[1,"text-sm","text-slate-500","dark:text-gray-500","mt-4"],[1,"mt-6","px-4","py-2","text-sm","text-slate-500","hover:text-slate-700","dark:text-gray-400","dark:hover:text-gray-300","underline",3,"click"],[1,"countdown-number"],[1,"text-center","py-4"],[1,"w-16","h-16","bg-gradient-to-br","from-green-500","to-green-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-4","shadow-lg","animate-pulse"],["name","phone-outgoing",1,"text-white",3,"size"],[1,"text-xl","font-bold","text-slate-800","dark:text-white","mb-2"],["class","bg-slate-100 dark:bg-slate-800 rounded-xl p-4 mt-4 text-left",4,"ngIf"],[1,"mt-4","text-sm","text-slate-500","dark:text-gray-400"],[1,"bg-slate-100","dark:bg-slate-800","rounded-xl","p-4","mt-4","text-left"],[1,"text-lg","font-semibold","text-slate-800","dark:text-white"],[1,"grid","grid-cols-2","gap-3","mt-3"],[1,"text-xs","text-slate-400","dark:text-gray-500"],[1,"text-sm","font-medium","text-slate-700","dark:text-gray-300"],[1,"text-sm","font-medium","text-green-600","dark:text-green-400"],[1,"mt-3","pt-3","border-t","border-slate-200","dark:border-slate-700"],[1,"text-center","py-6"],[1,"w-20","h-20","bg-gradient-to-br","from-green-400","to-green-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-5","shadow-xl"],["name","check",1,"text-white",3,"size"],[1,"text-slate-600","dark:text-gray-400","mb-6"],[1,"bg-green-50","dark:bg-green-500/10","border","border-green-200","dark:border-green-500/20","rounded-xl","p-4","mb-5"],[1,"flex","items-center","justify-center","gap-3"],["name","headset",1,"text-green-600","dark:text-green-400",3,"size"],[1,"text-green-700","dark:text-green-300","font-medium"],[1,"w-full","px-4","py-3","bg-gradient-to-r","from-green-500","to-green-600","hover:from-green-400","hover:to-green-500","text-white","font-semibold","rounded-lg","transition-all","duration-200","flex","items-center","justify-center","gap-2",3,"click"],["name","log-in",3,"size"]],template:function(o,a){o&1&&(r(0,"div",0),k(1,ce,27,6,"ng-container",1)(2,ue,10,1,"ng-container",1)(3,me,9,5,"ng-container",1)(4,pe,16,4,"ng-container",1),s()),o&2&&(c(),d("ngIf",a.modalState==="initial"),c(),d("ngIf",a.modalState==="countdown"),c(),d("ngIf",a.modalState==="calling"),c(),d("ngIf",a.modalState==="finished"))},dependencies:[G,q,X,J,B],styles:["[_nghost-%COMP%]{display:block}.countdown-number[_ngcontent-%COMP%]{font-size:8rem;font-weight:800;line-height:1;text-shadow:0 4px 20px rgba(0,0,0,.15)}@keyframes _ngcontent-%COMP%_pulseRing{0%{transform:scale(1);opacity:1}to{transform:scale(1.5);opacity:0}}"],data:{animation:[E("countdownNumber",[x(":enter",[h({opacity:0,transform:"scale(0.3)"}),_("400ms ease-out",h({opacity:1,transform:"scale(1)"}))]),x(":leave",[_("300ms ease-in",h({opacity:0,transform:"scale(1.5)"}))])]),E("fadeSlide",[x(":enter",[h({opacity:0,transform:"translateY(20px)"}),_("300ms ease-out",h({opacity:1,transform:"translateY(0)"}))])]),E("pulse",[L("active",h({transform:"scale(1)"})),x("* => active",[_("600ms ease-in-out",z([h({transform:"scale(1)",offset:0}),h({transform:"scale(1.1)",offset:.5}),h({transform:"scale(1)",offset:1})]))])])]}});let i=t;return i})();export{p as a,ae as b,Ae as c,h as d,Z as e,M as f,le as g,ye as h,ne as i,ze as j};
