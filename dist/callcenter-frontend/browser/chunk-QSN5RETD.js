import{a as J}from"./chunk-LUWHBYBV.js";import{a as G}from"./chunk-CM5BVYEH.js";import{E as $,c as j,f as U,k as O,s as q,t as H,u as Y}from"./chunk-OBYRT3JC.js";import{hc as A,ic as L}from"./chunk-SSYFFSPO.js";import{a as D}from"./chunk-YQKVMPSG.js";import{c as F}from"./chunk-Z6A3ZHGJ.js";import{Gb as C,Hb as v,Kb as I,Lb as M,Mb as m,Nb as o,Ob as n,Pb as b,Wb as y,Yb as _,_b as p,bb as l,ca as V,ga as N,hb as T,kc as B,mc as a,na as g,nc as f,nd as z,oa as h,ob as W,rc as S,sc as P,tc as w,xa as x}from"./chunk-7PKL4QZN.js";var K=(()=>{let c=class c{constructor(e){this.http=e,this.apiUrl=`${D.tipificacionUrl}/blacklist`}getAllBlacklists(){return this.http.get(this.apiUrl)}getBlacklistById(e){return this.http.get(`${this.apiUrl}/${e}`)}getBlacklistsByTenant(e){return this.http.get(`${this.apiUrl}/tenant/${e}`)}createBlacklist(e){return this.http.post(this.apiUrl,e)}updateBlacklist(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteBlacklist(e){return this.http.delete(`${this.apiUrl}/${e}`)}};c.\u0275fac=function(i){return new(i||c)(N(F))},c.\u0275prov=V({token:c,factory:c.\u0275fac,providedIn:"root"});let r=c;return r})();var k=(r,c)=>c.id;function Z(r,c){if(r&1&&(o(0,"option",11),a(1),n()),r&2){let t=c.$implicit;m("value",t.id),l(),f(t.tenantName)}}function ee(r,c){if(r&1&&(o(0,"option",11),a(1),n()),r&2){let t=c.$implicit;m("value",t.id),l(),f(t.portfolioName)}}function te(r,c){if(r&1&&(o(0,"option",11),a(1),n()),r&2){let t=c.$implicit;m("value",t.id),l(),f(t.subPortfolioName)}}function ie(r,c){r&1&&(o(0,"div",19),b(1,"div",24),o(2,"p",25),a(3,"Cargando bloqueos..."),n()())}function ne(r,c){r&1&&(o(0,"div",19),b(1,"lucide-angular",26),o(2,"p",27),a(3,"No hay bloqueos registrados"),n(),o(4,"p",28),a(5,"Usa el formulario de arriba para a\xF1adir un nuevo bloqueo"),n()()),r&2&&(l(),m("size",48))}function oe(r,c){if(r&1&&(o(0,"option",41),a(1),n()),r&2){let t=c.$implicit;m("ngValue",t.id),l(),f(t.name)}}function le(r,c){if(r&1){let t=y();o(0,"div",36)(1,"select",40),w("ngModelChange",function(i){g(t);let s=p(2);return P(s.filterTenantId,i)||(s.filterTenantId=i),h(i)}),_("ngModelChange",function(){g(t);let i=p(2);return h(i.onFilterTenantChange())}),o(2,"option",41),a(3,"Todos"),n(),I(4,oe,2,2,"option",41,k),n()()}if(r&2){let t=p(2);l(),S("ngModel",t.filterTenantId),l(),m("ngValue",null),l(2),M(t.availableTenants())}}function re(r,c){if(r&1&&(o(0,"option",41),a(1),n()),r&2){let t=c.$implicit;m("ngValue",t.id),l(),f(t.name)}}function ae(r,c){if(r&1){let t=y();o(0,"div",36)(1,"select",40),w("ngModelChange",function(i){g(t);let s=p(2);return P(s.filterPortfolioId,i)||(s.filterPortfolioId=i),h(i)}),_("ngModelChange",function(){g(t);let i=p(2);return h(i.onFilterPortfolioChange())}),o(2,"option",41),a(3,"Todas"),n(),I(4,re,2,2,"option",41,k),n()()}if(r&2){let t=p(2);l(),S("ngModel",t.filterPortfolioId),l(),m("ngValue",null),l(2),M(t.getFilteredPortfolios())}}function se(r,c){if(r&1&&(o(0,"option",41),a(1),n()),r&2){let t=c.$implicit;m("ngValue",t.id),l(),f(t.name)}}function de(r,c){if(r&1){let t=y();o(0,"div",36)(1,"select",40),w("ngModelChange",function(i){g(t);let s=p(2);return P(s.filterSubPortfolioId,i)||(s.filterSubPortfolioId=i),h(i)}),_("ngModelChange",function(){g(t);let i=p(2);return h(i.applyFilters())}),o(2,"option",41),a(3,"Todas"),n(),I(4,se,2,2,"option",41,k),n()()}if(r&2){let t=p(2);l(),S("ngModel",t.filterSubPortfolioId),l(),m("ngValue",null),l(2),M(t.getFilteredSubPortfolios())}}function ce(r,c){if(r&1){let t=y();o(0,"div",36)(1,"div",42),b(2,"lucide-angular",43),o(3,"input",44),w("ngModelChange",function(i){g(t);let s=p(2);return P(s.searchTerm,i)||(s.searchTerm=i),h(i)}),_("ngModelChange",function(){g(t);let i=p(2);return h(i.applyFilters())}),n()()()}if(r&2){let t=p(2);l(2),m("size",14),l(),S("ngModel",t.searchTerm)}}function me(r,c){if(r&1&&(o(0,"tr",39)(1,"td",45)(2,"div",46),a(3),n()(),o(4,"td",45)(5,"div",47),a(6),n()(),o(7,"td",45)(8,"div",47),a(9),n()(),o(10,"td",45)(11,"div",47),a(12),n()(),o(13,"td",45)(14,"div",47),a(15),n()(),o(16,"td",45)(17,"div",47),a(18),n()(),o(19,"td",45)(20,"div",47),a(21),n()(),o(22,"td",45)(23,"div",47),a(24),n()()()),r&2){let t=c.$implicit,e=p(2);l(3),f(t.tenantName),l(3),f(t.portfolioName||"-"),l(3),f(t.subPortfolioName||"-"),l(3),f(t.document||"-"),l(3),f(t.email||"-"),l(3),f(t.phone||"-"),l(3),f(e.formatDate(t.startDate)),l(3),f(e.formatDate(t.endDate))}}function pe(r,c){if(r&1){let t=y();o(0,"div",20)(1,"table",29)(2,"thead",30)(3,"tr",31)(4,"th",32)(5,"div",33)(6,"span"),a(7,"Proveedor"),n(),o(8,"button",34),_("click",function(){g(t);let i=p();return h(i.toggleFilterPopover("tenant"))}),b(9,"lucide-angular",35),n()(),C(10,le,6,2,"div",36),n(),o(11,"th",32)(12,"div",33)(13,"span"),a(14,"Cartera"),n(),o(15,"button",34),_("click",function(){g(t);let i=p();return h(i.toggleFilterPopover("portfolio"))}),b(16,"lucide-angular",35),n()(),C(17,ae,6,2,"div",36),n(),o(18,"th",32)(19,"div",33)(20,"span"),a(21,"Subcartera"),n(),o(22,"button",34),_("click",function(){g(t);let i=p();return h(i.toggleFilterPopover("subportfolio"))}),b(23,"lucide-angular",35),n()(),C(24,de,6,2,"div",36),n(),o(25,"th",32)(26,"div",33)(27,"span"),a(28,"Documento"),n(),o(29,"button",34),_("click",function(){g(t);let i=p();return h(i.toggleFilterPopover("document"))}),b(30,"lucide-angular",35),n()(),C(31,ce,4,2,"div",36),n(),o(32,"th",37),a(33,"Email"),n(),o(34,"th",37),a(35,"Tel\xE9fono"),n(),o(36,"th",37),a(37,"Fecha Inicio"),n(),o(38,"th",37),a(39,"Fecha Fin"),n()()(),o(40,"tbody",38),I(41,me,25,8,"tr",39,k),n()()()}if(r&2){let t=p();l(8),B("text-red-400",t.filterTenantId),l(),m("size",14),l(),v(t.openFilterPopover==="tenant"?10:-1),l(5),B("text-red-400",t.filterPortfolioId),l(),m("size",14),l(),v(t.openFilterPopover==="portfolio"?17:-1),l(5),B("text-red-400",t.filterSubPortfolioId),l(),m("size",14),l(),v(t.openFilterPopover==="subportfolio"?24:-1),l(5),B("text-red-400",t.searchTerm),l(),m("size",14),l(),v(t.openFilterPopover==="document"?31:-1),l(10),M(t.filteredBlacklists())}}function ue(r,c){if(r&1){let t=y();o(0,"div",48),_("click",function(){g(t);let i=p();return h(i.openFilterPopover=null)}),n()}}function fe(r,c){if(r&1){let t=y();o(0,"div",22)(1,"div",49)(2,"div",50)(3,"div",51),b(4,"lucide-angular",52),n(),o(5,"div",53)(6,"h3",54),a(7,"Error"),n(),o(8,"p",55),a(9),n()(),o(10,"button",56),_("click",function(){g(t);let i=p();return h(i.errorMessage.set(null))}),b(11,"lucide-angular",57),n()()()()}if(r&2){let t=p();l(4),m("size",20),l(5),f(t.errorMessage()),l(2),m("size",18)}}function ge(r,c){if(r&1&&(o(0,"div",66)(1,"span",67),a(2,"Cartera:"),n(),o(3,"span",69),a(4),n()()),r&2){let t=p(2);l(4),f(t.getSelectedPortfolioName())}}function he(r,c){if(r&1&&(o(0,"div",66)(1,"span",67),a(2,"Subcartera:"),n(),o(3,"span",69),a(4),n()()),r&2){let t=p(2);l(4),f(t.getSelectedSubPortfolioName())}}function _e(r,c){if(r&1){let t=y();o(0,"div",23)(1,"div",58)(2,"div",59)(3,"div",60)(4,"div",61),b(5,"lucide-angular",62),n(),o(6,"h3",63),a(7,"Confirmar Bloqueo"),n()(),o(8,"p",64),a(9,"\xBFEst\xE1 seguro de a\xF1adir este cliente a la blacklist?"),n(),o(10,"div",65)(11,"div",66)(12,"span",67),a(13,"Documento:"),n(),o(14,"span",68),a(15),n()(),o(16,"div",66)(17,"span",67),a(18,"Proveedor:"),n(),o(19,"span",69),a(20),n()(),C(21,ge,5,1,"div",66),C(22,he,5,1,"div",66),o(23,"div",66)(24,"span",67),a(25,"Email:"),n(),o(26,"span",69),a(27),n()(),o(28,"div",66)(29,"span",67),a(30,"Tel\xE9fono:"),n(),o(31,"span",69),a(32),n()(),o(33,"div",66)(34,"span",67),a(35,"Fecha Fin:"),n(),o(36,"span",69),a(37),n()()(),o(38,"div",70)(39,"button",71),_("click",function(){g(t);let i=p();return h(i.closeConfirmDialog())}),a(40," Cancelar "),n(),o(41,"button",72),_("click",function(){g(t);let i=p();return h(i.confirmAddBlacklist())}),a(42," Confirmar "),n()()()()()}if(r&2){let t=p();l(5),m("size",24),l(10),f(t.document),l(5),f(t.getSelectedTenantName()),l(),v(t.selectedPortfolioId?21:-1),l(),v(t.selectedSubPortfolioId?22:-1),l(5),f(t.customerEmail||"No disponible"),l(5),f(t.customerPhone||"No disponible"),l(5),f(t.formatDate(t.endDate))}}var Ee=(()=>{let c=class c{constructor(e,i,s,u){this.blacklistService=e,this.typificationService=i,this.portfolioService=s,this.http=u,this.blacklists=x([]),this.filteredBlacklists=x([]),this.tenants=x([]),this.portfolios=x([]),this.subPortfolios=x([]),this.availableTenants=x([]),this.availablePortfolios=x([]),this.availableSubPortfolios=x([]),this.loading=x(!1),this.showConfirmDialog=x(!1),this.openFilterPopover=null,this.errorMessage=x(null),this.selectedTenantId=null,this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.document="",this.endDate="",this.customerId=null,this.customerEmail="",this.customerPhone="",this.filterTenantId=null,this.filterPortfolioId=null,this.filterSubPortfolioId=null,this.searchTerm=""}ngOnInit(){this.loadTenants(),this.loadBlacklists()}loadTenants(){this.typificationService.getAllTenants().subscribe({next:e=>{this.tenants.set(e)},error:e=>console.error("Error loading tenants:",e)})}loadBlacklists(){this.loading.set(!0),this.blacklistService.getAllBlacklists().subscribe({next:e=>{this.blacklists.set(e),this.calculateAvailableFilters(),this.applyFilters(),this.loading.set(!1)},error:e=>{console.error("Error loading blacklists:",e),this.loading.set(!1)}})}calculateAvailableFilters(){let e=this.blacklists(),i=new Map;e.forEach(d=>{d.tenantId&&d.tenantName&&i.set(d.tenantId,d.tenantName)}),this.availableTenants.set(Array.from(i.entries()).map(([d,E])=>({id:d,name:E})));let s=new Map;e.forEach(d=>{d.portfolioId&&d.portfolioName&&s.set(d.portfolioId,d.portfolioName)}),this.availablePortfolios.set(Array.from(s.entries()).map(([d,E])=>({id:d,name:E})));let u=new Map;e.forEach(d=>{d.subPortfolioId&&d.subPortfolioName&&u.set(d.subPortfolioId,d.subPortfolioName)}),this.availableSubPortfolios.set(Array.from(u.entries()).map(([d,E])=>({id:d,name:E})))}onTenantChange(){this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.portfolios.set([]),this.subPortfolios.set([]),this.selectedTenantId&&this.typificationService.getPortfoliosByTenant(this.selectedTenantId).subscribe({next:e=>this.portfolios.set(e),error:e=>console.error("Error loading portfolios:",e)})}onPortfolioChange(){this.selectedSubPortfolioId=null,this.subPortfolios.set([]),this.selectedPortfolioId&&this.portfolioService.getSubPortfoliosByPortfolio(this.selectedPortfolioId).subscribe({next:e=>this.subPortfolios.set(e),error:e=>console.error("Error loading subportfolios:",e)})}onFilterTenantChange(){this.filterPortfolioId=null,this.filterSubPortfolioId=null,this.applyFilters()}onFilterPortfolioChange(){this.filterSubPortfolioId=null,this.applyFilters()}getFilteredPortfolios(){return this.filterTenantId?this.availablePortfolios().filter(e=>this.blacklists().some(i=>i.tenantId===this.filterTenantId&&i.portfolioId===e.id)):this.availablePortfolios()}getFilteredSubPortfolios(){return this.filterPortfolioId?this.availableSubPortfolios().filter(e=>this.blacklists().some(i=>i.portfolioId===this.filterPortfolioId&&i.subPortfolioId===e.id)):this.availableSubPortfolios()}applyFilters(){let e=this.blacklists();if(this.filterTenantId&&(e=e.filter(i=>i.tenantId==this.filterTenantId)),this.filterPortfolioId&&(e=e.filter(i=>i.portfolioId==this.filterPortfolioId)),this.filterSubPortfolioId&&(e=e.filter(i=>i.subPortfolioId==this.filterSubPortfolioId)),this.searchTerm){let i=this.searchTerm.toLowerCase();e=e.filter(s=>s.document?.toLowerCase().includes(i))}this.filteredBlacklists.set(e)}canAddBlacklist(){return!!(this.selectedTenantId&&this.document&&this.endDate)}addToBlacklist(){if(!this.canAddBlacklist())return;let e=new Date;e.setHours(0,0,0,0);let i=new Date(this.endDate);if(i.setHours(0,0,0,0),i<=e){this.showError("La fecha de fin debe ser mayor al d\xEDa actual");return}let s={document:this.document,tenantId:this.selectedTenantId};this.selectedPortfolioId&&(s.portfolioId=this.selectedPortfolioId),this.selectedSubPortfolioId&&(s.subPortfolioId=this.selectedSubPortfolioId),this.http.get(`${D.apiUrl}/customers/blacklist-contact-info`,{params:s}).subscribe({next:u=>{this.customerId=u.customerId?parseInt(u.customerId):null,this.customerEmail=u.email||"",this.customerPhone=u.phone||"",this.showConfirmDialog.set(!0)},error:u=>{console.error("Error al obtener informaci\xF3n de contacto:",u),u.status===404?this.showError("Cliente no encontrado en el contexto seleccionado (proveedor/cartera/subcartera)"):this.showError("Error al buscar el cliente. Por favor, intente nuevamente.")}})}showError(e){this.errorMessage.set(e),setTimeout(()=>{this.errorMessage.set(null)},4e3)}closeConfirmDialog(){this.showConfirmDialog.set(!1)}getSelectedTenantName(){return this.tenants().find(i=>i.id==this.selectedTenantId)?.tenantName||""}getSelectedPortfolioName(){return this.portfolios().find(i=>i.id==this.selectedPortfolioId)?.portfolioName||""}getSelectedSubPortfolioName(){return this.subPortfolios().find(i=>i.id==this.selectedSubPortfolioId)?.subPortfolioName||""}confirmAddBlacklist(){let e=this.tenants().find(d=>d.id==this.selectedTenantId),i=this.portfolios().find(d=>d.id==this.selectedPortfolioId),s=this.subPortfolios().find(d=>d.id==this.selectedSubPortfolioId),u={customerId:this.customerId||void 0,tenantId:this.selectedTenantId,tenantName:e?.tenantName||"",portfolioId:this.selectedPortfolioId||void 0,portfolioName:i?.portfolioName||void 0,subPortfolioId:this.selectedSubPortfolioId||void 0,subPortfolioName:s?.subPortfolioName||void 0,document:this.document,email:this.customerEmail,phone:this.customerPhone,startDate:new Date().toISOString().split("T")[0],endDate:this.endDate};this.blacklistService.createBlacklist(u).subscribe({next:()=>{this.loadBlacklists(),this.closeConfirmDialog(),this.resetForm()},error:d=>console.error("Error creating blacklist:",d)})}resetForm(){this.selectedTenantId=null,this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.document="",this.endDate="",this.customerId=null,this.customerEmail="",this.customerPhone="",this.portfolios.set([]),this.subPortfolios.set([])}deleteBlacklist(e){confirm("\xBFEst\xE1s seguro de eliminar este bloqueo?")&&this.blacklistService.deleteBlacklist(e.id).subscribe({next:()=>this.loadBlacklists(),error:i=>console.error("Error deleting blacklist:",i)})}formatDate(e){if(!e)return"-";let i=new Date(e),s=String(i.getDate()).padStart(2,"0"),u=String(i.getMonth()+1).padStart(2,"0"),d=i.getFullYear();return`${s}-${u}-${d}`}getTomorrowDate(){let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}toggleFilterPopover(e){this.openFilterPopover===e?this.openFilterPopover=null:this.openFilterPopover=e}};c.\u0275fac=function(i){return new(i||c)(T(K),T(J),T(G),T(F))},c.\u0275cmp=W({type:c,selectors:[["app-blacklist-maintenance"]],decls:56,vars:17,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","via-slate-800","to-slate-900","p-6"],[1,"max-w-7xl","mx-auto","mb-6"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-gradient-to-br","from-red-600","to-red-700","rounded-xl","flex","items-center","justify-center","shadow-lg"],["name","shield-ban",1,"text-white",3,"size"],[1,"text-2xl","font-bold","text-white"],[1,"text-sm","text-gray-400"],[1,"bg-slate-900","rounded-xl","p-6","shadow-sm","border","border-slate-800"],[1,"grid","grid-cols-6","gap-4"],[1,"block","text-sm","font-semibold","text-gray-300","mb-2"],[1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[3,"value"],[1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Ingrese el documento",1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","placeholder-gray-500","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],["type","date",1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel","min"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","bg-gradient-to-r","from-red-600","to-red-700","text-white","rounded-lg","font-semibold","hover:shadow-lg","transition-all","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"click","disabled"],[1,"max-w-7xl","mx-auto"],[1,"bg-slate-900","rounded-xl","shadow-sm","border","border-slate-800"],[1,"p-12","text-center"],[1,"overflow-x-auto","rounded-xl","pb-3"],[1,"fixed","inset-0","z-40"],[1,"fixed","top-4","right-4","z-50","animate-slide-in"],[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","p-4","z-50"],[1,"inline-block","w-8","h-8","border-4","border-red-500","border-t-transparent","rounded-full","animate-spin"],[1,"mt-4","text-gray-400"],["name","shield-ban",1,"mx-auto","text-gray-600","mb-4",3,"size"],[1,"text-gray-400","text-lg","mb-2"],[1,"text-gray-500","text-sm"],[1,"w-full"],[1,"bg-slate-800/50"],[1,"border-b","border-slate-700"],[1,"px-2","py-3","text-left","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider","relative"],[1,"flex","items-center","gap-2"],[1,"p-1","hover:bg-slate-700","rounded","transition-colors",3,"click"],["name","filter",3,"size"],[1,"absolute","top-full","left-0","mt-1","bg-slate-800","border","border-slate-700","rounded-lg","shadow-xl","p-2","z-50","w-48"],[1,"px-2","py-3","text-left","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-800"],[1,"hover:bg-slate-800/50","transition-colors"],[1,"w-full","px-2","py-1.5","bg-slate-700","border","border-slate-600","rounded","text-white","text-xs","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"relative"],["name","search",1,"absolute","left-2","top-1/2","-translate-y-1/2","text-gray-500",3,"size"],["type","text","placeholder","Buscar...",1,"w-full","pl-8","pr-2","py-1.5","bg-slate-700","border","border-slate-600","rounded","text-white","text-xs","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[1,"px-2","py-3"],[1,"text-xs","font-medium","text-white"],[1,"text-xs","text-gray-300"],[1,"fixed","inset-0","z-40",3,"click"],[1,"bg-red-900","border","border-red-700","rounded-lg","shadow-2xl","p-4","max-w-md"],[1,"flex","items-start","gap-3"],[1,"flex-shrink-0"],["name","alert-circle",1,"text-red-400",3,"size"],[1,"flex-1"],[1,"text-sm","font-semibold","text-white","mb-1"],[1,"text-sm","text-red-200"],[1,"flex-shrink-0","text-red-400","hover:text-red-300","transition-colors",3,"click"],["name","x",3,"size"],[1,"bg-slate-900","rounded-xl","shadow-2xl","border","border-slate-800","max-w-md","w-full"],[1,"p-6"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-12","h-12","bg-red-900/30","rounded-full","flex","items-center","justify-center"],["name","shield-ban",1,"text-red-400",3,"size"],[1,"text-lg","font-bold","text-white"],[1,"text-gray-300","mb-4"],[1,"bg-slate-800","rounded-lg","p-3","mb-4","space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-400"],[1,"text-white","font-semibold"],[1,"text-white"],[1,"flex","gap-3"],[1,"flex-1","px-4","py-2.5","bg-slate-800","text-white","rounded-lg","font-semibold","hover:bg-slate-700","transition-colors",3,"click"],[1,"flex-1","px-4","py-2.5","bg-gradient-to-r","from-red-600","to-red-700","text-white","rounded-lg","font-semibold","hover:shadow-lg","transition-all",3,"click"]],template:function(i,s){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"lucide-angular",4),n(),o(5,"div")(6,"h1",5),a(7,"Gesti\xF3n de Blacklist"),n(),o(8,"p",6),a(9,"Bloqueo de clientes por proveedor, cartera y subcartera"),n()()()(),o(10,"div",1)(11,"div",7)(12,"div",8)(13,"div")(14,"label",9),a(15,"Proveedor"),n(),o(16,"select",10),w("ngModelChange",function(d){return P(s.selectedTenantId,d)||(s.selectedTenantId=d),d}),_("ngModelChange",function(){return s.onTenantChange()}),o(17,"option",11),a(18,"Seleccionar"),n(),I(19,Z,2,2,"option",11,k),n()(),o(21,"div")(22,"label",9),a(23,"Cartera"),n(),o(24,"select",12),w("ngModelChange",function(d){return P(s.selectedPortfolioId,d)||(s.selectedPortfolioId=d),d}),_("ngModelChange",function(){return s.onPortfolioChange()}),o(25,"option",11),a(26,"Seleccionar"),n(),I(27,ee,2,2,"option",11,k),n()(),o(29,"div")(30,"label",9),a(31,"Subcartera"),n(),o(32,"select",12),w("ngModelChange",function(d){return P(s.selectedSubPortfolioId,d)||(s.selectedSubPortfolioId=d),d}),o(33,"option",11),a(34,"Seleccionar"),n(),I(35,te,2,2,"option",11,k),n()(),o(37,"div")(38,"label",9),a(39,"Documento"),n(),o(40,"input",13),w("ngModelChange",function(d){return P(s.document,d)||(s.document=d),d}),n()(),o(41,"div")(42,"label",9),a(43,"Fecha Fin"),n(),o(44,"input",14),w("ngModelChange",function(d){return P(s.endDate,d)||(s.endDate=d),d}),n()(),o(45,"div",15)(46,"button",16),_("click",function(){return s.addToBlacklist()}),a(47," A\xF1adir "),n()()()()(),o(48,"div",17)(49,"div",18),C(50,ie,4,0,"div",19)(51,ne,6,1,"div",19)(52,pe,43,16,"div",20),n()()(),C(53,ue,1,0,"div",21),C(54,fe,12,3,"div",22),C(55,_e,43,8,"div",23)),i&2&&(l(4),m("size",24),l(12),S("ngModel",s.selectedTenantId),l(),m("value",null),l(2),M(s.tenants()),l(5),S("ngModel",s.selectedPortfolioId),m("disabled",!s.selectedTenantId),l(),m("value",null),l(2),M(s.portfolios()),l(5),S("ngModel",s.selectedSubPortfolioId),m("disabled",!s.selectedPortfolioId),l(),m("value",null),l(2),M(s.subPortfolios()),l(5),S("ngModel",s.document),l(4),S("ngModel",s.endDate),m("min",s.getTomorrowDate()),l(2),m("disabled",!s.canAddBlacklist()),l(4),v(s.loading()?50:s.filteredBlacklists().length===0?51:52),l(3),v(s.openFilterPopover?53:-1),l(),v(s.errorMessage()?54:-1),l(),v(s.showConfirmDialog()?55:-1))},dependencies:[z,$,H,Y,j,q,U,O,L,A],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}"]});let r=c;return r})();export{Ee as BlacklistMaintenanceComponent};
