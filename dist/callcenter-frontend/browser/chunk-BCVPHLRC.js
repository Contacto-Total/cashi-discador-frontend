import{a as Y}from"./chunk-YBTTFGZA.js";import{a as $}from"./chunk-BY2DM2ZC.js";import{b as j,e as L,h as U,m as O,n as q,o as z,u as H}from"./chunk-TFAMJCIP.js";import{$ as V,$a as E,Cb as I,Db as M,Eb as g,Fb as n,Gb as o,Hb as T,Ob as w,Qb as _,Sb as m,Va as r,_c as A,cc as B,da as N,ec as a,fc as u,gb as W,gd as F,ja as f,jc as v,jd as D,ka as h,kc as S,lc as P,ta as x,yb as b,zb as C}from"./chunk-UY3AUK24.js";var G=(()=>{let c=class c{constructor(e){this.http=e,this.apiUrl=`${D.tipificacionUrl}/blacklist`}getAllBlacklists(){return this.http.get(this.apiUrl)}getBlacklistById(e){return this.http.get(`${this.apiUrl}/${e}`)}getBlacklistsByTenant(e){return this.http.get(`${this.apiUrl}/tenant/${e}`)}createBlacklist(e){return this.http.post(this.apiUrl,e)}updateBlacklist(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteBlacklist(e){return this.http.delete(`${this.apiUrl}/${e}`)}};c.\u0275fac=function(i){return new(i||c)(N(F))},c.\u0275prov=V({token:c,factory:c.\u0275fac,providedIn:"root"});let l=c;return l})();var k=(l,c)=>c.id;function R(l,c){if(l&1&&(n(0,"option",10),a(1),o()),l&2){let t=c.$implicit;g("value",t.id),r(),u(t.tenantName)}}function X(l,c){if(l&1&&(n(0,"option",10),a(1),o()),l&2){let t=c.$implicit;g("value",t.id),r(),u(t.portfolioName)}}function Z(l,c){if(l&1&&(n(0,"option",10),a(1),o()),l&2){let t=c.$implicit;g("value",t.id),r(),u(t.subPortfolioName)}}function ee(l,c){l&1&&(n(0,"div",18),T(1,"div",23),n(2,"p",24),a(3,"Cargando bloqueos..."),o()())}function te(l,c){l&1&&(n(0,"div",18)(1,"p",25),a(2,"No hay bloqueos registrados"),o(),n(3,"p",26),a(4,"Usa el formulario de arriba para a\xF1adir un nuevo bloqueo"),o()())}function ie(l,c){if(l&1&&(n(0,"option",38),a(1),o()),l&2){let t=c.$implicit;g("ngValue",t.id),r(),u(t.name)}}function ne(l,c){if(l&1){let t=w();n(0,"div",33)(1,"select",37),P("ngModelChange",function(i){f(t);let s=m(2);return S(s.filterTenantId,i)||(s.filterTenantId=i),h(i)}),_("ngModelChange",function(){f(t);let i=m(2);return h(i.onFilterTenantChange())}),n(2,"option",38),a(3,"Todos"),o(),I(4,ie,2,2,"option",38,k),o()()}if(l&2){let t=m(2);r(),v("ngModel",t.filterTenantId),r(),g("ngValue",null),r(2),M(t.availableTenants())}}function oe(l,c){if(l&1&&(n(0,"option",38),a(1),o()),l&2){let t=c.$implicit;g("ngValue",t.id),r(),u(t.name)}}function le(l,c){if(l&1){let t=w();n(0,"div",33)(1,"select",37),P("ngModelChange",function(i){f(t);let s=m(2);return S(s.filterPortfolioId,i)||(s.filterPortfolioId=i),h(i)}),_("ngModelChange",function(){f(t);let i=m(2);return h(i.onFilterPortfolioChange())}),n(2,"option",38),a(3,"Todas"),o(),I(4,oe,2,2,"option",38,k),o()()}if(l&2){let t=m(2);r(),v("ngModel",t.filterPortfolioId),r(),g("ngValue",null),r(2),M(t.getFilteredPortfolios())}}function re(l,c){if(l&1&&(n(0,"option",38),a(1),o()),l&2){let t=c.$implicit;g("ngValue",t.id),r(),u(t.name)}}function ae(l,c){if(l&1){let t=w();n(0,"div",33)(1,"select",37),P("ngModelChange",function(i){f(t);let s=m(2);return S(s.filterSubPortfolioId,i)||(s.filterSubPortfolioId=i),h(i)}),_("ngModelChange",function(){f(t);let i=m(2);return h(i.applyFilters())}),n(2,"option",38),a(3,"Todas"),o(),I(4,re,2,2,"option",38,k),o()()}if(l&2){let t=m(2);r(),v("ngModel",t.filterSubPortfolioId),r(),g("ngValue",null),r(2),M(t.getFilteredSubPortfolios())}}function se(l,c){if(l&1){let t=w();n(0,"div",33)(1,"div",39)(2,"input",40),P("ngModelChange",function(i){f(t);let s=m(2);return S(s.searchTerm,i)||(s.searchTerm=i),h(i)}),_("ngModelChange",function(){f(t);let i=m(2);return h(i.applyFilters())}),o()()()}if(l&2){let t=m(2);r(2),v("ngModel",t.searchTerm)}}function de(l,c){if(l&1&&(n(0,"tr",36)(1,"td",41)(2,"div",42),a(3),o()(),n(4,"td",41)(5,"div",43),a(6),o()(),n(7,"td",41)(8,"div",43),a(9),o()(),n(10,"td",41)(11,"div",43),a(12),o()(),n(13,"td",41)(14,"div",43),a(15),o()(),n(16,"td",41)(17,"div",43),a(18),o()(),n(19,"td",41)(20,"div",43),a(21),o()(),n(22,"td",41)(23,"div",43),a(24),o()()()),l&2){let t=c.$implicit,e=m(2);r(3),u(t.tenantName),r(3),u(t.portfolioName||"-"),r(3),u(t.subPortfolioName||"-"),r(3),u(t.document||"-"),r(3),u(t.email||"-"),r(3),u(t.phone||"-"),r(3),u(e.formatDate(t.startDate)),r(3),u(e.formatDate(t.endDate))}}function ce(l,c){if(l&1){let t=w();n(0,"div",19)(1,"table",27)(2,"thead",28)(3,"tr",29)(4,"th",30)(5,"div",31)(6,"span"),a(7,"Proveedor"),o(),n(8,"button",32),_("click",function(){f(t);let i=m();return h(i.toggleFilterPopover("tenant"))}),o()(),b(9,ne,6,2,"div",33),o(),n(10,"th",30)(11,"div",31)(12,"span"),a(13,"Cartera"),o(),n(14,"button",32),_("click",function(){f(t);let i=m();return h(i.toggleFilterPopover("portfolio"))}),o()(),b(15,le,6,2,"div",33),o(),n(16,"th",30)(17,"div",31)(18,"span"),a(19,"Subcartera"),o(),n(20,"button",32),_("click",function(){f(t);let i=m();return h(i.toggleFilterPopover("subportfolio"))}),o()(),b(21,ae,6,2,"div",33),o(),n(22,"th",30)(23,"div",31)(24,"span"),a(25,"Documento"),o(),n(26,"button",32),_("click",function(){f(t);let i=m();return h(i.toggleFilterPopover("document"))}),o()(),b(27,se,3,1,"div",33),o(),n(28,"th",34),a(29,"Email"),o(),n(30,"th",34),a(31,"Tel\xE9fono"),o(),n(32,"th",34),a(33,"Fecha Inicio"),o(),n(34,"th",34),a(35,"Fecha Fin"),o()()(),n(36,"tbody",35),I(37,de,25,8,"tr",36,k),o()()()}if(l&2){let t=m();r(8),B("text-red-400",t.filterTenantId),r(),C(t.openFilterPopover==="tenant"?9:-1),r(5),B("text-red-400",t.filterPortfolioId),r(),C(t.openFilterPopover==="portfolio"?15:-1),r(5),B("text-red-400",t.filterSubPortfolioId),r(),C(t.openFilterPopover==="subportfolio"?21:-1),r(5),B("text-red-400",t.searchTerm),r(),C(t.openFilterPopover==="document"?27:-1),r(10),M(t.filteredBlacklists())}}function me(l,c){if(l&1){let t=w();n(0,"div",44),_("click",function(){f(t);let i=m();return h(i.openFilterPopover=null)}),o()}}function pe(l,c){if(l&1){let t=w();n(0,"div",21)(1,"div",45)(2,"div",46),T(3,"div",47),n(4,"div",48)(5,"h3",49),a(6,"Error"),o(),n(7,"p",50),a(8),o()(),n(9,"button",51),_("click",function(){f(t);let i=m();return h(i.errorMessage.set(null))}),o()()()()}if(l&2){let t=m();r(8),u(t.errorMessage())}}function ue(l,c){if(l&1&&(n(0,"div",59)(1,"span",60),a(2,"Cartera:"),o(),n(3,"span",62),a(4),o()()),l&2){let t=m(2);r(4),u(t.getSelectedPortfolioName())}}function fe(l,c){if(l&1&&(n(0,"div",59)(1,"span",60),a(2,"Subcartera:"),o(),n(3,"span",62),a(4),o()()),l&2){let t=m(2);r(4),u(t.getSelectedSubPortfolioName())}}function he(l,c){if(l&1){let t=w();n(0,"div",22)(1,"div",52)(2,"div",53)(3,"div",54),T(4,"div",55),n(5,"h3",56),a(6,"Confirmar Bloqueo"),o()(),n(7,"p",57),a(8,"\xBFEst\xE1 seguro de a\xF1adir este cliente a la blacklist?"),o(),n(9,"div",58)(10,"div",59)(11,"span",60),a(12,"Documento:"),o(),n(13,"span",61),a(14),o()(),n(15,"div",59)(16,"span",60),a(17,"Proveedor:"),o(),n(18,"span",62),a(19),o()(),b(20,ue,5,1,"div",59),b(21,fe,5,1,"div",59),n(22,"div",59)(23,"span",60),a(24,"Email:"),o(),n(25,"span",62),a(26),o()(),n(27,"div",59)(28,"span",60),a(29,"Tel\xE9fono:"),o(),n(30,"span",62),a(31),o()(),n(32,"div",59)(33,"span",60),a(34,"Fecha Fin:"),o(),n(35,"span",62),a(36),o()()(),n(37,"div",63)(38,"button",64),_("click",function(){f(t);let i=m();return h(i.closeConfirmDialog())}),a(39," Cancelar "),o(),n(40,"button",65),_("click",function(){f(t);let i=m();return h(i.confirmAddBlacklist())}),a(41," Confirmar "),o()()()()()}if(l&2){let t=m();r(14),u(t.document),r(5),u(t.getSelectedTenantName()),r(),C(t.selectedPortfolioId?20:-1),r(),C(t.selectedSubPortfolioId?21:-1),r(5),u(t.customerEmail||"No disponible"),r(5),u(t.customerPhone||"No disponible"),r(5),u(t.formatDate(t.endDate))}}var Ie=(()=>{let c=class c{constructor(e,i,s,p){this.blacklistService=e,this.typificationService=i,this.portfolioService=s,this.http=p,this.blacklists=x([]),this.filteredBlacklists=x([]),this.tenants=x([]),this.portfolios=x([]),this.subPortfolios=x([]),this.availableTenants=x([]),this.availablePortfolios=x([]),this.availableSubPortfolios=x([]),this.loading=x(!1),this.showConfirmDialog=x(!1),this.openFilterPopover=null,this.errorMessage=x(null),this.selectedTenantId=null,this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.document="",this.endDate="",this.customerId=null,this.customerEmail="",this.customerPhone="",this.filterTenantId=null,this.filterPortfolioId=null,this.filterSubPortfolioId=null,this.searchTerm=""}ngOnInit(){this.loadTenants(),this.loadBlacklists()}loadTenants(){this.typificationService.getAllTenants().subscribe({next:e=>{this.tenants.set(e)},error:e=>console.error("Error loading tenants:",e)})}loadBlacklists(){this.loading.set(!0),this.blacklistService.getAllBlacklists().subscribe({next:e=>{this.blacklists.set(e),this.calculateAvailableFilters(),this.applyFilters(),this.loading.set(!1)},error:e=>{console.error("Error loading blacklists:",e),this.loading.set(!1)}})}calculateAvailableFilters(){let e=this.blacklists(),i=new Map;e.forEach(d=>{d.tenantId&&d.tenantName&&i.set(d.tenantId,d.tenantName)}),this.availableTenants.set(Array.from(i.entries()).map(([d,y])=>({id:d,name:y})));let s=new Map;e.forEach(d=>{d.portfolioId&&d.portfolioName&&s.set(d.portfolioId,d.portfolioName)}),this.availablePortfolios.set(Array.from(s.entries()).map(([d,y])=>({id:d,name:y})));let p=new Map;e.forEach(d=>{d.subPortfolioId&&d.subPortfolioName&&p.set(d.subPortfolioId,d.subPortfolioName)}),this.availableSubPortfolios.set(Array.from(p.entries()).map(([d,y])=>({id:d,name:y})))}onTenantChange(){this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.portfolios.set([]),this.subPortfolios.set([]),this.selectedTenantId&&this.typificationService.getPortfoliosByTenant(this.selectedTenantId).subscribe({next:e=>this.portfolios.set(e),error:e=>console.error("Error loading portfolios:",e)})}onPortfolioChange(){this.selectedSubPortfolioId=null,this.subPortfolios.set([]),this.selectedPortfolioId&&this.portfolioService.getSubPortfoliosByPortfolio(this.selectedPortfolioId).subscribe({next:e=>this.subPortfolios.set(e),error:e=>console.error("Error loading subportfolios:",e)})}onFilterTenantChange(){this.filterPortfolioId=null,this.filterSubPortfolioId=null,this.applyFilters()}onFilterPortfolioChange(){this.filterSubPortfolioId=null,this.applyFilters()}getFilteredPortfolios(){return this.filterTenantId?this.availablePortfolios().filter(e=>this.blacklists().some(i=>i.tenantId===this.filterTenantId&&i.portfolioId===e.id)):this.availablePortfolios()}getFilteredSubPortfolios(){return this.filterPortfolioId?this.availableSubPortfolios().filter(e=>this.blacklists().some(i=>i.portfolioId===this.filterPortfolioId&&i.subPortfolioId===e.id)):this.availableSubPortfolios()}applyFilters(){let e=this.blacklists();if(this.filterTenantId&&(e=e.filter(i=>i.tenantId==this.filterTenantId)),this.filterPortfolioId&&(e=e.filter(i=>i.portfolioId==this.filterPortfolioId)),this.filterSubPortfolioId&&(e=e.filter(i=>i.subPortfolioId==this.filterSubPortfolioId)),this.searchTerm){let i=this.searchTerm.toLowerCase();e=e.filter(s=>s.document?.toLowerCase().includes(i))}this.filteredBlacklists.set(e)}canAddBlacklist(){return!!(this.selectedTenantId&&this.document&&this.endDate)}addToBlacklist(){if(!this.canAddBlacklist())return;let e=new Date;e.setHours(0,0,0,0);let i=new Date(this.endDate);if(i.setHours(0,0,0,0),i<=e){this.showError("La fecha de fin debe ser mayor al d\xEDa actual");return}let s={document:this.document,tenantId:this.selectedTenantId};this.selectedPortfolioId&&(s.portfolioId=this.selectedPortfolioId),this.selectedSubPortfolioId&&(s.subPortfolioId=this.selectedSubPortfolioId),this.http.get(`${D.apiUrl}/customers/blacklist-contact-info`,{params:s}).subscribe({next:p=>{this.customerId=p.customerId?parseInt(p.customerId):null,this.customerEmail=p.email||"",this.customerPhone=p.phone||"",this.showConfirmDialog.set(!0)},error:p=>{console.error("Error al obtener informaci\xF3n de contacto:",p),p.status===404?this.showError("Cliente no encontrado en el contexto seleccionado (proveedor/cartera/subcartera)"):this.showError("Error al buscar el cliente. Por favor, intente nuevamente.")}})}showError(e){this.errorMessage.set(e),setTimeout(()=>{this.errorMessage.set(null)},4e3)}closeConfirmDialog(){this.showConfirmDialog.set(!1)}getSelectedTenantName(){return this.tenants().find(i=>i.id==this.selectedTenantId)?.tenantName||""}getSelectedPortfolioName(){return this.portfolios().find(i=>i.id==this.selectedPortfolioId)?.portfolioName||""}getSelectedSubPortfolioName(){return this.subPortfolios().find(i=>i.id==this.selectedSubPortfolioId)?.subPortfolioName||""}confirmAddBlacklist(){let e=this.tenants().find(d=>d.id==this.selectedTenantId),i=this.portfolios().find(d=>d.id==this.selectedPortfolioId),s=this.subPortfolios().find(d=>d.id==this.selectedSubPortfolioId),p={customerId:this.customerId||void 0,tenantId:this.selectedTenantId,tenantName:e?.tenantName||"",portfolioId:this.selectedPortfolioId||void 0,portfolioName:i?.portfolioName||void 0,subPortfolioId:this.selectedSubPortfolioId||void 0,subPortfolioName:s?.subPortfolioName||void 0,document:this.document,email:this.customerEmail,phone:this.customerPhone,startDate:new Date().toISOString().split("T")[0],endDate:this.endDate};this.blacklistService.createBlacklist(p).subscribe({next:()=>{this.loadBlacklists(),this.closeConfirmDialog(),this.resetForm()},error:d=>console.error("Error creating blacklist:",d)})}resetForm(){this.selectedTenantId=null,this.selectedPortfolioId=null,this.selectedSubPortfolioId=null,this.document="",this.endDate="",this.customerId=null,this.customerEmail="",this.customerPhone="",this.portfolios.set([]),this.subPortfolios.set([])}deleteBlacklist(e){confirm("\xBFEst\xE1s seguro de eliminar este bloqueo?")&&this.blacklistService.deleteBlacklist(e.id).subscribe({next:()=>this.loadBlacklists(),error:i=>console.error("Error deleting blacklist:",i)})}formatDate(e){if(!e)return"-";let i=new Date(e),s=String(i.getDate()).padStart(2,"0"),p=String(i.getMonth()+1).padStart(2,"0"),d=i.getFullYear();return`${s}-${p}-${d}`}getTomorrowDate(){let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}toggleFilterPopover(e){this.openFilterPopover===e?this.openFilterPopover=null:this.openFilterPopover=e}};c.\u0275fac=function(i){return new(i||c)(E(G),E($),E(Y),E(F))},c.\u0275cmp=W({type:c,selectors:[["app-blacklist-maintenance"]],decls:55,vars:16,consts:[[1,"min-h-screen","bg-slate-950","p-6"],[1,"max-w-7xl","mx-auto","mb-6"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-gradient-to-br","from-red-600","to-red-700","rounded-xl","flex","items-center","justify-center","shadow-lg"],[1,"text-2xl","font-bold","text-white"],[1,"text-sm","text-gray-400"],[1,"bg-slate-900","rounded-xl","p-6","shadow-sm","border","border-slate-800"],[1,"grid","grid-cols-6","gap-4"],[1,"block","text-sm","font-semibold","text-gray-300","mb-2"],[1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[3,"value"],[1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Ingrese el documento",1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","placeholder-gray-500","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],["type","date",1,"w-full","px-3","py-2","bg-slate-800","border","border-slate-700","rounded-lg","text-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel","min"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","bg-gradient-to-r","from-red-600","to-red-700","text-white","rounded-lg","font-semibold","hover:shadow-lg","transition-all","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"click","disabled"],[1,"max-w-7xl","mx-auto"],[1,"bg-slate-900","rounded-xl","shadow-sm","border","border-slate-800"],[1,"p-12","text-center"],[1,"overflow-x-auto","rounded-xl","pb-3"],[1,"fixed","inset-0","z-40"],[1,"fixed","top-4","right-4","z-50","animate-slide-in"],[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","p-4","z-50"],[1,"inline-block","w-8","h-8","border-4","border-red-500","border-t-transparent","rounded-full","animate-spin"],[1,"mt-4","text-gray-400"],[1,"text-gray-400","text-lg","mb-2"],[1,"text-gray-500","text-sm"],[1,"w-full"],[1,"bg-slate-800/50"],[1,"border-b","border-slate-700"],[1,"px-2","py-3","text-left","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider","relative"],[1,"flex","items-center","gap-2"],[1,"p-1","hover:bg-slate-700","rounded","transition-colors",3,"click"],[1,"absolute","top-full","left-0","mt-1","bg-slate-800","border","border-slate-700","rounded-lg","shadow-xl","p-2","z-50","w-48"],[1,"px-2","py-3","text-left","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-800"],[1,"hover:bg-slate-800/50","transition-colors"],[1,"w-full","px-2","py-1.5","bg-slate-700","border","border-slate-600","rounded","text-white","text-xs","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"relative"],["type","text","placeholder","Buscar...",1,"w-full","pl-8","pr-2","py-1.5","bg-slate-700","border","border-slate-600","rounded","text-white","text-xs","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[1,"px-2","py-3"],[1,"text-xs","font-medium","text-white"],[1,"text-xs","text-gray-300"],[1,"fixed","inset-0","z-40",3,"click"],[1,"bg-red-900","border","border-red-700","rounded-lg","shadow-2xl","p-4","max-w-md"],[1,"flex","items-start","gap-3"],[1,"flex-shrink-0"],[1,"flex-1"],[1,"text-sm","font-semibold","text-white","mb-1"],[1,"text-sm","text-red-200"],[1,"flex-shrink-0","text-red-400","hover:text-red-300","transition-colors",3,"click"],[1,"bg-slate-900","rounded-xl","shadow-2xl","border","border-slate-800","max-w-md","w-full"],[1,"p-6"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-12","h-12","bg-red-900/30","rounded-full","flex","items-center","justify-center"],[1,"text-lg","font-bold","text-white"],[1,"text-gray-300","mb-4"],[1,"bg-slate-800","rounded-lg","p-3","mb-4","space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-400"],[1,"text-white","font-semibold"],[1,"text-white"],[1,"flex","gap-3"],[1,"flex-1","px-4","py-2.5","bg-slate-800","text-white","rounded-lg","font-semibold","hover:bg-slate-700","transition-colors",3,"click"],[1,"flex-1","px-4","py-2.5","bg-gradient-to-r","from-red-600","to-red-700","text-white","rounded-lg","font-semibold","hover:shadow-lg","transition-all",3,"click"]],template:function(i,s){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),T(3,"div",3),n(4,"div")(5,"h1",4),a(6,"Gesti\xF3n de Blacklist"),o(),n(7,"p",5),a(8,"Bloqueo de clientes por proveedor, cartera y subcartera"),o()()()(),n(9,"div",1)(10,"div",6)(11,"div",7)(12,"div")(13,"label",8),a(14,"Proveedor"),o(),n(15,"select",9),P("ngModelChange",function(d){return S(s.selectedTenantId,d)||(s.selectedTenantId=d),d}),_("ngModelChange",function(){return s.onTenantChange()}),n(16,"option",10),a(17,"Seleccionar"),o(),I(18,R,2,2,"option",10,k),o()(),n(20,"div")(21,"label",8),a(22,"Cartera"),o(),n(23,"select",11),P("ngModelChange",function(d){return S(s.selectedPortfolioId,d)||(s.selectedPortfolioId=d),d}),_("ngModelChange",function(){return s.onPortfolioChange()}),n(24,"option",10),a(25,"Seleccionar"),o(),I(26,X,2,2,"option",10,k),o()(),n(28,"div")(29,"label",8),a(30,"Subcartera"),o(),n(31,"select",11),P("ngModelChange",function(d){return S(s.selectedSubPortfolioId,d)||(s.selectedSubPortfolioId=d),d}),n(32,"option",10),a(33,"Seleccionar"),o(),I(34,Z,2,2,"option",10,k),o()(),n(36,"div")(37,"label",8),a(38,"Documento"),o(),n(39,"input",12),P("ngModelChange",function(d){return S(s.document,d)||(s.document=d),d}),o()(),n(40,"div")(41,"label",8),a(42,"Fecha Fin"),o(),n(43,"input",13),P("ngModelChange",function(d){return S(s.endDate,d)||(s.endDate=d),d}),o()(),n(44,"div",14)(45,"button",15),_("click",function(){return s.addToBlacklist()}),a(46," A\xF1adir "),o()()()()(),n(47,"div",16)(48,"div",17),b(49,ee,4,0,"div",18)(50,te,5,0,"div",18)(51,ce,39,12,"div",19),o()()(),b(52,me,1,0,"div",20),b(53,pe,10,1,"div",21),b(54,he,42,7,"div",22)),i&2&&(r(15),v("ngModel",s.selectedTenantId),r(),g("value",null),r(2),M(s.tenants()),r(5),v("ngModel",s.selectedPortfolioId),g("disabled",!s.selectedTenantId),r(),g("value",null),r(2),M(s.portfolios()),r(5),v("ngModel",s.selectedSubPortfolioId),g("disabled",!s.selectedPortfolioId),r(),g("value",null),r(2),M(s.subPortfolios()),r(5),v("ngModel",s.document),r(4),v("ngModel",s.endDate),g("min",s.getTomorrowDate()),r(2),g("disabled",!s.canAddBlacklist()),r(4),C(s.loading()?49:s.filteredBlacklists().length===0?50:51),r(3),C(s.openFilterPopover?52:-1),r(),C(s.errorMessage()?53:-1),r(),C(s.showConfirmDialog()?54:-1))},dependencies:[A,H,q,z,j,O,L,U],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}"]});let l=c;return l})();export{Ie as BlacklistMaintenanceComponent};
