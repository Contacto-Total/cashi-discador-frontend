import{a as U}from"./chunk-KAKL3FYD.js";import"./chunk-IW4UZOVV.js";import"./chunk-UXRZVQCL.js";import{E as q,c as G,f as L,k as Q}from"./chunk-E2JO3TS2.js";import{pc as $,qc as j}from"./chunk-3IYT5ASU.js";import{a as F}from"./chunk-YQKVMPSG.js";import{b as y,c as D}from"./chunk-72Z2NTOL.js";import{Kb as s,Lb as i,Mb as r,Nb as g,Ub as M,Wb as p,Yb as d,ab as t,ba as E,cd as T,dd as V,fa as S,gb as k,hc as w,ic as v,kc as l,lc as P,ld as N,ma as u,mc as h,na as b,nb as z,nc as I,oc as A,sb as f,wa as _}from"./chunk-BDAG5FYU.js";var B=(()=>{let m=class m{constructor(n){this.http=n,this.apiUrl=`${F.gatewayUrl}/promesas`}getActivePromises(n=0,a=10){let c=new y().set("page",n.toString()).set("size",a.toString());return this.http.get(this.apiUrl,{params:c})}searchActivePromises(n,a=0,c=10){let C=new y().set("q",n).set("page",a.toString()).set("size",c.toString());return this.http.get(`${this.apiUrl}/search`,{params:C})}countActivePromises(){return this.http.get(`${this.apiUrl}/count`)}getPromesaById(n){return this.http.get(`${this.apiUrl}/${n}`)}anularPromesa(n,a,c){let C=new y().set("userId",a.toString()).set("nombreUsuario",c);return this.http.post(`${this.apiUrl}/anular`,n,{params:C})}};m.\u0275fac=function(a){return new(a||m)(S(D))},m.\u0275prov=E({token:m,factory:m.\u0275fac,providedIn:"root"});let o=m;return o})();function R(o,m){if(o&1){let e=M();i(0,"button",29),p("click",function(){u(e);let a=d();return b(a.clearSearch())}),g(1,"lucide-angular",30),r()}o&2&&(t(),s("size",16))}function Y(o,m){if(o&1&&(i(0,"div",31),g(1,"lucide-angular",32),l(2),r()),o&2){let e=d();t(),s("size",18),t(),h(" ",e.error()," ")}}function K(o,m){if(o&1&&(i(0,"div",33),g(1,"lucide-angular",34),l(2),r()),o&2){let e=d();t(),s("size",18),t(),h(" ",e.successMessage()," ")}}function W(o,m){o&1&&(i(0,"div",35),g(1,"div",36),i(2,"p"),l(3,"Cargando promesas..."),r()())}function X(o,m){o&1&&(i(0,"div",37),g(1,"lucide-angular",38),i(2,"p"),l(3,"No hay promesas activas"),r()()),o&2&&(t(),s("size",48))}function Z(o,m){if(o&1&&(i(0,"span"),l(1),r()),o&2){let e=d(2).$implicit;t(),h(" / ",e.nombreSubcartera)}}function ee(o,m){if(o&1&&(i(0,"span",63),g(1,"lucide-angular",64),l(2),f(3,Z,2,1,"span",65),r()),o&2){let e=d().$implicit;t(),s("size",14),t(),h(" ",e.nombreCartera," "),t(),s("ngIf",e.nombreSubcartera)}}function te(o,m){if(o&1&&(i(0,"span",63),g(1,"lucide-angular",66),l(2),r()),o&2){let e=d().$implicit;t(),s("size",14),t(),h(" ",e.rutaJerarquia," ")}}function ne(o,m){if(o&1&&(i(0,"div",67),g(1,"lucide-angular",68),i(2,"span"),l(3),r()()),o&2){let e=d().$implicit;t(),s("size",14),t(2),P(e.observaciones)}}function oe(o,m){if(o&1){let e=M();i(0,"button",69),p("click",function(){u(e);let a=d().$implicit,c=d(2);return b(c.toggleCuotas(a.idGestion))}),g(1,"lucide-angular",70),l(2),r()}if(o&2){let e=d().$implicit,n=d(2);t(),s("name",n.isExpanded(e.idGestion)?"chevron-up":"chevron-down")("size",16),t(),I(" ",n.isExpanded(e.idGestion)?"Ocultar":"Ver"," Cuotas (",e.cuotas.length,") ")}}function ie(o,m){if(o&1&&(i(0,"div",73)(1,"div",74),l(2),r(),i(3,"div",75)(4,"span",76),l(5),r(),i(6,"span",77),l(7),r(),i(8,"span",78),l(9),r()()()),o&2){let e=m.$implicit,n=d(4);t(2),h("Cuota ",e.numeroCuota),t(3),P(n.formatMonto(e.montoPromesa)),t(2),P(n.formatDate(e.fechaPromesa)),t(),w("background-color",n.getEstadoCuotaColor(e.estado)),t(),h(" ",e.estado," ")}}function re(o,m){if(o&1&&(i(0,"div",71),f(1,ie,10,6,"div",72),r()),o&2){let e=d().$implicit;t(),s("ngForOf",e.cuotas)}}function ae(o,m){if(o&1){let e=M();i(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44),g(4,"lucide-angular",45),i(5,"span",46),l(6),r(),i(7,"span",47),l(8),r()(),i(9,"span",48),l(10),r()(),i(11,"div",49)(12,"button",50),p("click",function(){let a=u(e).$implicit,c=d(2);return b(c.openAnularModal(a))}),g(13,"lucide-angular",51),l(14," Anular "),r()()(),i(15,"div",52)(16,"div",53)(17,"div",54)(18,"span",55),l(19,"Monto Promesa"),r(),i(20,"span",56),l(21),r()(),i(22,"div",54)(23,"span",55),l(24,"Fecha Gestion"),r(),i(25,"span",57),l(26),r()(),i(27,"div",54)(28,"span",55),l(29,"Cuotas"),r(),i(30,"span",57),l(31),r()(),i(32,"div",54)(33,"span",55),l(34,"Agente"),r(),i(35,"span",57),l(36),r()()(),i(37,"div",58),f(38,ee,4,3,"span",59)(39,te,3,2,"span",59),r(),f(40,ne,4,2,"div",60)(41,oe,3,4,"button",61)(42,re,2,1,"div",62),r()()}if(o&2){let e=m.$implicit,n=d(2);t(4),s("size",16),t(2),P(e.nombreCliente),t(2),P(e.documentoCliente),t(),w("background-color",n.getEstadoPagoColor(e.estadoPago)),t(),h(" ",e.estadoPago," "),t(3),s("size",16),t(8),P(n.formatMonto(e.montoPromesa)),t(5),P(n.formatDate(e.fechaGestion)),t(5),P(e.totalCuotas||1),t(5),P(e.nombreAgente||"-"),t(2),s("ngIf",e.nombreCartera),t(),s("ngIf",e.rutaJerarquia),t(),s("ngIf",e.observaciones),t(),s("ngIf",e.cuotas&&e.cuotas.length>0),t(),s("ngIf",n.isExpanded(e.idGestion)&&e.cuotas)}}function se(o,m){if(o&1&&(i(0,"div",39),f(1,ae,43,16,"div",40),r()),o&2){let e=d();t(),s("ngForOf",e.promesas())}}function ce(o,m){if(o&1){let e=M();i(0,"button",87),p("click",function(){let a=u(e).$implicit,c=d(2);return b(c.goToPage(a))}),l(1),r()}if(o&2){let e=m.$implicit,n=d(2);v("active",e===n.currentPage()),t(),h(" ",e+1," ")}}function le(o,m){if(o&1){let e=M();i(0,"div",79)(1,"button",80),p("click",function(){u(e);let a=d();return b(a.goToPage(0))}),g(2,"lucide-angular",81),r(),i(3,"button",80),p("click",function(){u(e);let a=d();return b(a.goToPage(a.currentPage()-1))}),g(4,"lucide-angular",82),r(),f(5,ce,2,3,"button",83),i(6,"button",80),p("click",function(){u(e);let a=d();return b(a.goToPage(a.currentPage()+1))}),g(7,"lucide-angular",84),r(),i(8,"button",80),p("click",function(){u(e);let a=d();return b(a.goToPage(a.totalPages()-1))}),g(9,"lucide-angular",85),r(),i(10,"span",86),l(11),r()()}if(o&2){let e=d();t(),s("disabled",e.currentPage()===0),t(),s("size",16),t(),s("disabled",e.currentPage()===0),t(),s("size",16),t(),s("ngForOf",e.pageNumbers),t(),s("disabled",e.currentPage()===e.totalPages()-1),t(),s("size",16),t(),s("disabled",e.currentPage()===e.totalPages()-1),t(),s("size",16),t(2),A(" Pagina ",e.currentPage()+1," de ",e.totalPages()," (",e.totalElements()," promesas) ")}}function me(o,m){if(o&1){let e=M();i(0,"div",99)(1,"div",100)(2,"p")(3,"strong"),l(4,"Cliente:"),r(),l(5),r(),i(6,"p")(7,"strong"),l(8,"Documento:"),r(),l(9),r(),i(10,"p")(11,"strong"),l(12,"Monto:"),r(),l(13),r(),i(14,"p")(15,"strong"),l(16,"Cuotas:"),r(),l(17),r()(),i(18,"div",101),g(19,"lucide-angular",102),i(20,"span"),l(21,"Esta accion marcara la promesa como ANULADA y todas sus cuotas como CANCELADA. Esta accion no se puede deshacer."),r()(),i(22,"div",103)(23,"label",104),l(24,"Motivo de Anulacion *"),r(),i(25,"textarea",105),p("ngModelChange",function(a){u(e);let c=d(2);return b(c.motivoAnulacion.set(a))}),l(26,"        "),r(),i(27,"span",106),l(28),r()()()}if(o&2){let e=d(2);t(5),h(" ",e.selectedPromesa().nombreCliente),t(4),h(" ",e.selectedPromesa().documentoCliente),t(4),h(" ",e.formatMonto(e.selectedPromesa().montoPromesa)),t(4),h(" ",e.selectedPromesa().totalCuotas||1),t(2),s("size",20),t(6),v("error",e.motivoAnulacion().length>0&&e.motivoAnulacion().length<10),s("ngModel",e.motivoAnulacion()),t(2),v("error",e.motivoAnulacion().length>0&&e.motivoAnulacion().length<10),t(),h(" ",e.motivoAnulacion().length,"/10 caracteres minimo ")}}function de(o,m){o&1&&g(0,"lucide-angular",107),o&2&&s("size",16)}function ge(o,m){o&1&&g(0,"lucide-angular",51),o&2&&s("size",16)}function pe(o,m){if(o&1){let e=M();i(0,"div",88),p("click",function(){u(e);let a=d();return b(a.closeAnularModal())}),i(1,"div",89),p("click",function(a){return u(e),b(a.stopPropagation())}),i(2,"div",90)(3,"h2"),g(4,"lucide-angular",91),l(5," Anular Promesa "),r(),i(6,"button",92),p("click",function(){u(e);let a=d();return b(a.closeAnularModal())}),g(7,"lucide-angular",30),r()(),f(8,me,29,11,"div",93),i(9,"div",94)(10,"button",95),p("click",function(){u(e);let a=d();return b(a.closeAnularModal())}),l(11," Cancelar "),r(),i(12,"button",96),p("click",function(){u(e);let a=d();return b(a.anularPromesa())}),f(13,de,1,1,"lucide-angular",97)(14,ge,1,1,"lucide-angular",98),l(15),r()()()()}if(o&2){let e=d();t(4),s("size",20),t(3),s("size",18),t(),s("ngIf",e.selectedPromesa()),t(4),s("disabled",e.anulando()||e.motivoAnulacion().length<10),t(),s("ngIf",e.anulando()),t(),s("ngIf",!e.anulando()),t(),h(" ",e.anulando()?"Anulando...":"Confirmar Anulacion"," ")}}var ke=(()=>{let m=class m{constructor(n,a){this.promiseService=n,this.authService=a,this.promesas=_([]),this.loading=_(!1),this.error=_(null),this.successMessage=_(null),this.currentPage=_(0),this.pageSize=_(10),this.totalElements=_(0),this.totalPages=_(0),this.searchQuery=_(""),this.showAnularModal=_(!1),this.selectedPromesa=_(null),this.motivoAnulacion=_(""),this.anulando=_(!1),this.expandedPromesas=_(new Set)}ngOnInit(){this.loadPromesas()}loadPromesas(){this.loading.set(!0),this.error.set(null);let n=this.searchQuery();(n.trim()?this.promiseService.searchActivePromises(n,this.currentPage(),this.pageSize()):this.promiseService.getActivePromises(this.currentPage(),this.pageSize())).subscribe({next:c=>{this.promesas.set(c.content),this.totalElements.set(c.totalElements),this.totalPages.set(c.totalPages),this.loading.set(!1)},error:c=>{console.error("Error loading promesas:",c),this.error.set("Error al cargar las promesas"),this.loading.set(!1)}})}onSearch(){this.currentPage.set(0),this.loadPromesas()}clearSearch(){this.searchQuery.set(""),this.currentPage.set(0),this.loadPromesas()}goToPage(n){n>=0&&n<this.totalPages()&&(this.currentPage.set(n),this.loadPromesas())}openAnularModal(n){this.selectedPromesa.set(n),this.motivoAnulacion.set(""),this.showAnularModal.set(!0)}closeAnularModal(){this.showAnularModal.set(!1),this.selectedPromesa.set(null),this.motivoAnulacion.set("")}anularPromesa(){let n=this.selectedPromesa(),a=this.motivoAnulacion(),c=this.authService.getCurrentUser();if(!n||a.length<10){this.error.set("El motivo debe tener al menos 10 caracteres");return}if(!c){this.error.set("No se pudo obtener el usuario actual");return}this.anulando.set(!0),this.error.set(null);let C=c.id,x=`${c.firstName} ${c.lastName}`.trim()||c.username;this.promiseService.anularPromesa({idGestion:n.idGestion,motivo:a},C,x).subscribe({next:()=>{this.successMessage.set(`Promesa del cliente ${n.nombreCliente} anulada correctamente`),this.closeAnularModal(),this.loadPromesas(),this.anulando.set(!1),setTimeout(()=>this.successMessage.set(null),5e3)},error:O=>{console.error("Error anulando promesa:",O),this.error.set(O.error?.message||"Error al anular la promesa"),this.anulando.set(!1)}})}toggleCuotas(n){let a=this.expandedPromesas(),c=new Set(a);c.has(n)?c.delete(n):c.add(n),this.expandedPromesas.set(c)}isExpanded(n){return this.expandedPromesas().has(n)}getEstadoPagoColor(n){switch(n){case"PENDIENTE":return"#f59e0b";case"PARCIAL":return"#3b82f6";case"PAGADA":return"#10b981";case"VENCIDA":return"#ef4444";case"CANCELADA":return"#6b7280";default:return"#6b7280"}}getEstadoCuotaColor(n){switch(n){case"PENDIENTE":return"#f59e0b";case"PARCIAL":return"#3b82f6";case"PAGADA":return"#10b981";case"VENCIDA":return"#ef4444";case"CANCELADA":return"#6b7280";default:return"#6b7280"}}formatMonto(n){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(n||0)}formatDate(n){return n?new Date(n).toLocaleDateString("es-PE",{day:"2-digit",month:"short",year:"numeric"}):"-"}get pageNumbers(){let n=this.totalPages(),a=this.currentPage(),c=[],C=Math.max(0,a-2),x=Math.min(n-1,a+2);for(let O=C;O<=x;O++)c.push(O);return c}};m.\u0275fac=function(a){return new(a||m)(k(B),k(U))},m.\u0275cmp=z({type:m,selectors:[["app-promise-management"]],decls:36,vars:15,consts:[[1,"promise-container"],[1,"flex","items-center","gap-2","mb-2"],[1,"w-8","h-8","bg-gradient-to-br","from-amber-500","to-amber-600","rounded-lg","flex","items-center","justify-center"],["name","handshake",1,"text-white",3,"size"],[1,"text-lg","font-bold","text-white"],[1,"text-xs","text-gray-400"],[1,"search-bar"],[1,"search-input-wrapper"],["name","search",1,"search-icon",3,"size"],["type","text","placeholder","Buscar por documento o nombre del cliente...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["class","search-clear",3,"click",4,"ngIf"],[1,"btn-search",3,"click"],["name","search",3,"size"],[1,"stats-bar"],[1,"stat-item"],["name","handshake",1,"stat-icon","amber",3,"size"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"promesas-section"],[1,"section-title"],["name","list",3,"size"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","promesas-scrollable",4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"search-clear",3,"click"],["name","x",3,"size"],[1,"error-message"],["name","x-circle",3,"size"],[1,"success-message"],["name","check-circle",3,"size"],[1,"loading-state"],[1,"spinner"],[1,"empty-state"],["name","inbox",3,"size"],[1,"promesas-scrollable"],["class","promesa-card",4,"ngFor","ngForOf"],[1,"promesa-card"],[1,"promesa-header"],[1,"promesa-title"],[1,"cliente-info"],["name","user",1,"cliente-icon",3,"size"],[1,"cliente-nombre"],[1,"cliente-documento"],[1,"status-badge"],[1,"promesa-actions"],["title","Anular promesa",1,"btn-action-small","btn-anular",3,"click"],["name","ban",3,"size"],[1,"promesa-body"],[1,"promesa-grid"],[1,"promesa-field"],[1,"field-label"],[1,"field-value","monto"],[1,"field-value"],[1,"promesa-meta"],["class","meta-item",4,"ngIf"],["class","promesa-observaciones",4,"ngIf"],["class","btn-toggle-cuotas",3,"click",4,"ngIf"],["class","cuotas-container",4,"ngIf"],[1,"meta-item"],["name","folder",3,"size"],[4,"ngIf"],["name","git-branch",3,"size"],[1,"promesa-observaciones"],["name","message-square",3,"size"],[1,"btn-toggle-cuotas",3,"click"],[3,"name","size"],[1,"cuotas-container"],["class","cuota-item",4,"ngFor","ngForOf"],[1,"cuota-item"],[1,"cuota-numero"],[1,"cuota-info"],[1,"cuota-monto"],[1,"cuota-fecha"],[1,"cuota-estado"],[1,"pagination"],[1,"page-btn",3,"click","disabled"],["name","chevrons-left",3,"size"],["name","chevron-left",3,"size"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],["name","chevron-right",3,"size"],["name","chevrons-right",3,"size"],[1,"page-info"],[1,"page-btn",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["name","ban",1,"text-red-500",3,"size"],[1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-anular-confirm",3,"click","disabled"],["name","loader-2","class","animate-spin",3,"size",4,"ngIf"],["name","ban",3,"size",4,"ngIf"],[1,"modal-body"],[1,"anular-info"],[1,"anular-warning"],["name","alert-triangle",3,"size"],[1,"form-group"],["for","motivo"],["id","motivo","placeholder","Ingrese el motivo de la anulacion (minimo 10 caracteres)...","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"char-count"],["name","loader-2",1,"animate-spin",3,"size"]],template:function(a,c){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),g(3,"lucide-angular",3),r(),i(4,"div")(5,"h1",4),l(6,"Gestion de Promesas"),r(),i(7,"p",5),l(8,"Administracion de promesas de pago activas"),r()()(),i(9,"div",6)(10,"div",7),g(11,"lucide-angular",8),i(12,"input",9),p("ngModelChange",function(x){return c.searchQuery.set(x)})("keyup.enter",function(){return c.onSearch()}),r(),f(13,R,2,1,"button",10),r(),i(14,"button",11),p("click",function(){return c.onSearch()}),g(15,"lucide-angular",12),l(16," Buscar "),r()(),i(17,"div",13)(18,"div",14),g(19,"lucide-angular",15),i(20,"div",16)(21,"span",17),l(22),r(),i(23,"span",18),l(24,"Promesas Activas"),r()()()(),f(25,Y,3,2,"div",19)(26,K,3,2,"div",20),i(27,"div",21)(28,"h2",22),g(29,"lucide-angular",23),l(30," Promesas de Pago "),r(),f(31,W,4,0,"div",24)(32,X,4,1,"div",25)(33,se,2,1,"div",26)(34,le,12,12,"div",27),r()(),f(35,pe,16,7,"div",28)),a&2&&(t(3),s("size",16),t(8),s("size",18),t(),s("ngModel",c.searchQuery()),t(),s("ngIf",c.searchQuery()),t(2),s("size",16),t(4),s("size",20),t(3),P(c.totalElements()),t(3),s("ngIf",c.error()),t(),s("ngIf",c.successMessage()),t(3),s("size",20),t(2),s("ngIf",c.loading()),t(),s("ngIf",!c.loading()&&c.promesas().length===0),t(),s("ngIf",!c.loading()&&c.promesas().length>0),t(),s("ngIf",c.totalPages()>1),t(),s("ngIf",c.showAnularModal()))},dependencies:[N,T,V,q,G,L,Q,j,$],styles:[".promise-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(to bottom right,#0f172a,#1e293b,#0f172a);padding:1.5rem;max-width:1400px;margin:0 auto}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#64748b}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;background:#1e293b;border:1px solid #334155;border-radius:8px;color:#fff;font-size:.9rem;transition:all .3s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.search-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.search-clear[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:none;border:none;color:#64748b;cursor:pointer;padding:.25rem}.search-clear[_ngcontent-%COMP%]:hover{color:#fff}.btn-search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f59e0b;color:#000;border:none;padding:.75rem 1.5rem;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s}.btn-search[_ngcontent-%COMP%]:hover{background:#d97706;transform:translateY(-1px)}.stats-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;background:#1e293b;padding:1rem;border-radius:8px;border:1px solid #334155}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.stat-icon[_ngcontent-%COMP%]{padding:.5rem;border-radius:8px;background:#f59e0b26}.stat-icon.amber[_ngcontent-%COMP%]{color:#f59e0b}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#f59e0b}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}.error-message[_ngcontent-%COMP%], .success-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;border-radius:8px;margin-bottom:1rem;font-weight:500}.error-message[_ngcontent-%COMP%]{background:#ef444426;color:#fca5a5;border:1px solid rgba(239,68,68,.3)}.success-message[_ngcontent-%COMP%]{background:#10b98126;color:#6ee7b7;border:1px solid rgba(16,185,129,.3)}.promesas-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#1e293b;border:1px solid #334155;border-radius:8px;overflow:hidden;min-height:500px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;padding:1rem;font-size:1.1rem;color:#fff;background:#0f172a;border-bottom:1px solid #334155}.promesas-scrollable[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:.75rem;max-height:calc(100vh - 280px)}.promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}.promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:4px}.promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#64748b;gap:1rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #334155;border-top-color:#f59e0b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.promesa-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #334155;border-radius:8px;overflow:hidden;transition:all .3s;width:100%;flex-shrink:0}.promesa-card[_ngcontent-%COMP%]:hover{border-color:#f59e0b;box-shadow:0 4px 12px #f59e0b1a}.promesa-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.625rem 1rem;background:#f59e0b0d;border-bottom:1px solid #334155}.promesa-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.cliente-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.cliente-icon[_ngcontent-%COMP%]{color:#f59e0b}.cliente-nombre[_ngcontent-%COMP%]{font-weight:600;color:#fff}.cliente-documento[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;color:#fff}.promesa-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-action-small[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:6px;cursor:pointer;font-size:.8rem;font-weight:500;transition:all .3s}.btn-anular[_ngcontent-%COMP%]{background:#ef444426;color:#f87171}.btn-anular[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.promesa-body[_ngcontent-%COMP%]{padding:.75rem 1rem}.promesa-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem;margin-bottom:.75rem}.promesa-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.field-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;text-transform:uppercase}.field-value[_ngcontent-%COMP%]{font-size:.95rem;color:#fff;font-weight:500}.field-value.monto[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700;font-size:1.1rem}.promesa-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:.5rem;padding:.5rem .75rem;background:#ffffff05;border-radius:6px}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:#94a3b8}.promesa-observaciones[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem .75rem;background:#f59e0b0d;border-radius:6px;font-size:.8rem;color:#cbd5e1;margin-bottom:.5rem}.btn-toggle-cuotas[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;background:none;border:1px solid #334155;color:#94a3b8;padding:.375rem .75rem;border-radius:6px;cursor:pointer;font-size:.8rem;transition:all .3s;width:100%;justify-content:center}.btn-toggle-cuotas[_ngcontent-%COMP%]:hover{background:#334155;color:#fff}.cuotas-container[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#ffffff05;border-radius:6px;display:flex;flex-direction:column;gap:.5rem}.cuota-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#1e293b;border-radius:6px;border:1px solid #334155}.cuota-numero[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b;font-size:.85rem}.cuota-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.cuota-monto[_ngcontent-%COMP%]{font-weight:600;color:#fff}.cuota-fecha[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem}.cuota-estado[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.7rem;font-weight:600;color:#fff}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;border-top:1px solid #334155;background:#0f172a}.page-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#1e293b;border:1px solid #334155;border-radius:6px;color:#94a3b8;cursor:pointer;transition:all .3s}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#334155;color:#fff}.page-btn.active[_ngcontent-%COMP%]{background:#f59e0b;border-color:#f59e0b;color:#000;font-weight:600}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{margin-left:1rem;color:#64748b;font-size:.85rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background:#1e293b;border:1px solid #334155;border-radius:12px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #00000080}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #334155}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:1.25rem;color:#fff}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .3s}.btn-close[_ngcontent-%COMP%]:hover{background:#334155;color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.anular-info[_ngcontent-%COMP%]{background:#0f172a;padding:1rem;border-radius:8px;margin-bottom:1rem}.anular-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#cbd5e1}.anular-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.anular-warning[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:8px;margin-bottom:1rem;color:#fca5a5;font-size:.9rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#94a3b8;font-size:.9rem}.form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#0f172a;border:1px solid #334155;border-radius:8px;color:#fff;font-size:.9rem;resize:vertical;transition:all .3s}.form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b}.form-textarea.error[_ngcontent-%COMP%]{border-color:#ef4444}.char-count[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.75rem;color:#64748b}.char-count.error[_ngcontent-%COMP%]{color:#f87171}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1.25rem;border-top:1px solid #334155}.btn-cancel[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#334155;border:none;border-radius:8px;color:#fff;cursor:pointer;font-weight:500;transition:all .3s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#475569}.btn-anular-confirm[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#ef4444;border:none;border-radius:8px;color:#fff;cursor:pointer;font-weight:600;transition:all .3s}.btn-anular-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#dc2626}.btn-anular-confirm[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width: 1024px){.promesa-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.search-bar[_ngcontent-%COMP%]{flex-direction:column}.promesa-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.promesa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.cuota-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end;gap:.25rem}}body.light-theme[_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#f8fafc,#f1f5f9,#f8fafc)}body.light-theme[_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0f172a}body.light-theme[_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promise-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#fff;border-color:#cbd5e1;color:#0f172a}body.light-theme[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, body.light-theme   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b26}body.light-theme[_nghost-%COMP%]   .stats-bar[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .stats-bar[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .stat-label[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .promesas-section[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promesas-section[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{background:#f8fafc;color:#0f172a;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.light-theme   [_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}body.light-theme[_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.light-theme   [_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1}body.light-theme[_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.light-theme   [_nghost-%COMP%]   .promesas-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}body.light-theme[_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .loading-state[_ngcontent-%COMP%], body.light-theme[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{border-color:#e2e8f0;border-top-color:#f59e0b}body.light-theme[_nghost-%COMP%]   .promesa-card[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promesa-card[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .promesa-card[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .promesa-card[_ngcontent-%COMP%]:hover{border-color:#f59e0b;box-shadow:0 4px 12px #f59e0b26}body.light-theme[_nghost-%COMP%]   .promesa-header[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promesa-header[_ngcontent-%COMP%]{background:#f59e0b14;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .cliente-nombre[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cliente-nombre[_ngcontent-%COMP%]{color:#0f172a}body.light-theme[_nghost-%COMP%]   .cliente-documento[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cliente-documento[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .btn-anular[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .btn-anular[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}body.light-theme[_nghost-%COMP%]   .btn-anular[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .btn-anular[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}body.light-theme[_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .field-value[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .field-value[_ngcontent-%COMP%]{color:#0f172a}body.light-theme[_nghost-%COMP%]   .promesa-meta[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promesa-meta[_ngcontent-%COMP%]{background:#f8fafc}body.light-theme[_nghost-%COMP%]   .meta-item[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .meta-item[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .promesa-observaciones[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .promesa-observaciones[_ngcontent-%COMP%]{background:#f59e0b14;color:#475569}body.light-theme[_nghost-%COMP%]   .btn-toggle-cuotas[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .btn-toggle-cuotas[_ngcontent-%COMP%]{border-color:#cbd5e1;color:#64748b}body.light-theme[_nghost-%COMP%]   .btn-toggle-cuotas[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .btn-toggle-cuotas[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#0f172a}body.light-theme[_nghost-%COMP%]   .cuotas-container[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cuotas-container[_ngcontent-%COMP%]{background:#f8fafc}body.light-theme[_nghost-%COMP%]   .cuota-item[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cuota-item[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .cuota-monto[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cuota-monto[_ngcontent-%COMP%]{color:#0f172a}body.light-theme[_nghost-%COMP%]   .cuota-fecha[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .cuota-fecha[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]{background:#f8fafc;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .page-btn[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0;color:#64748b}body.light-theme[_nghost-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled), body.light-theme   [_nghost-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9;color:#0f172a}body.light-theme[_nghost-%COMP%]   .page-btn.active[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .page-btn.active[_ngcontent-%COMP%]{background:#f59e0b;border-color:#f59e0b;color:#000}body.light-theme[_nghost-%COMP%]   .page-info[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0f172a}body.light-theme[_nghost-%COMP%]   .btn-close[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .btn-close[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#0f172a}body.light-theme[_nghost-%COMP%]   .anular-info[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .anular-info[_ngcontent-%COMP%]{background:#f8fafc}body.light-theme[_nghost-%COMP%]   .anular-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .anular-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569}body.light-theme[_nghost-%COMP%]   .anular-warning[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .anular-warning[_ngcontent-%COMP%]{background:#ef444414;border-color:#ef444433;color:#dc2626}body.light-theme[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#475569}body.light-theme[_nghost-%COMP%]   .form-textarea[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .form-textarea[_ngcontent-%COMP%]{background:#f8fafc;border-color:#cbd5e1;color:#0f172a}body.light-theme[_nghost-%COMP%]   .char-count[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .char-count[_ngcontent-%COMP%]{color:#64748b}body.light-theme[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-color:#e2e8f0}body.light-theme[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#e2e8f0;color:#475569}body.light-theme[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#cbd5e1}body.light-theme[_nghost-%COMP%]   .error-message[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border-color:#ef444433}body.light-theme[_nghost-%COMP%]   .success-message[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .success-message[_ngcontent-%COMP%]{background:#10b9811a;color:#059669;border-color:#10b98133}"]});let o=m;return o})();export{ke as PromiseManagementComponent};
