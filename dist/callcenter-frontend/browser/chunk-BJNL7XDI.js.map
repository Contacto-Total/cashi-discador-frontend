{
  "version": 3,
  "sources": ["src/app/maintenance/models/typification-v2.model.ts", "src/app/maintenance/components/field-config-dialog/field-config-dialog.component.ts", "src/app/maintenance/components/typification-form-dialog/typification-form-dialog.component.ts", "src/app/maintenance/models/typification.model.ts", "src/app/maintenance/services/classification-type.service.ts", "src/app/maintenance/components/category-form-dialog/category-form-dialog.component.ts", "src/app/maintenance/components/typification-additional-fields-dialog/typification-additional-fields-dialog.component.ts", "src/app/maintenance/components/typification-maintenance/typification-maintenance.component.ts", "src/app/maintenance/components/typification-maintenance/typification-maintenance.component.html"],
  "sourcesContent": ["/**\r\n * Modelos V2 para el sistema de mantenimiento de tipificaciones\r\n * Estos modelos corresponden a las tablas V2 del backend:\r\n * - catalogo_tipificaciones_v2\r\n * - configuracion_tenant_tipificacion_v2\r\n */\r\n\r\nexport enum ClassificationTypeV2 {\r\n  RESULTADO_CONTACTO = 'RESULTADO_CONTACTO',\r\n  TIPO_GESTION = 'TIPO_GESTION',\r\n  MODALIDAD_PAGO = 'MODALIDAD_PAGO',\r\n  TIPO_FRACCIONAMIENTO = 'TIPO_FRACCIONAMIENTO'\r\n}\r\n\r\nexport interface TypificationCatalogV2 {\r\n  id: number;\r\n  codigo: string;\r\n  nombre: string;\r\n  descripcion?: string;\r\n  tipoClasificacion: ClassificationTypeV2;\r\n  tipificacionPadre?: {\r\n    id: number;\r\n  };\r\n  parentTypificationId?: number; // ID directo del padre (para construir árbol)\r\n  nivelJerarquia: number;\r\n  ordenVisualizacion?: number;\r\n  esEstadoFinal?: boolean;\r\n  requiereObservaciones?: boolean;\r\n  estaActiva: boolean;\r\n  colorSugerido?: string;\r\n  iconoSugerido?: string;\r\n  esSistema: boolean;\r\n  fechaCreacion: string;\r\n  fechaActualizacion: string;\r\n  fechaEliminacion?: string;\r\n}\r\n\r\nexport interface TenantTypificationConfigV2 {\r\n  id: number;\r\n  idTenant: number;\r\n  idCartera?: number;\r\n  idSubcartera?: number;\r\n  tipificacion: TypificationCatalogV2;\r\n  heredaDePadre?: boolean;\r\n  estaHabilitada: boolean;\r\n  nombrePersonalizado?: string;\r\n  descripcionPersonalizada?: string;\r\n  colorPersonalizado?: string;\r\n  iconoPersonalizado?: string;\r\n  ordenVisualizacionPersonalizado?: number;\r\n  requiereObservacionesPersonalizado?: boolean;\r\n  creadoPor?: number;\r\n  modificadoPor?: number;\r\n  fechaCreacion: string;\r\n  fechaActualizacion: string;\r\n  fechaEliminacion?: string;\r\n  // Computed fields\r\n  nombreEfectivo?: string;\r\n  colorEfectivo?: string;\r\n  iconoEfectivo?: string;\r\n}\r\n\r\nexport interface CreateTypificationCommandV2 {\r\n  codigo: string;\r\n  nombre: string;\r\n  descripcion?: string;\r\n  tipoClasificacion: ClassificationTypeV2;\r\n  parentTypificationId?: number;  // Nombre que espera el backend (@JsonProperty)\r\n  ordenVisualizacion?: number;\r\n  esEstadoFinal?: boolean;\r\n  requiereObservaciones?: boolean;\r\n  colorSugerido?: string;\r\n  iconoSugerido?: string;\r\n  esSistema?: boolean;\r\n}\r\n\r\nexport interface UpdateTypificationCommandV2 {\r\n  nombre?: string;\r\n  descripcion?: string;\r\n  ordenVisualizacion?: number;\r\n  esEstadoFinal?: boolean;\r\n  requiereObservaciones?: boolean;\r\n  estaActiva?: boolean;\r\n  colorSugerido?: string;\r\n  iconoSugerido?: string;\r\n}\r\n\r\nexport interface UpdateTypificationConfigCommandV2 {\r\n  estaHabilitada?: boolean;\r\n  nombrePersonalizado?: string;\r\n  descripcionPersonalizada?: string;\r\n  colorPersonalizado?: string;\r\n  iconoPersonalizado?: string;\r\n  ordenVisualizacionPersonalizado?: number;\r\n  requiereObservacionesPersonalizado?: boolean;\r\n}\r\n\r\nexport interface TypificationTreeNodeV2 {\r\n  typification: TypificationCatalogV2;\r\n  config?: TenantTypificationConfigV2;\r\n  children: TypificationTreeNodeV2[];\r\n  level: number;\r\n}\r\n\r\nexport enum FieldTypeV2 {\r\n  DATE = 'DATE',\r\n  NUMBER = 'NUMBER',\r\n  TEXT = 'TEXT',\r\n  TEXTAREA = 'TEXTAREA',\r\n  CHIP_SELECT = 'CHIP_SELECT',\r\n  PAYMENT_SCHEDULE = 'PAYMENT_SCHEDULE'\r\n}\r\n\r\nexport enum FieldDataSourceV2 {\r\n  MANUAL = 'MANUAL',\r\n  DYNAMIC_TABLE = 'DYNAMIC_TABLE'\r\n}\r\n\r\nexport interface AdditionalFieldV2 {\r\n  id: number;\r\n  nombreCampo: string;\r\n  tipoCampo: FieldTypeV2 | string;  // Backend usa String, no enum\r\n  labelCampo: string;\r\n  esRequerido: boolean;\r\n  ordenVisualizacion: number;\r\n  valorMinimo?: number;\r\n  valorMaximo?: number;\r\n  longitudMaxima?: number;\r\n  fuenteValor?: FieldDataSourceV2;\r\n  campoTablaDinamica?: string;\r\n  // Campos para respuesta con valores dinámicos\r\n  dataSource?: string;\r\n  sourceField?: string;\r\n  value?: any;\r\n  options?: Array<{label: string, value: any}>;\r\n}\r\n\r\n// Enum para restricción de fecha en promesas de pago\r\nexport enum RestriccionFecha {\r\n  SIN_RESTRICCION = 'SIN_RESTRICCION',   // Cualquier fecha futura\r\n  DENTRO_MES = 'DENTRO_MES',             // Solo fechas dentro del mes actual\r\n  FUERA_MES = 'FUERA_MES'                // Solo fechas del próximo mes en adelante\r\n}\r\n\r\n// Modelos para el sistema de opciones con toggles\r\nexport interface CampoOpcionDTO {\r\n  id?: number;\r\n  codigoOpcion: string;\r\n  labelOpcion: string;\r\n  campoTablaDinamica?: string;\r\n  estaHabilitada: boolean;\r\n  ordenVisualizacion: number;\r\n  restriccionFecha?: RestriccionFecha | string;  // Restricción de fecha para promesas de pago\r\n  generaCartaAcuerdo?: boolean;  // Indica si genera Carta de Acuerdo al seleccionar este monto\r\n}\r\n\r\nexport interface ConfigurarOpcionesCampoRequest {\r\n  idCampo: number;\r\n  opciones: OpcionToggleDTO[];\r\n}\r\n\r\nexport interface OpcionToggleDTO {\r\n  codigoOpcion: string;\r\n  estaHabilitada: boolean;\r\n  ordenVisualizacion?: number;\r\n  restriccionFecha?: RestriccionFecha | string;  // Restricción de fecha para promesas de pago\r\n  generaCartaAcuerdo?: boolean;  // Indica si genera Carta de Acuerdo al seleccionar este monto\r\n}\r\n\r\nexport interface CampoConOpcionesResponse {\r\n  idCampo: number;\r\n  nombreCampo: string;\r\n  labelCampo: string;\r\n  tipoCampo: string;\r\n  esRequerido: boolean;\r\n  ordenVisualizacion: number;\r\n  opciones: OpcionConValorDTO[];\r\n}\r\n\r\nexport interface OpcionConValorDTO {\r\n  id: number;\r\n  codigoOpcion: string;\r\n  labelOpcion: string;\r\n  valor: any;\r\n  esPersonalizado: boolean;\r\n}\r\n\r\n// Modelos para Cronograma de Pagos (Payment Schedule)\r\nexport interface PaymentInstallment {\r\n  numeroCuota: number;\r\n  monto: number;\r\n  fechaPago: string; // ISO date string\r\n}\r\n\r\nexport interface PaymentScheduleConfig {\r\n  montoTotal: number;\r\n  numeroCuotas: number;\r\n  cuotas: PaymentInstallment[];\r\n  grupoPromesaUuid?: string;\r\n  campoMontoOrigen?: string;  // Nombre del campo de donde viene el monto (ej: sld_mora)\r\n  montoBase?: number;  // Monto original del campo (antes de descuento/excepción). null = monto libre\r\n  generaCartaAcuerdo?: boolean;  // Si el monto seleccionado genera carta de acuerdo\r\n}\r\n\r\nexport interface PaymentScheduleRequest {\r\n  idCliente: number;\r\n  idAgente: number;\r\n  idTenant: number;\r\n  idCartera?: number;\r\n  idSubcartera?: number;\r\n  idCampana?: number;\r\n  idTipificacion: number;\r\n  observaciones?: string;\r\n  metodoContacto?: string;\r\n  schedule: PaymentScheduleConfig;\r\n}\r\n", "import { Component, effect, inject, input, output, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\nimport {\r\n  FieldConfig,\r\n  FieldType,\r\n  MetadataSchema,\r\n  SelectOption,\r\n  TableColumn\r\n} from '../../models/field-config.model';\r\nimport { ApiSystemConfigService, FieldTypeResource } from '../../../collection-management/services/api-system-config.service';\r\nimport { DynamicFieldRendererComponent } from '../../../collection-management/components/dynamic-field-renderer/dynamic-field-renderer.component';\r\n\r\n@Component({\r\n  selector: 'app-field-config-dialog',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, LucideAngularModule, DynamicFieldRendererComponent],\r\n  template: `\r\n    @if (isOpen()) {\r\n      <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col\">\r\n          <!-- Header -->\r\n          <div class=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n            <h2 class=\"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n              <lucide-angular name=\"settings\" [size]=\"24\" class=\"text-blue-600\"></lucide-angular>\r\n              Configurar Campos Personalizados\r\n            </h2>\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"handleCancel()\"\r\n              class=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n            >\r\n              <lucide-angular name=\"x\" [size]=\"24\"></lucide-angular>\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Body -->\r\n          <div class=\"flex-1 overflow-y-auto p-6 space-y-4\">\r\n            <!-- Lista de campos configurados -->\r\n            <div class=\"space-y-3\">\r\n              @for (field of fields(); track field.id; let idx = $index) {\r\n                <div class=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                  <div class=\"flex items-start justify-between gap-4\">\r\n                    <div class=\"flex-1 space-y-3\">\r\n                      <div class=\"grid grid-cols-2 gap-3\">\r\n                        <!-- ID del campo -->\r\n                        <div>\r\n                          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            ID del Campo\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            [(ngModel)]=\"field.id\"\r\n                            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                            placeholder=\"payment_schedule\"\r\n                          />\r\n                        </div>\r\n\r\n                        <!-- Label -->\r\n                        <div>\r\n                          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Etiqueta\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            [(ngModel)]=\"field.label\"\r\n                            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                            placeholder=\"Cronograma de Pago\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"grid grid-cols-2 gap-3\">\r\n                        <!-- Tipo de campo -->\r\n                        <div>\r\n                          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Tipo de Campo\r\n                          </label>\r\n                          <select\r\n                            [(ngModel)]=\"field.type\"\r\n                            (ngModelChange)=\"onFieldTypeChange(field)\"\r\n                            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                          >\r\n                            @for (type of fieldTypes(); track type.id) {\r\n                              <option [value]=\"type.typeCode\">{{ type.typeName }}</option>\r\n                            }\r\n                          </select>\r\n                        </div>\r\n\r\n                        <!-- Requerido -->\r\n                        <div class=\"flex items-cent\r\n                        er pt-6\">\r\n                          <label class=\"flex items-center gap-2 cursor-pointer\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              [(ngModel)]=\"field.required\"\r\n                              class=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                            />\r\n                            <span class=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                              Campo Requerido\r\n                            </span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- Configuración de tabla/cronograma -->\r\n                      @if (field.type === 'table') {\r\n                        <div class=\"mt-4 p-4 bg-white dark:bg-gray-800 rounded border border-gray-300 dark:border-gray-600\">\r\n                          <div class=\"flex items-center justify-between mb-3\">\r\n                            <h4 class=\"font-medium text-gray-900 dark:text-white\">Columnas de la Tabla</h4>\r\n                            <button\r\n                              type=\"button\"\r\n                              (click)=\"addColumn(field)\"\r\n                              class=\"text-sm px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n                            >\r\n                              + Agregar Columna\r\n                            </button>\r\n                          </div>\r\n\r\n                          @for (column of field.columns; track column.id; let colIdx = $index) {\r\n                            <div class=\"grid grid-cols-3 gap-2 mb-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                [(ngModel)]=\"column.id\"\r\n                                class=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                                placeholder=\"ID\"\r\n                              />\r\n                              <input\r\n                                type=\"text\"\r\n                                [(ngModel)]=\"column.label\"\r\n                                class=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                                placeholder=\"Etiqueta\"\r\n                              />\r\n                              <div class=\"flex gap-1\">\r\n                                <select\r\n                                  [(ngModel)]=\"column.type\"\r\n                                  class=\"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                                >\r\n                                  @for (colType of columnFieldTypes(); track colType.id) {\r\n                                    <option [value]=\"colType.typeCode\">{{ colType.typeName }}</option>\r\n                                  }\r\n                                </select>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  (click)=\"removeColumn(field, colIdx)\"\r\n                                  class=\"px-2 text-red-600 hover:text-red-800\"\r\n                                >\r\n                                  <lucide-angular name=\"trash-2\" [size]=\"16\"></lucide-angular>\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          }\r\n                        </div>\r\n                      }\r\n\r\n                      <!-- Texto de ayuda -->\r\n                      <div>\r\n                        <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                          Texto de Ayuda (opcional)\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          [(ngModel)]=\"field.helpText\"\r\n                          class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n                          placeholder=\"Instrucciones para el usuario...\"\r\n                        />\r\n                      </div>\r\n\r\n                      <!-- Vista Previa -->\r\n                      <div class=\"mt-4 p-4 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-950/30 dark:to-blue-950/30 rounded-lg border-2 border-purple-200 dark:border-purple-800\">\r\n                        <div class=\"flex items-center gap-2 mb-3\">\r\n                          <lucide-angular name=\"eye\" [size]=\"16\" class=\"text-purple-600 dark:text-purple-400\"></lucide-angular>\r\n                          <h5 class=\"text-xs font-bold text-purple-900 dark:text-purple-200 uppercase tracking-wide\">Vista Previa</h5>\r\n                        </div>\r\n                        <app-dynamic-field-renderer\r\n                          [schema]=\"{ fields: [field] }\"\r\n                          (dataChange)=\"onPreviewDataChange($event)\"\r\n                        ></app-dynamic-field-renderer>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- Botón eliminar campo -->\r\n                    <button\r\n                      type=\"button\"\r\n                      (click)=\"removeField(idx)\"\r\n                      class=\"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300\"\r\n                    >\r\n                      <lucide-angular name=\"trash-2\" [size]=\"20\"></lucide-angular>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              }\r\n\r\n              @if (fields().length === 0) {\r\n                <div class=\"text-center py-8 text-gray-500 dark:text-gray-400\">\r\n                  \r\n                  <p>No hay campos configurados</p>\r\n                  <p class=\"text-sm\">Haz clic en \"Agregar Campo\" para empezar</p>\r\n                </div>\r\n              }\r\n            </div>\r\n\r\n            <!-- Botón agregar campo -->\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"addField()\"\r\n              class=\"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-blue-500 hover:text-blue-500 dark:hover:border-blue-400 dark:hover:text-blue-400 transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              <lucide-angular name=\"plus\" [size]=\"20\"></lucide-angular>\r\n              Agregar Campo\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Footer -->\r\n          <div class=\"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"handleCancel()\"\r\n              class=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"handleSave()\"\r\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\r\n            >\r\n              <lucide-angular name=\"save\" [size]=\"20\"></lucide-angular>\r\n              Guardar Configuración\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: contents;\r\n    }\r\n  `]\r\n})\r\nexport class FieldConfigDialogComponent {\r\n  private apiSystemConfigService = inject(ApiSystemConfigService);\r\n\r\n  isOpen = input.required<boolean>();\r\n  existingSchema = input<MetadataSchema | null>(null);\r\n\r\n  save = output<MetadataSchema>();\r\n  cancel = output<void>();\r\n\r\n  fields = signal<FieldConfig[]>([]);\r\n  fieldTypes = signal<FieldTypeResource[]>([]);\r\n  columnFieldTypes = signal<FieldTypeResource[]>([]);\r\n\r\n  constructor() {\r\n    // Cargar tipos de campo desde el backend\r\n    this.apiSystemConfigService.getFieldTypesForMainFields().subscribe(types => {\r\n      // Agregar PAYMENT_SCHEDULE si no existe\r\n      const hasPaymentSchedule = types.some(t => t.typeCode === 'payment_schedule');\r\n      if (!hasPaymentSchedule) {\r\n        types.push({\r\n          id: 999,\r\n          typeCode: 'payment_schedule',\r\n          typeName: 'Cronograma de Pagos',\r\n          description: 'Permite dividir un monto en múltiples cuotas con fechas',\r\n          icon: 'calendar-check',\r\n          availableForMainField: true,\r\n          availableForTableColumn: false,\r\n          displayOrder: 100\r\n        });\r\n      }\r\n      this.fieldTypes.set(types);\r\n    });\r\n\r\n    this.apiSystemConfigService.getFieldTypesForTableColumns().subscribe(types => {\r\n      this.columnFieldTypes.set(types);\r\n    });\r\n\r\n    effect(() => {\r\n      const schema = this.existingSchema();\r\n      if (schema && schema.fields) {\r\n        // Normalizar tipos a lowercase para que coincidan con los typeCode del backend\r\n        const normalizedFields = JSON.parse(JSON.stringify(schema.fields)).map((field: FieldConfig) => ({\r\n          ...field,\r\n          type: field.type?.toLowerCase() || 'text',\r\n          columns: field.columns?.map(col => ({\r\n            ...col,\r\n            type: col.type?.toLowerCase() || 'text'\r\n          }))\r\n        }));\r\n        this.fields.set(normalizedFields);\r\n      } else {\r\n        this.fields.set([]);\r\n      }\r\n    });\r\n  }\r\n\r\n  addField() {\r\n    const newField: FieldConfig = {\r\n      id: `field_${Date.now()}`,\r\n      label: 'Nuevo Campo',\r\n      type: 'text',\r\n      required: false,\r\n      displayOrder: this.fields().length\r\n    };\r\n    this.fields.update(fields => [...fields, newField]);\r\n  }\r\n\r\n  removeField(index: number) {\r\n    this.fields.update(fields => fields.filter((_, i) => i !== index));\r\n  }\r\n\r\n  onFieldTypeChange(field: FieldConfig) {\r\n    if (field.type === 'table') {\r\n      if (!field.columns || field.columns.length === 0) {\r\n        field.columns = [\r\n          { id: 'cuota', label: 'Cuota', type: 'auto-number', required: true },\r\n          { id: 'fecha', label: 'Fecha', type: 'date', required: true },\r\n          { id: 'monto', label: 'Monto', type: 'currency', required: true }\r\n        ];\r\n      }\r\n      field.allowAddRow = true;\r\n      field.allowDeleteRow = true;\r\n    }\r\n  }\r\n\r\n  addColumn(field: FieldConfig) {\r\n    if (!field.columns) {\r\n      field.columns = [];\r\n    }\r\n    const newColumn: TableColumn = {\r\n      id: `column_${Date.now()}`,\r\n      label: 'Nueva Columna',\r\n      type: 'text'\r\n    };\r\n    field.columns.push(newColumn);\r\n    this.fields.set([...this.fields()]);\r\n  }\r\n\r\n  removeColumn(field: FieldConfig, columnIndex: number) {\r\n    if (field.columns) {\r\n      field.columns.splice(columnIndex, 1);\r\n      this.fields.set([...this.fields()]);\r\n    }\r\n  }\r\n\r\n  handleSave() {\r\n    const schema: MetadataSchema = {\r\n      fields: this.fields()\r\n    };\r\n    this.save.emit(schema);\r\n  }\r\n\r\n  handleCancel() {\r\n    this.cancel.emit();\r\n  }\r\n\r\n  onPreviewDataChange(_data: any) {\r\n    // No hacemos nada con los datos de la preview, es solo para visualización\r\n  }\r\n}\r\n", "import { Component, EventEmitter, Input, Output, signal, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\nimport { TypificationV2Service } from '../../services/typification-v2.service';\r\nimport {\r\n  TypificationCatalogV2,\r\n  ClassificationTypeV2,\r\n  CreateTypificationCommandV2,\r\n  UpdateTypificationCommandV2,\r\n  AdditionalFieldV2\r\n} from '../../models/typification-v2.model';\r\nimport { FieldConfigDialogComponent } from '../field-config-dialog/field-config-dialog.component';\r\nimport { MetadataSchema, FieldConfig, FieldType } from '../../models/field-config.model';\r\nimport { forkJoin } from 'rxjs';\r\n\r\ninterface ClassificationFormV2 {\r\n  codigo: string;\r\n  nombre: string;\r\n  tipoClasificacion: ClassificationTypeV2 | '';\r\n  descripcion: string;\r\n  ordenVisualizacion: number;\r\n  iconoSugerido: string;\r\n  colorSugerido: string;\r\n  estaActiva: boolean;\r\n  metadataSchema?: MetadataSchema | null;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-typification-form-dialog',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, LucideAngularModule, FieldConfigDialogComponent],\r\n  template: `\r\n    <!-- Backdrop -->\r\n    <div class=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 transition-opacity duration-300\"\r\n         (click)=\"onCancel()\">\r\n\r\n      <!-- Dialog -->\r\n      <div class=\"bg-white dark:bg-slate-900 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-auto transition-all duration-300 transform\"\r\n           (click)=\"$event.stopPropagation()\">\r\n\r\n        <!-- Header -->\r\n        <div class=\"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 text-white px-6 py-4 flex items-center justify-between rounded-t-lg z-10\">\r\n          <div>\r\n            <h2 class=\"text-xl font-bold\">{{ getDialogTitle() }}</h2>\r\n            <p class=\"text-sm text-blue-100 dark:text-blue-200\">\r\n              {{ isEditMode ? 'Modificar tipificación existente' : 'Crear nueva tipificación' }}\r\n            </p>\r\n          </div>\r\n          <button\r\n            (click)=\"onCancel()\"\r\n            class=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\r\n            <lucide-angular name=\"x\" [size]=\"24\"></lucide-angular>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Body -->\r\n        <div class=\"p-6 space-y-6\">\r\n          <!-- Code and Name -->\r\n          <div class=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n                Código <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                [(ngModel)]=\"form.codigo\"\r\n                [disabled]=\"isEditMode\"\r\n                placeholder=\"Ej: CPC, ACP, PPR\"\r\n                maxlength=\"20\"\r\n                class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 disabled:bg-gray-100 dark:disabled:bg-slate-700 disabled:cursor-not-allowed text-sm\"\r\n                [class.border-red-500]=\"errors()['codigo']\"\r\n              />\r\n              @if (errors()['codigo']) {\r\n                <p class=\"text-red-500 text-xs mt-1\">{{ errors()['codigo'] }}</p>\r\n              }\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n                Nombre <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                [(ngModel)]=\"form.nombre\"\r\n                placeholder=\"Ej: Contacto con Cliente, Promesa de Pago\"\r\n                maxlength=\"255\"\r\n                class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm\"\r\n                [class.border-red-500]=\"errors()['nombre']\"\r\n              />\r\n              @if (errors()['nombre']) {\r\n                <p class=\"text-red-500 text-xs mt-1\">{{ errors()['nombre'] }}</p>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Classification Type -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Tipo de Clasificación <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              [(ngModel)]=\"form.tipoClasificacion\"\r\n              [disabled]=\"isEditMode || !!defaultType\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 disabled:bg-gray-100 dark:disabled:bg-slate-700 disabled:cursor-not-allowed text-sm\"\r\n              [class.border-red-500]=\"errors()['tipoClasificacion']\">\r\n              <option value=\"\">-- Seleccionar --</option>\r\n              <option [value]=\"ClassificationTypeV2.RESULTADO_CONTACTO\">Resultado de Contacto</option>\r\n              <option [value]=\"ClassificationTypeV2.TIPO_GESTION\">Tipo de Gestión</option>\r\n              <option [value]=\"ClassificationTypeV2.MODALIDAD_PAGO\">Modalidad de Pago</option>\r\n              <option [value]=\"ClassificationTypeV2.TIPO_FRACCIONAMIENTO\">Tipo de Fraccionamiento</option>\r\n            </select>\r\n            @if (errors()['tipoClasificacion']) {\r\n              <p class=\"text-red-500 text-xs mt-1\">{{ errors()['tipoClasificacion'] }}</p>\r\n            }\r\n          </div>\r\n\r\n          <!-- Description -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Descripción\r\n              <span class=\"text-xs font-normal text-gray-500 dark:text-gray-400 ml-1\">(Opcional)</span>\r\n            </label>\r\n            <textarea\r\n              [(ngModel)]=\"form.descripcion\"\r\n              rows=\"3\"\r\n              placeholder=\"Descripción detallada de la tipificación...\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <!-- Color Selector -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-3\">\r\n              Color de Identificación\r\n              <span class=\"text-xs font-normal text-gray-500 dark:text-gray-400 ml-1\">(Selecciona el color que representará esta tipificación)</span>\r\n            </label>\r\n            <div class=\"space-y-3\">\r\n              <!-- Preset Colors -->\r\n              <div class=\"grid grid-cols-8 gap-2\">\r\n                @for (color of presetColors; track color.hex) {\r\n                  <button\r\n                    type=\"button\"\r\n                    (click)=\"form.colorSugerido = color.hex\"\r\n                    [class]=\"'w-12 h-12 rounded-lg border-2 transition-all hover:scale-110 flex items-center justify-center ' +\r\n                             (form.colorSugerido === color.hex ? 'border-gray-900 dark:border-white ring-2 ring-offset-2 ring-gray-900 dark:ring-white' : 'border-gray-300 dark:border-gray-600')\"\r\n                    [style.background-color]=\"color.hex\"\r\n                    [title]=\"color.name\">\r\n                    @if (form.colorSugerido === color.hex) {\r\n                      <lucide-angular name=\"check-circle\" [size]=\"20\" class=\"text-white drop-shadow-lg\"></lucide-angular>\r\n                    }\r\n                  </button>\r\n                }\r\n              </div>\r\n\r\n              <!-- Custom Color Picker -->\r\n              <div class=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-gray-700\">\r\n                <label class=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">Color personalizado:</label>\r\n                <input\r\n                  type=\"color\"\r\n                  [(ngModel)]=\"form.colorSugerido\"\r\n                  class=\"h-12 w-24 border-2 border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer\"\r\n                />\r\n                <div class=\"flex-1 flex items-center gap-3\">\r\n                  <div\r\n                    class=\"w-10 h-10 rounded-lg border-2 border-gray-300 dark:border-gray-600\"\r\n                    [style.background-color]=\"form.colorSugerido\">\r\n                  </div>\r\n                  <span class=\"text-sm font-mono font-bold text-gray-700 dark:text-gray-300\">{{ form.colorSugerido }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Icon Selector -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-3\">\r\n              Icono Visual\r\n              <span class=\"text-xs font-normal text-gray-500 dark:text-gray-400 ml-1\">({{ commonIcons.length }} iconos disponibles)</span>\r\n            </label>\r\n            <div class=\"space-y-3\">\r\n              <!-- Common Icons - Scrollable Grid -->\r\n              <div class=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-slate-800/50\">\r\n                <div class=\"grid grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-2\">\r\n                  @for (icon of commonIcons; track icon.name) {\r\n                    <button\r\n                      type=\"button\"\r\n                      (click)=\"form.iconoSugerido = icon.name\"\r\n                      [class]=\"'p-2.5 rounded-lg border-2 transition-all hover:bg-gray-100 dark:hover:bg-slate-700 flex items-center justify-center ' +\r\n                               (form.iconoSugerido === icon.name ? 'border-blue-500 bg-blue-50 dark:bg-blue-950/30 ring-2 ring-blue-300' : 'border-gray-300 dark:border-gray-600')\"\r\n                      [title]=\"icon.label\">\r\n                      <lucide-angular [name]=\"icon.name\" [size]=\"18\" class=\"text-gray-700 dark:text-gray-200\"></lucide-angular>\r\n                    </button>\r\n                  }\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Selected Icon Preview -->\r\n              @if (form.iconoSugerido) {\r\n                <div class=\"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg border border-blue-200 dark:border-blue-900\">\r\n                  <lucide-angular [name]=\"form.iconoSugerido\" [size]=\"28\" class=\"text-blue-600 dark:text-blue-400\"></lucide-angular>\r\n                  <span class=\"text-sm font-semibold text-blue-800 dark:text-blue-200\">Icono seleccionado: {{ form.iconoSugerido }}</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    (click)=\"form.iconoSugerido = ''\"\r\n                    class=\"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200\">\r\n                    <lucide-angular name=\"x\" [size]=\"18\"></lucide-angular>\r\n                  </button>\r\n                </div>\r\n              } @else {\r\n                <p class=\"text-xs text-gray-500 dark:text-gray-400\">No has seleccionado ningún icono</p>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Display Order -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Orden de Visualización\r\n              <span class=\"text-xs font-normal text-gray-500 dark:text-gray-400 ml-1\">(Menor número aparece primero)</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              [(ngModel)]=\"form.ordenVisualizacion\"\r\n              min=\"0\"\r\n              step=\"10\"\r\n              placeholder=\"0, 10, 20, 30...\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 text-sm\"\r\n            />\r\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1\">\r\n              <lucide-angular name=\"alert-circle\" [size]=\"12\"></lucide-angular>\r\n              Tip: Usa múltiplos de 10 (10, 20, 30...) para facilitar inserciones futuras\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Is Active -->\r\n          @if (isEditMode) {\r\n            <div class=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-gray-700\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"estaActiva\"\r\n                [(ngModel)]=\"form.estaActiva\"\r\n                class=\"w-5 h-5 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 cursor-pointer\"\r\n              />\r\n              <label for=\"estaActiva\" class=\"text-sm font-bold text-gray-700 dark:text-gray-200 cursor-pointer flex-1\">\r\n                Tipificación Activa\r\n                <span class=\"block text-xs font-normal text-gray-500 dark:text-gray-400 mt-0.5\">Desmarca para desactivar temporalmente esta tipificación</span>\r\n              </label>\r\n            </div>\r\n          }\r\n\r\n          @if (parentClassification) {\r\n            <div class=\"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-900/50 rounded-lg p-4\">\r\n              <div class=\"flex items-center gap-2 text-blue-800 dark:text-blue-200 mb-1\">\r\n                <lucide-angular name=\"git-branch\" [size]=\"16\"></lucide-angular>\r\n                <span class=\"font-bold\">Tipificación Hijo</span>\r\n              </div>\r\n              <p class=\"text-sm text-blue-700 dark:text-blue-300\">\r\n                <span class=\"font-semibold\">Padre:</span> {{ parentClassification.nombre }} <span class=\"text-xs opacity-75\">({{ parentClassification.codigo }})</span>\r\n              </p>\r\n              <p class=\"text-xs text-blue-600 dark:text-blue-400 mt-1\">\r\n                Esta tipificación será nivel {{ parentClassification.nivelJerarquia + 1 }} en la jerarquía\r\n              </p>\r\n            </div>\r\n          }\r\n        </div>\r\n\r\n        <!-- Footer -->\r\n        <div class=\"sticky bottom-0 bg-gray-50 dark:bg-slate-800 px-6 py-4 flex justify-between items-center rounded-b-lg border-t border-gray-200 dark:border-gray-700\">\r\n          <!-- Left side: Configure Fields button -->\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"openFieldConfig()\"\r\n            class=\"px-4 py-2.5 text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-300 dark:border-indigo-800 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 font-semibold transition-colors flex items-center gap-2 text-sm\">\r\n            <lucide-angular name=\"settings\" [size]=\"18\"></lucide-angular>\r\n            Configurar Campos Dinámicos\r\n          </button>\r\n\r\n          <!-- Right side: Cancel and Save buttons -->\r\n          <div class=\"flex gap-3\">\r\n            <button\r\n              (click)=\"onCancel()\"\r\n              class=\"px-6 py-2.5 text-gray-700 dark:text-gray-200 bg-white dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 font-semibold transition-colors flex items-center gap-2 text-sm\">\r\n              <lucide-angular name=\"x\" [size]=\"18\"></lucide-angular>\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              (click)=\"onSave()\"\r\n              [disabled]=\"saving()\"\r\n              class=\"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm\">\r\n              @if (saving()) {\r\n                <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                Guardando...\r\n              } @else {\r\n                <lucide-angular name=\"save\" [size]=\"18\"></lucide-angular>\r\n                Guardar\r\n              }\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Field Config Dialog -->\r\n    @if (showFieldConfig()) {\r\n      <app-field-config-dialog\r\n        [isOpen]=\"showFieldConfig()\"\r\n        [existingSchema]=\"form.metadataSchema || null\"\r\n        (save)=\"onFieldConfigSave($event)\"\r\n        (cancel)=\"onFieldConfigCancel()\"\r\n      />\r\n    }\r\n  `\r\n})\r\nexport class TypificationFormDialogComponent implements OnInit {\r\n  @Input() mode: 'create' | 'edit' = 'create';\r\n  @Input() typification?: TypificationCatalogV2;\r\n  @Input() parentClassification?: TypificationCatalogV2;\r\n  @Input() defaultType?: ClassificationTypeV2;\r\n  @Input() tenantId?: number;\r\n  @Input() portfolioId?: number;\r\n  @Output() save = new EventEmitter<TypificationCatalogV2>();\r\n  @Output() cancel = new EventEmitter<void>();\r\n\r\n  ClassificationTypeV2 = ClassificationTypeV2;\r\n  isEditMode = false;\r\n\r\n  form: ClassificationFormV2 = {\r\n    codigo: '',\r\n    nombre: '',\r\n    tipoClasificacion: '',\r\n    descripcion: '',\r\n    ordenVisualizacion: 0,\r\n    iconoSugerido: '',\r\n    colorSugerido: '#3B82F6',\r\n    estaActiva: true\r\n  };\r\n\r\n  showFieldConfig = signal(false);\r\n\r\n  presetColors = [\r\n    { hex: '#3B82F6', name: 'Azul' },\r\n    { hex: '#10B981', name: 'Verde' },\r\n    { hex: '#EF4444', name: 'Rojo' },\r\n    { hex: '#F59E0B', name: 'Naranja' },\r\n    { hex: '#8B5CF6', name: 'Violeta' },\r\n    { hex: '#EC4899', name: 'Rosa' },\r\n    { hex: '#6366F1', name: 'Índigo' },\r\n    { hex: '#14B8A6', name: 'Turquesa' },\r\n    { hex: '#F97316', name: 'Naranja Oscuro' },\r\n    { hex: '#06B6D4', name: 'Cyan' },\r\n    { hex: '#84CC16', name: 'Lima' },\r\n    { hex: '#A855F7', name: 'Púrpura' },\r\n    { hex: '#64748B', name: 'Gris' },\r\n    { hex: '#0EA5E9', name: 'Azul Cielo' },\r\n    { hex: '#22C55E', name: 'Verde Claro' },\r\n    { hex: '#DC2626', name: 'Rojo Oscuro' }\r\n  ];\r\n\r\n  commonIcons = [\r\n    { name: 'phone', label: 'Teléfono' },\r\n    { name: 'phone-call', label: 'Llamada' },\r\n    { name: 'phone-incoming', label: 'Llamada Entrante' },\r\n    { name: 'phone-outgoing', label: 'Llamada Saliente' },\r\n    { name: 'phone-missed', label: 'Llamada Perdida' },\r\n    { name: 'check-circle', label: 'Éxito' },\r\n    { name: 'x-circle', label: 'Error' },\r\n    { name: 'alert-circle', label: 'Alerta' },\r\n    { name: 'alert-triangle', label: 'Advertencia' },\r\n    { name: 'info', label: 'Información' },\r\n    { name: 'user', label: 'Usuario' },\r\n    { name: 'users', label: 'Usuarios' },\r\n    { name: 'user-check', label: 'Usuario Verificado' },\r\n    { name: 'user-x', label: 'Usuario Rechazado' },\r\n    { name: 'credit-card', label: 'Tarjeta' },\r\n    { name: 'dollar-sign', label: 'Dinero' },\r\n    { name: 'banknote', label: 'Billete' },\r\n    { name: 'coins', label: 'Monedas' },\r\n    { name: 'calendar', label: 'Calendario' },\r\n    { name: 'calendar-check', label: 'Fecha Confirmada' },\r\n    { name: 'calendar-x', label: 'Fecha Cancelada' },\r\n    { name: 'clock', label: 'Reloj' },\r\n    { name: 'timer', label: 'Temporizador' },\r\n    { name: 'mail', label: 'Correo' },\r\n    { name: 'message-square', label: 'Mensaje' },\r\n    { name: 'message-circle', label: 'Chat' },\r\n    { name: 'file-text', label: 'Documento' },\r\n    { name: 'file-check', label: 'Documento Aprobado' },\r\n    { name: 'file-x', label: 'Documento Rechazado' },\r\n    { name: 'building', label: 'Edificio' },\r\n    { name: 'home', label: 'Casa' },\r\n    { name: 'wallet', label: 'Billetera' },\r\n    { name: 'briefcase', label: 'Maletín' },\r\n    { name: 'trending-up', label: 'Tendencia Positiva' },\r\n    { name: 'trending-down', label: 'Tendencia Negativa' },\r\n    { name: 'thumbs-up', label: 'Me gusta' },\r\n    { name: 'thumbs-down', label: 'No me gusta' },\r\n    { name: 'star', label: 'Estrella' },\r\n    { name: 'heart', label: 'Corazón' },\r\n    { name: 'bell', label: 'Campana' },\r\n    { name: 'bell-off', label: 'Silenciar' },\r\n    { name: 'settings', label: 'Configuración' },\r\n    { name: 'shield', label: 'Seguridad' },\r\n    { name: 'shield-check', label: 'Verificado' },\r\n    { name: 'lock', label: 'Bloqueado' },\r\n    { name: 'unlock', label: 'Desbloqueado' },\r\n    { name: 'map-pin', label: 'Ubicación' },\r\n    { name: 'navigation', label: 'Navegación' },\r\n    { name: 'send', label: 'Enviar' },\r\n    { name: 'download', label: 'Descargar' },\r\n    { name: 'upload', label: 'Subir' },\r\n    { name: 'plus-circle', label: 'Agregar' },\r\n    { name: 'minus-circle', label: 'Quitar' },\r\n    { name: 'edit', label: 'Editar' },\r\n    { name: 'trash', label: 'Eliminar' },\r\n    { name: 'archive', label: 'Archivar' },\r\n    { name: 'bookmark', label: 'Marcador' },\r\n    { name: 'tag', label: 'Etiqueta' },\r\n    { name: 'flag', label: 'Bandera' },\r\n    { name: 'zap', label: 'Rayo' },\r\n    { name: 'target', label: 'Objetivo' }\r\n  ];\r\n\r\n  saving = signal(false);\r\n  errors = signal<Record<string, string>>({});\r\n\r\n  constructor(private classificationService: TypificationV2Service) {}\r\n\r\n  ngOnInit() {\r\n    this.isEditMode = this.mode === 'edit';\r\n\r\n    if (this.defaultType) {\r\n      this.form.tipoClasificacion = this.defaultType;\r\n    }\r\n\r\n    if (this.isEditMode && this.typification) {\r\n      this.form = {\r\n        codigo: this.typification.codigo,\r\n        nombre: this.typification.nombre,\r\n        tipoClasificacion: this.typification.tipoClasificacion,\r\n        descripcion: this.typification.descripcion || '',\r\n        ordenVisualizacion: this.typification.ordenVisualizacion || 0,\r\n        iconoSugerido: this.typification.iconoSugerido || '',\r\n        colorSugerido: this.typification.colorSugerido || '#3B82F6',\r\n        estaActiva: this.typification.estaActiva\r\n      };\r\n\r\n      // Cargar campos adicionales existentes\r\n      this.loadExistingFields();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Carga los campos adicionales existentes de la tipificación\r\n   */\r\n  private loadExistingFields() {\r\n    if (!this.typification?.id) return;\r\n\r\n    this.classificationService.getAdditionalFields(this.typification.id).subscribe({\r\n      next: (fields) => {\r\n        if (fields && fields.length > 0) {\r\n          this.form.metadataSchema = this.convertAdditionalFieldsToMetadata(fields);\r\n          console.log('✅ Campos existentes cargados:', fields.length);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.warn('No se pudieron cargar campos existentes:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Convierte AdditionalFieldV2[] a MetadataSchema para el editor\r\n   */\r\n  private convertAdditionalFieldsToMetadata(fields: AdditionalFieldV2[]): MetadataSchema {\r\n    return {\r\n      fields: fields.map(field => ({\r\n        id: field.nombreCampo,\r\n        label: field.labelCampo,\r\n        type: this.mapFieldTypeV2ToFieldType(field.tipoCampo),\r\n        required: field.esRequerido,\r\n        displayOrder: field.ordenVisualizacion,\r\n        min: field.valorMinimo,\r\n        max: field.valorMaximo,\r\n        maxLength: field.longitudMaxima\r\n      }))\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Mapea tipo del backend a FieldType para el editor\r\n   */\r\n  private mapFieldTypeV2ToFieldType(type: string): FieldType {\r\n    const typeStr = String(type).toUpperCase();\r\n    const typeMap: Record<string, FieldType> = {\r\n      'TEXT': 'text',\r\n      'TEXTAREA': 'textarea',\r\n      'NUMBER': 'number',\r\n      'DECIMAL': 'decimal',\r\n      'CURRENCY': 'currency',\r\n      'DATE': 'date',\r\n      'TIME': 'time',\r\n      'DATETIME': 'datetime',\r\n      'CHECKBOX': 'checkbox',\r\n      'SELECT': 'select',\r\n      'CHIP_SELECT': 'select',\r\n      'MULTISELECT': 'multiselect',\r\n      'EMAIL': 'email',\r\n      'PHONE': 'phone',\r\n      'URL': 'url',\r\n      'TABLE': 'table',\r\n      'PAYMENT_SCHEDULE': 'payment_schedule'\r\n    };\r\n    return typeMap[typeStr] || 'text';\r\n  }\r\n\r\n  validate(): boolean {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!this.form.codigo.trim()) {\r\n      newErrors['codigo'] = 'El código es requerido';\r\n    }\r\n\r\n    if (!this.form.nombre.trim()) {\r\n      newErrors['nombre'] = 'El nombre es requerido';\r\n    }\r\n\r\n    if (!this.form.tipoClasificacion) {\r\n      newErrors['tipoClasificacion'] = 'El tipo de clasificación es requerido';\r\n    }\r\n\r\n    this.errors.set(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }\r\n\r\n  onSave() {\r\n    if (!this.validate()) return;\r\n\r\n    this.saving.set(true);\r\n\r\n    if (this.isEditMode && this.typification) {\r\n      this.updateTypification();\r\n    } else {\r\n      this.createTypification();\r\n    }\r\n  }\r\n\r\n  createTypification() {\r\n    const command: CreateTypificationCommandV2 = {\r\n      codigo: this.form.codigo.trim(),\r\n      nombre: this.form.nombre.trim(),\r\n      tipoClasificacion: this.form.tipoClasificacion as ClassificationTypeV2,\r\n      parentTypificationId: this.parentClassification ? this.parentClassification.id : undefined,\r\n      descripcion: this.form.descripcion.trim() || undefined,\r\n      ordenVisualizacion: this.form.ordenVisualizacion,\r\n      iconoSugerido: this.form.iconoSugerido.trim() || undefined,\r\n      colorSugerido: this.form.colorSugerido || undefined\r\n    };\r\n\r\n    this.classificationService.createTypification(command).subscribe({\r\n      next: (created: TypificationCatalogV2) => {\r\n        console.log('✅ Clasificación creada:', created);\r\n\r\n        // Auto-habilitar para el tenant actual\r\n        if (this.tenantId) {\r\n          console.log(`🔄 Auto-habilitando clasificación ${created.id} para tenant ${this.tenantId}`);\r\n          this.classificationService.enableClassification(\r\n            this.tenantId,\r\n            created.id,\r\n            this.portfolioId\r\n          ).subscribe({\r\n            next: () => {\r\n              console.log('✅ Clasificación auto-habilitada para el tenant');\r\n              this.saving.set(false);\r\n              this.save.emit(created);\r\n            },\r\n            error: (error: any) => {\r\n              console.error('⚠️ Error al auto-habilitar (pero la clasificación se creó):', error);\r\n              // Aunque falle el enable, la clasificación se creó exitosamente\r\n              this.saving.set(false);\r\n              this.save.emit(created);\r\n            }\r\n          });\r\n        } else {\r\n          // Si no hay tenantId, solo emitir el evento de guardado\r\n          this.saving.set(false);\r\n          this.save.emit(created);\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error al crear tipificación:', error);\r\n        this.saving.set(false);\r\n        alert('Error al crear la tipificación. Verifique que el código no esté duplicado.');\r\n      }\r\n    });\r\n  }\r\n\r\n  updateTypification() {\r\n    if (!this.typification) return;\r\n\r\n    const command: UpdateTypificationCommandV2 = {\r\n      nombre: this.form.nombre.trim(),\r\n      descripcion: this.form.descripcion.trim() || undefined,\r\n      ordenVisualizacion: this.form.ordenVisualizacion,\r\n      iconoSugerido: this.form.iconoSugerido.trim() || undefined,\r\n      colorSugerido: this.form.colorSugerido || undefined,\r\n      estaActiva: this.form.estaActiva\r\n    };\r\n\r\n    // Actualizar tipificación\r\n    this.classificationService.updateTypification(this.typification.id, command).subscribe({\r\n      next: (updated: TypificationCatalogV2) => {\r\n        // Si hay campos configurados, guardarlos también\r\n        if (this.form.metadataSchema?.fields?.length) {\r\n          const additionalFields = this.convertMetadataToAdditionalFields(this.form.metadataSchema);\r\n          this.classificationService.saveAdditionalFields(this.typification!.id, additionalFields).subscribe({\r\n            next: () => {\r\n              console.log('✅ Campos adicionales guardados');\r\n              this.saving.set(false);\r\n              this.save.emit(updated);\r\n            },\r\n            error: (error: any) => {\r\n              console.error('⚠️ Error al guardar campos adicionales:', error);\r\n              // La tipificación se actualizó pero los campos fallaron\r\n              this.saving.set(false);\r\n              this.save.emit(updated);\r\n            }\r\n          });\r\n        } else {\r\n          this.saving.set(false);\r\n          this.save.emit(updated);\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error al actualizar tipificación:', error);\r\n        this.saving.set(false);\r\n        alert('Error al actualizar la tipificación.');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Convierte MetadataSchema a AdditionalFieldV2[] para el backend\r\n   */\r\n  private convertMetadataToAdditionalFields(schema: MetadataSchema): AdditionalFieldV2[] {\r\n    return schema.fields.map((field, index) => ({\r\n      id: 0, // El backend asignará el ID\r\n      nombreCampo: field.id,\r\n      tipoCampo: this.mapFieldType(field.type),\r\n      labelCampo: field.label,\r\n      esRequerido: field.required || false,\r\n      ordenVisualizacion: field.displayOrder ?? index * 10,\r\n      valorMinimo: field.min,\r\n      valorMaximo: field.max,\r\n      longitudMaxima: field.maxLength\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Mapea tipos de FieldConfig a string para el backend\r\n   */\r\n  private mapFieldType(type: FieldType): string {\r\n    // El backend usa strings en mayúsculas\r\n    return type.toUpperCase().replace('_', '_');\r\n  }\r\n\r\n  onCancel() {\r\n    this.cancel.emit();\r\n  }\r\n\r\n  getDialogTitle(): string {\r\n    if (this.isEditMode) {\r\n      return 'Editar Tipificación';\r\n    }\r\n    if (this.parentClassification) {\r\n      return `Nueva Tipificación - Nivel ${this.parentClassification.nivelJerarquia + 1}`;\r\n    }\r\n    return 'Nueva Tipificación - Nivel 1';\r\n  }\r\n\r\n  openFieldConfig() {\r\n    console.log('🔧 Abriendo configuración de campos dinámicos');\r\n    this.showFieldConfig.set(true);\r\n  }\r\n\r\n  onFieldConfigSave(schema: MetadataSchema) {\r\n    console.log('💾 Guardando configuración de campos:', schema);\r\n    this.form.metadataSchema = schema;\r\n    this.showFieldConfig.set(false);\r\n  }\r\n\r\n  onFieldConfigCancel() {\r\n    console.log('❌ Cancelando configuración de campos');\r\n    this.showFieldConfig.set(false);\r\n  }\r\n}\r\n", "export enum ClassificationType {\r\n  CONTACT_RESULT = 'CONTACT_RESULT',\r\n  MANAGEMENT_TYPE = 'MANAGEMENT_TYPE',\r\n  PAYMENT_TYPE = 'PAYMENT_TYPE',\r\n  COMPLAINT_TYPE = 'COMPLAINT_TYPE',\r\n  PAYMENT_SCHEDULE = 'PAYMENT_SCHEDULE',\r\n  CUSTOM = 'CUSTOM'\r\n}\r\n\r\nexport interface TypificationCatalog {\r\n  id: number;\r\n  code: string;\r\n  name: string;\r\n  classificationType: ClassificationType;\r\n  parentTypificationId?: number;\r\n  hierarchyLevel: number;\r\n  hierarchyPath: string;\r\n  description?: string;\r\n  displayOrder?: number;\r\n  iconName?: string;\r\n  colorHex?: string;\r\n  isSystem: boolean;\r\n  metadataSchema?: string;\r\n  isActive: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  // Campos del tipo de clasificación\r\n  suggestsFullAmount?: boolean | null;\r\n  allowsInstallmentSelection?: boolean | null;\r\n  requiresManualAmount?: boolean | null;\r\n}\r\n\r\nexport interface TenantTypificationConfig {\r\n  id: number;\r\n  tenantId: number;\r\n  portfolioId?: number;\r\n  typificationId: number;\r\n  typification: TypificationCatalog;\r\n  isEnabled: boolean;\r\n  customName?: string;\r\n  customIcon?: string;\r\n  customColor?: string;\r\n  displayOrder?: number;\r\n  requiresComment: boolean;\r\n  minCommentLength?: number;\r\n  maxCommentLength?: number;\r\n  validationRules?: string;\r\n  effectiveName: string;\r\n  effectiveIcon?: string;\r\n  effectiveColor?: string;\r\n}\r\n\r\nexport interface CreateTypificationCommand {\r\n  code: string;\r\n  name: string;\r\n  classificationType: ClassificationType;\r\n  parentTypificationId?: number;\r\n  description?: string;\r\n  displayOrder?: number;\r\n  iconName?: string;\r\n  colorHex?: string;\r\n  isSystem?: boolean;\r\n  metadataSchema?: string;\r\n}\r\n\r\nexport interface UpdateTypificationCommand {\r\n  name?: string;\r\n  description?: string;\r\n  displayOrder?: number;\r\n  iconName?: string;\r\n  colorHex?: string;\r\n  isActive?: boolean;\r\n  metadataSchema?: string;\r\n}\r\n\r\nexport interface UpdateTypificationConfigCommand {\r\n  isEnabled?: boolean;\r\n  customName?: string;\r\n  customIcon?: string;\r\n  customColor?: string;\r\n  displayOrder?: number;\r\n  requiresComment?: boolean;\r\n  minCommentLength?: number;\r\n  maxCommentLength?: number;\r\n  validationRules?: string;\r\n}\r\n\r\nexport interface TypificationTreeNode {\r\n  typification: TypificationCatalog;\r\n  config?: TenantTypificationConfig;\r\n  children: TypificationTreeNode[];\r\n  level: number;\r\n}\r\n\r\nexport enum FieldType {\r\n  DATE = 'DATE',\r\n  NUMBER = 'NUMBER',\r\n  TEXT = 'TEXT',\r\n  TEXTAREA = 'TEXTAREA'\r\n}\r\n\r\nexport interface AdditionalField {\r\n  id: number;\r\n  nombreCampo: string;\r\n  tipoCampo: FieldType;\r\n  labelCampo: string;\r\n  esRequerido: boolean;\r\n  ordenVisualizacion: number;\r\n  valorMinimo?: number;\r\n  valorMaximo?: number;\r\n  longitudMaxima?: number;\r\n}\r\n", "import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\n\r\nexport interface ClassificationTypeCustom {\r\n  id?: number;\r\n  code: string;\r\n  name: string;\r\n  description?: string;\r\n  isActive: boolean;\r\n  isSystem: boolean;\r\n  displayOrder: number;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n  createdBy?: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ClassificationTypeService {\r\n  private readonly baseUrl = `${environment.gatewayUrl}/classification-types`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  /**\r\n   * Obtiene todos los tipos de clasificación activos\r\n   */\r\n  getActiveTypes(): Observable<ClassificationTypeCustom[]> {\r\n    return this.http.get<ClassificationTypeCustom[]>(`${this.baseUrl}/active`);\r\n  }\r\n\r\n  /**\r\n   * Obtiene todos los tipos de clasificación\r\n   */\r\n  getAllTypes(): Observable<ClassificationTypeCustom[]> {\r\n    return this.http.get<ClassificationTypeCustom[]>(`${this.baseUrl}`);\r\n  }\r\n\r\n  /**\r\n   * Obtiene un tipo por ID\r\n   */\r\n  getTypeById(id: number): Observable<ClassificationTypeCustom> {\r\n    return this.http.get<ClassificationTypeCustom>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Obtiene un tipo por código\r\n   */\r\n  getTypeByCode(code: string): Observable<ClassificationTypeCustom> {\r\n    return this.http.get<ClassificationTypeCustom>(`${this.baseUrl}/code/${code}`);\r\n  }\r\n\r\n  /**\r\n   * Crea un nuevo tipo de clasificación\r\n   */\r\n  createType(type: Partial<ClassificationTypeCustom>): Observable<ClassificationTypeCustom> {\r\n    return this.http.post<ClassificationTypeCustom>(`${this.baseUrl}`, type);\r\n  }\r\n\r\n  /**\r\n   * Actualiza un tipo de clasificación\r\n   */\r\n  updateType(id: number, type: Partial<ClassificationTypeCustom>): Observable<ClassificationTypeCustom> {\r\n    return this.http.put<ClassificationTypeCustom>(`${this.baseUrl}/${id}`, type);\r\n  }\r\n\r\n  /**\r\n   * Elimina un tipo de clasificación\r\n   */\r\n  deleteType(id: number): Observable<void> {\r\n    return this.http.delete<void>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Desactiva un tipo de clasificación\r\n   */\r\n  deactivateType(id: number): Observable<ClassificationTypeCustom> {\r\n    return this.http.patch<ClassificationTypeCustom>(`${this.baseUrl}/${id}/deactivate`, {});\r\n  }\r\n}\r\n", "import { Component, EventEmitter, Output, signal, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\nimport { ClassificationType } from '../../models/typification.model';\r\nimport { ClassificationTypeService } from '../../services/classification-type.service';\r\n\r\ninterface CategoryForm {\r\n  code: string;\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\ninterface ClassificationTypeExample {\r\n  type: ClassificationType;\r\n  code: string;\r\n  name: string;\r\n  count: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-category-form-dialog',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, LucideAngularModule],\r\n  template: `\r\n    <!-- Backdrop -->\r\n    <div class=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 transition-opacity duration-300\"\r\n         (click)=\"onCancel()\">\r\n\r\n      <!-- Dialog -->\r\n      <div class=\"bg-white dark:bg-slate-900 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-auto transition-all duration-300 transform\"\r\n           (click)=\"$event.stopPropagation()\">\r\n\r\n        <!-- Header -->\r\n        <div class=\"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 dark:from-purple-700 dark:to-purple-800 text-white px-6 py-4 flex items-center justify-between rounded-t-lg z-10\">\r\n          <div>\r\n            <h2 class=\"text-xl font-bold\">Nueva Categoría de Clasificación</h2>\r\n            <p class=\"text-sm text-purple-100 dark:text-purple-200\">\r\n              Crea un nuevo tipo de clasificación personalizado\r\n            </p>\r\n          </div>\r\n          <button\r\n            (click)=\"onCancel()\"\r\n            class=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\r\n            <lucide-angular name=\"x\" [size]=\"24\"></lucide-angular>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Body -->\r\n        <div class=\"p-6 space-y-6\">\r\n          <!-- Warning Notice -->\r\n          <div class=\"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 p-4 rounded\">\r\n            <div class=\"flex items-start gap-3\">\r\n              <lucide-angular name=\"alert-circle\" [size]=\"20\" class=\"text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5\"></lucide-angular>\r\n              <div class=\"text-sm text-yellow-800 dark:text-yellow-200\">\r\n                <p class=\"font-bold mb-1\">⚠️ Advertencia Importante</p>\r\n                <p>Las categorías son tipos de clasificación a nivel de sistema. Una vez creadas, no se pueden eliminar fácilmente ya que pueden estar siendo usadas por múltiples tipificaciones.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Code -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Código de Categoría <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"form.code\"\r\n              placeholder=\"Ej: CUSTOM_TYPE, NEW_CATEGORY\"\r\n              maxlength=\"50\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 uppercase text-sm font-mono\"\r\n              [class.border-red-500]=\"errors()['code']\"\r\n            />\r\n            @if (errors()['code']) {\r\n              <p class=\"text-red-500 text-xs mt-1\">{{ errors()['code'] }}</p>\r\n            }\r\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1\">\r\n              <lucide-angular name=\"info\" [size]=\"12\"></lucide-angular>\r\n              Usa MAYÚSCULAS y guiones bajos (snake_case). Ejemplo: PAYMENT_METHOD, CALL_RESULT\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Name -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Nombre Descriptivo <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"form.name\"\r\n              placeholder=\"Ej: Método de Pago, Resultado de Llamada\"\r\n              maxlength=\"100\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm\"\r\n              [class.border-red-500]=\"errors()['name']\"\r\n            />\r\n            @if (errors()['name']) {\r\n              <p class=\"text-red-500 text-xs mt-1\">{{ errors()['name'] }}</p>\r\n            }\r\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1\">\r\n              <lucide-angular name=\"info\" [size]=\"12\"></lucide-angular>\r\n              Este será el nombre que verán los usuarios en la interfaz\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Description -->\r\n          <div>\r\n            <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-200 mb-2\">\r\n              Descripción\r\n              <span class=\"text-xs font-normal text-gray-500 dark:text-gray-400 ml-1\">(Opcional)</span>\r\n            </label>\r\n            <textarea\r\n              [(ngModel)]=\"form.description\"\r\n              rows=\"3\"\r\n              placeholder=\"Describe el propósito de esta categoría y cuándo debe ser usada...\"\r\n              class=\"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <!-- Examples - Clasificaciones Existentes -->\r\n          @if (typeExamples().length > 0) {\r\n            <div class=\"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-900/50 rounded-lg p-4\">\r\n              <div class=\"flex items-center gap-2 text-blue-800 dark:text-blue-200 mb-3\">\r\n                <lucide-angular name=\"settings\" [size]=\"16\"></lucide-angular>\r\n                <span class=\"font-bold text-sm\">Tipos de Clasificación en el Sistema:</span>\r\n              </div>\r\n              <div class=\"grid grid-cols-1 gap-2 text-xs\">\r\n                @for (example of typeExamples(); track example.type) {\r\n                  <div class=\"bg-white dark:bg-slate-800 p-3 rounded border\"\r\n                       [class.border-blue-200]=\"example.count > 0\"\r\n                       [class.dark:border-blue-900]=\"example.count > 0\"\r\n                       [class.border-gray-200]=\"example.count === 0\"\r\n                       [class.dark:border-gray-700]=\"example.count === 0\"\r\n                       [class.opacity-60]=\"example.count === 0\">\r\n                    <div class=\"flex items-start justify-between mb-1\">\r\n                      <div class=\"flex-1\">\r\n                        <p class=\"font-mono font-bold mb-1\"\r\n                           [class.text-blue-700]=\"example.count > 0\"\r\n                           [class.dark:text-blue-300]=\"example.count > 0\"\r\n                           [class.text-gray-500]=\"example.count === 0\"\r\n                           [class.dark:text-gray-500]=\"example.count === 0\">\r\n                          {{ example.type }}\r\n                        </p>\r\n                        <p class=\"text-gray-600 dark:text-gray-400 font-medium\">{{ getTypeLabel(example.type) }}</p>\r\n                      </div>\r\n                      <span class=\"px-2 py-1 rounded text-xs font-semibold\"\r\n                            [class.bg-blue-100]=\"example.count > 0\"\r\n                            [class.dark:bg-blue-900/50]=\"example.count > 0\"\r\n                            [class.text-blue-700]=\"example.count > 0\"\r\n                            [class.dark:text-blue-300]=\"example.count > 0\"\r\n                            [class.bg-gray-100]=\"example.count === 0\"\r\n                            [class.dark:bg-gray-700]=\"example.count === 0\"\r\n                            [class.text-gray-500]=\"example.count === 0\"\r\n                            [class.dark:text-gray-400]=\"example.count === 0\">\r\n                        {{ example.count }} {{ example.count === 1 ? 'clasificación' : 'clasificaciones' }}\r\n                      </span>\r\n                    </div>\r\n                    @if (example.count > 0) {\r\n                      <div class=\"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700\">\r\n                        <p class=\"text-gray-500 dark:text-gray-400 text-xs mb-1\">Ejemplo:</p>\r\n                        <div class=\"flex items-center gap-2\">\r\n                          <span class=\"font-mono text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-700 dark:text-gray-300\">{{ example.code }}</span>\r\n                          <span class=\"text-gray-600 dark:text-gray-400\">{{ example.name }}</span>\r\n                        </div>\r\n                      </div>\r\n                    } @else {\r\n                      <div class=\"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700\">\r\n                        <p class=\"text-gray-400 dark:text-gray-500 text-xs italic\">No hay clasificaciones de este tipo aún</p>\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          } @else {\r\n            <div class=\"bg-yellow-50 dark:bg-yellow-950/30 border border-yellow-200 dark:border-yellow-900/50 rounded-lg p-4\">\r\n              <div class=\"flex items-center gap-2 text-yellow-800 dark:text-yellow-200\">\r\n                <lucide-angular name=\"info\" [size]=\"16\"></lucide-angular>\r\n                <span class=\"text-sm\">No hay clasificaciones existentes para mostrar como ejemplo.</span>\r\n              </div>\r\n            </div>\r\n          }\r\n        </div>\r\n\r\n        <!-- Footer -->\r\n        <div class=\"sticky bottom-0 bg-gray-50 dark:bg-slate-800 px-6 py-4 flex justify-end gap-3 rounded-b-lg border-t border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            (click)=\"onCancel()\"\r\n            class=\"px-6 py-2.5 text-gray-700 dark:text-gray-200 bg-white dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 font-semibold transition-colors flex items-center gap-2 text-sm\">\r\n            <lucide-angular name=\"x\" [size]=\"18\"></lucide-angular>\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            (click)=\"onSave()\"\r\n            [disabled]=\"saving()\"\r\n            class=\"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm\">\r\n            @if (saving()) {\r\n              <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              Creando...\r\n            } @else {\r\n              <lucide-angular name=\"save\" [size]=\"18\"></lucide-angular>\r\n              Crear Categoría\r\n            }\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class CategoryFormDialogComponent implements OnInit, OnChanges {\r\n  @Input() typifications: any[] = [];\r\n  @Output() save = new EventEmitter<string>();\r\n  @Output() cancel = new EventEmitter<void>();\r\n\r\n  form: CategoryForm = {\r\n    code: '',\r\n    name: '',\r\n    description: ''\r\n  };\r\n\r\n  saving = signal(false);\r\n  errors = signal<Record<string, string>>({});\r\n  typeExamples = signal<ClassificationTypeExample[]>([]);\r\n\r\n  constructor(private classificationTypeService: ClassificationTypeService) {}\r\n\r\n  ngOnInit() {\r\n    this.buildTypeExamples();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['typifications'] && changes['typifications'].currentValue) {\r\n      this.buildTypeExamples();\r\n    }\r\n  }\r\n\r\n  buildTypeExamples() {\r\n    const typeMap = new Map<ClassificationType, { codes: string[], names: string[], count: number }>();\r\n\r\n    // Inicializar todos los tipos posibles con 0 clasificaciones\r\n    Object.values(ClassificationType).forEach(type => {\r\n      typeMap.set(type, { codes: [], names: [], count: 0 });\r\n    });\r\n\r\n    // Agrupar clasificaciones existentes por tipo\r\n    this.typifications.forEach(typification => {\r\n      const type = typification.classificationType;\r\n      if (typeMap.has(type)) {\r\n        const typeData = typeMap.get(type)!;\r\n        typeData.count++;\r\n        if (typeData.codes.length < 1) { // Guardar solo 1 ejemplo\r\n          typeData.codes.push(typification.code);\r\n          typeData.names.push(typification.name);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Convertir a array de ejemplos (incluir todos los tipos, tengan o no datos)\r\n    const examples: ClassificationTypeExample[] = [];\r\n    typeMap.forEach((data, type) => {\r\n      examples.push({\r\n        type,\r\n        code: data.codes[0] || '-',\r\n        name: data.names[0] || 'Sin ejemplos disponibles',\r\n        count: data.count\r\n      });\r\n    });\r\n\r\n    this.typeExamples.set(examples);\r\n  }\r\n\r\n  getTypeLabel(type: ClassificationType): string {\r\n    const labels: Record<ClassificationType, string> = {\r\n      [ClassificationType.CONTACT_RESULT]: 'Resultado de Contacto',\r\n      [ClassificationType.MANAGEMENT_TYPE]: 'Tipo de Gestión',\r\n      [ClassificationType.PAYMENT_TYPE]: 'Tipo de Pago',\r\n      [ClassificationType.COMPLAINT_TYPE]: 'Tipo de Reclamo',\r\n      [ClassificationType.PAYMENT_SCHEDULE]: 'Cronograma de Pagos',\r\n      [ClassificationType.CUSTOM]: 'Personalizado'\r\n    };\r\n    return labels[type];\r\n  }\r\n\r\n  validate(): boolean {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!this.form.code.trim()) {\r\n      newErrors['code'] = 'El código es requerido';\r\n    } else if (!/^[A-Z_]+$/.test(this.form.code.trim())) {\r\n      newErrors['code'] = 'El código debe contener solo MAYÚSCULAS y guiones bajos';\r\n    }\r\n\r\n    if (!this.form.name.trim()) {\r\n      newErrors['name'] = 'El nombre es requerido';\r\n    }\r\n\r\n    this.errors.set(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }\r\n\r\n  onSave() {\r\n    if (!this.validate()) return;\r\n\r\n    this.saving.set(true);\r\n\r\n    // Crear el tipo de clasificación en el backend\r\n    const newType = {\r\n      code: this.form.code.trim(),\r\n      name: this.form.name.trim(),\r\n      description: this.form.description.trim() || undefined,\r\n      isActive: true,\r\n      isSystem: false,\r\n      displayOrder: 0\r\n    };\r\n\r\n    this.classificationTypeService.createType(newType).subscribe({\r\n      next: (created) => {\r\n        console.log('✅ Tipo de clasificación creado:', created);\r\n        this.saving.set(false);\r\n        this.save.emit(created.code);\r\n      },\r\n      error: (error) => {\r\n        console.error('❌ Error creando tipo de clasificación:', error);\r\n        this.saving.set(false);\r\n\r\n        // Mostrar error al usuario\r\n        const errorMessage = error.error || error.message || 'Error desconocido al crear la categoría';\r\n        alert(`❌ Error al crear la categoría:\\n\\n${errorMessage}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  onCancel() {\r\n    this.cancel.emit();\r\n  }\r\n}\r\n", "import { Component, effect, inject, input, output, signal, computed } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AdditionalFieldV2, CampoOpcionDTO, ConfigurarOpcionesCampoRequest, FieldTypeV2, RestriccionFecha } from '../../models/typification-v2.model';\r\nimport { TypificationV2Service } from '../../services/typification-v2.service';\r\nimport { environment } from '../../../../environments/environment';\r\n\r\ninterface ConfiguracionCabecera {\r\n  codigo: string;\r\n  nombre: string;\r\n  tipoDato: string;\r\n  tipoSql: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-typification-additional-fields-dialog',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, LucideAngularModule],\r\n  template: `\r\n    @if (isOpen()) {\r\n      <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col\">\r\n          <!-- Header -->\r\n          <div class=\"flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-600 to-blue-600\">\r\n            <h2 class=\"text-lg font-bold text-white flex items-center gap-2\">\r\n              <lucide-angular name=\"sliders\" [size]=\"22\" class=\"text-white\"></lucide-angular>\r\n              Configurar Montos - {{ typificationName() }}\r\n            </h2>\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"handleCancel()\"\r\n              class=\"text-white/80 hover:text-white\"\r\n            >\r\n              <lucide-angular name=\"x\" [size]=\"24\"></lucide-angular>\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Body -->\r\n          <div class=\"flex-1 overflow-y-auto p-5 space-y-4\">\r\n            <!-- Selector de Subcartera -->\r\n            @if (portfolioId()) {\r\n              <div class=\"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n                <label class=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2\">\r\n                  <lucide-angular name=\"database\" [size]=\"16\" class=\"text-blue-600\"></lucide-angular>\r\n                  Subcartera\r\n                </label>\r\n\r\n                @if (loadingSubPortfolios()) {\r\n                  <div class=\"flex items-center gap-2 py-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                    <lucide-angular name=\"loader\" [size]=\"16\" class=\"animate-spin\"></lucide-angular>\r\n                    Cargando subcarteras...\r\n                  </div>\r\n                } @else if (subPortfolios().length > 0) {\r\n                  <select\r\n                    [(ngModel)]=\"selectedSubPortfolioId\"\r\n                    (ngModelChange)=\"onSubPortfolioChange($event)\"\r\n                    class=\"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option [ngValue]=\"undefined\">-- Seleccione una subcartera --</option>\r\n                    @for (subPortfolio of subPortfolios(); track subPortfolio.id) {\r\n                      <option [ngValue]=\"subPortfolio.id\">{{ subPortfolio.nombre || subPortfolio.nombreSubcartera }}</option>\r\n                    }\r\n                  </select>\r\n                } @else {\r\n                  <p class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    No hay subcarteras disponibles\r\n                  </p>\r\n                }\r\n              </div>\r\n            }\r\n\r\n            <!-- Lista de Opciones con Toggles -->\r\n            @if (selectedSubPortfolioId()) {\r\n              <div class=\"space-y-3\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <h3 class=\"text-base font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                    <lucide-angular name=\"list-checks\" [size]=\"18\" class=\"text-green-600\"></lucide-angular>\r\n                    Montos disponibles para el agente\r\n                  </h3>\r\n                  @if (opciones().length > 0) {\r\n                    <span class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      {{ getOpcionesHabilitadasCount() }}/{{ opciones().length }} habilitados\r\n                    </span>\r\n                  }\r\n                </div>\r\n\r\n                @if (loadingOpciones()) {\r\n                  <div class=\"flex flex-col items-center justify-center py-12 text-gray-500\">\r\n                    <lucide-angular name=\"loader\" [size]=\"40\" class=\"animate-spin text-blue-600 mb-3\"></lucide-angular>\r\n                    <p class=\"text-sm\">Cargando montos disponibles...</p>\r\n                  </div>\r\n                } @else if (opcionesConNombres().length > 0) {\r\n                  <div class=\"space-y-2 max-h-[400px] overflow-y-auto pr-2\">\r\n                    @for (opcion of opcionesConNombres(); track opcion.codigoOpcion) {\r\n                      <div\r\n                        class=\"p-3 rounded-lg border transition-all\"\r\n                        [class.bg-green-50]=\"opcion.estaHabilitada\"\r\n                        [class.dark:bg-green-900/20]=\"opcion.estaHabilitada\"\r\n                        [class.border-green-300]=\"opcion.estaHabilitada\"\r\n                        [class.dark:border-green-700]=\"opcion.estaHabilitada\"\r\n                        [class.bg-gray-50]=\"!opcion.estaHabilitada\"\r\n                        [class.dark:bg-gray-700/50]=\"!opcion.estaHabilitada\"\r\n                        [class.border-gray-200]=\"!opcion.estaHabilitada\"\r\n                        [class.dark:border-gray-600]=\"!opcion.estaHabilitada\"\r\n                      >\r\n                        <!-- Row 1: Toggle + Label + Badge -->\r\n                        <div class=\"flex items-center justify-between cursor-pointer\" (click)=\"toggleOpcionOriginal(opcion)\">\r\n                          <div class=\"flex items-center gap-3 flex-1\">\r\n                            <!-- Toggle Switch -->\r\n                            <label class=\"relative inline-flex items-center cursor-pointer\" (click)=\"$event.stopPropagation()\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                [checked]=\"opcion.estaHabilitada\"\r\n                                (change)=\"toggleOpcionOriginal(opcion)\"\r\n                                class=\"sr-only peer\"\r\n                              >\r\n                              <div class=\"w-10 h-5 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-500\"></div>\r\n                            </label>\r\n\r\n                            <!-- Label -->\r\n                            <div class=\"flex-1\">\r\n                              <span class=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                                {{ opcion.visualName }}\r\n                              </span>\r\n                              @if (opcion.codigoOpcion !== 'personalizado') {\r\n                                <span class=\"ml-2 text-xs text-gray-500 dark:text-gray-400\">\r\n                                  ({{ opcion.campoTablaDinamica }})\r\n                                </span>\r\n                              }\r\n                            </div>\r\n\r\n                            <!-- Badge -->\r\n                            @if (opcion.codigoOpcion === 'personalizado') {\r\n                              <span class=\"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 text-xs font-semibold rounded-full\">\r\n                                Manual\r\n                              </span>\r\n                            }\r\n                          </div>\r\n\r\n                          <!-- Status Icon -->\r\n                          <div class=\"ml-2\">\r\n                            @if (opcion.estaHabilitada) {\r\n                              <lucide-angular name=\"check-circle\" [size]=\"20\" class=\"text-green-600\"></lucide-angular>\r\n                            } @else {\r\n                              <lucide-angular name=\"circle\" [size]=\"20\" class=\"text-gray-300 dark:text-gray-500\"></lucide-angular>\r\n                            }\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- Row 2: Restricción de Fecha y Genera Carta (solo si está habilitada) -->\r\n                        @if (opcion.estaHabilitada) {\r\n                          <div class=\"mt-2 pt-2 border-t border-green-200 dark:border-green-800 space-y-2\" (click)=\"$event.stopPropagation()\">\r\n                            <!-- Restricción de fecha -->\r\n                            <div class=\"flex items-center gap-2\">\r\n                              <lucide-angular name=\"calendar\" [size]=\"14\" class=\"text-blue-600\"></lucide-angular>\r\n                              <span class=\"text-xs font-medium text-gray-700 dark:text-gray-300\">Restricción de fecha:</span>\r\n                              <select\r\n                                [ngModel]=\"opcion.restriccionFecha || 'SIN_RESTRICCION'\"\r\n                                (ngModelChange)=\"onRestriccionFechaChange(opcion.codigoOpcion, $event)\"\r\n                                class=\"flex-1 px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500\"\r\n                              >\r\n                                <option value=\"SIN_RESTRICCION\">Sin restricción (cualquier fecha)</option>\r\n                                <option value=\"DENTRO_MES\">Solo dentro del mes actual</option>\r\n                                <option value=\"FUERA_MES\">Solo fuera del mes (próximo mes+)</option>\r\n                              </select>\r\n                            </div>\r\n                            <!-- Genera Carta de Acuerdo -->\r\n                            <div class=\"flex items-center gap-2\">\r\n                              <lucide-angular name=\"file-text\" [size]=\"14\" class=\"text-purple-600\"></lucide-angular>\r\n                              <span class=\"text-xs font-medium text-gray-700 dark:text-gray-300\">Genera Carta de Acuerdo:</span>\r\n                              <label class=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  [checked]=\"opcion.generaCartaAcuerdo\"\r\n                                  (change)=\"onGeneraCartaChange(opcion.codigoOpcion, $event)\"\r\n                                  class=\"sr-only peer\"\r\n                                >\r\n                                <div class=\"w-9 h-5 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-300 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-500\"></div>\r\n                              </label>\r\n                              <span class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                {{ opcion.generaCartaAcuerdo ? 'Sí' : 'No' }}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                } @else if (errorMessage()) {\r\n                  <div class=\"text-center py-8 text-red-500 dark:text-red-400\">\r\n                    <lucide-angular name=\"alert-circle\" [size]=\"40\" class=\"mx-auto mb-3\"></lucide-angular>\r\n                    <p class=\"text-sm\">{{ errorMessage() }}</p>\r\n                    <button\r\n                      (click)=\"retryLoadOpciones()\"\r\n                      class=\"mt-3 px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm hover:bg-red-200\"\r\n                    >\r\n                      Reintentar\r\n                    </button>\r\n                  </div>\r\n                } @else {\r\n                  <div class=\"text-center py-8 text-yellow-600 dark:text-yellow-400\">\r\n                    <lucide-angular name=\"inbox\" [size]=\"40\" class=\"mx-auto mb-3 opacity-60\"></lucide-angular>\r\n                    <p class=\"text-sm\">No se encontraron campos numéricos en esta subcartera</p>\r\n                  </div>\r\n                }\r\n              </div>\r\n            } @else {\r\n              <!-- Estado inicial: seleccionar subcartera -->\r\n              <div class=\"text-center py-12 text-gray-400 dark:text-gray-500\">\r\n                <lucide-angular name=\"pointer\" [size]=\"48\" class=\"mx-auto mb-4 opacity-50\"></lucide-angular>\r\n                <p class=\"text-sm\">Seleccione una subcartera para ver los montos disponibles</p>\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n          <!-- Footer -->\r\n          <div class=\"flex justify-between items-center gap-3 p-5 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\r\n            <div class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n              @if (opciones().length > 0) {\r\n                <lucide-angular name=\"info\" [size]=\"14\" class=\"inline mr-1\"></lucide-angular>\r\n                Los montos habilitados aparecerán como opciones para el agente\r\n              }\r\n            </div>\r\n            <div class=\"flex gap-3\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"handleCancel()\"\r\n                class=\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"handleSave()\"\r\n                [disabled]=\"!canSave()\"\r\n                class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm font-medium\"\r\n              >\r\n                <lucide-angular name=\"save\" [size]=\"18\"></lucide-angular>\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n  `\r\n})\r\nexport class TypificationAdditionalFieldsDialogComponent {\r\n  isOpen = input.required<boolean>();\r\n  typificationName = input<string>('');\r\n  typificationId = input.required<number>();\r\n  tenantId = input.required<number>();\r\n  portfolioId = input<number | undefined>(undefined);\r\n  subPortfolioId = input<number | undefined>(undefined);\r\n\r\n  close = output<void>();\r\n  save = output<void>();\r\n\r\n  opciones = signal<CampoOpcionDTO[]>([]);\r\n  loadingOpciones = signal<boolean>(false);\r\n  errorMessage = signal<string>('');\r\n  subPortfolios = signal<any[]>([]);\r\n  loadingSubPortfolios = signal<boolean>(false);\r\n  selectedSubPortfolioId = signal<number | undefined>(undefined);\r\n  paymentScheduleFieldId = signal<number | null>(null);\r\n\r\n  // Cabeceras para nombres visuales\r\n  cabeceras = signal<ConfiguracionCabecera[]>([]);\r\n  private cabecerasUrl = `${environment.apiUrl}/configuracion-cabeceras`;\r\n\r\n  // Computed: opciones con nombres visuales traducidos\r\n  opcionesConNombres = computed(() => {\r\n    const opciones = this.opciones();\r\n    const cabeceras = this.cabeceras();\r\n\r\n    // Crear mapa de código -> nombre visual\r\n    const codigoToNombre = new Map<string, string>();\r\n    for (const c of cabeceras) {\r\n      codigoToNombre.set(c.codigo.toLowerCase(), c.nombre);\r\n    }\r\n\r\n    // Devolver opciones con nombre visual\r\n    return opciones.map(opcion => {\r\n      let visualName = opcion.labelOpcion || opcion.codigoOpcion;\r\n\r\n      if (opcion.codigoOpcion === 'personalizado') {\r\n        visualName = 'Personalizado';\r\n      } else if (opcion.campoTablaDinamica) {\r\n        const nombre = codigoToNombre.get(opcion.campoTablaDinamica.toLowerCase());\r\n        if (nombre) {\r\n          visualName = nombre;\r\n        }\r\n      }\r\n\r\n      return { ...opcion, visualName };\r\n    });\r\n  });\r\n\r\n  private typificationService = inject(TypificationV2Service);\r\n  private http = inject(HttpClient);\r\n\r\n  constructor() {\r\n    effect(() => {\r\n      if (this.isOpen()) {\r\n        this.resetState();\r\n        this.loadSubPortfolios();\r\n        this.loadPaymentScheduleField();\r\n      }\r\n    });\r\n  }\r\n\r\n  private resetState() {\r\n    this.opciones.set([]);\r\n    this.cabeceras.set([]);\r\n    this.errorMessage.set('');\r\n    this.selectedSubPortfolioId.set(undefined);\r\n    this.paymentScheduleFieldId.set(null);\r\n  }\r\n\r\n  private loadPaymentScheduleField() {\r\n    const typificationId = this.typificationId();\r\n    if (!typificationId) return;\r\n\r\n    this.typificationService.getAdditionalFields(typificationId).subscribe({\r\n      next: (fields) => {\r\n        // Find PAYMENT_SCHEDULE field\r\n        const paymentField = fields.find(f => f.tipoCampo === FieldTypeV2.PAYMENT_SCHEDULE);\r\n        if (paymentField) {\r\n          this.paymentScheduleFieldId.set(paymentField.id);\r\n          console.log('Found PAYMENT_SCHEDULE field:', paymentField.id);\r\n        } else {\r\n          console.warn('No PAYMENT_SCHEDULE field found for typification', typificationId);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading fields:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadSubPortfolios() {\r\n    const portfolioId = this.portfolioId();\r\n    if (!portfolioId) return;\r\n\r\n    this.loadingSubPortfolios.set(true);\r\n\r\n    this.typificationService.getSubPortfoliosByPortfolio(portfolioId)\r\n      .subscribe({\r\n        next: (subPortfolios) => {\r\n          this.subPortfolios.set(subPortfolios);\r\n          this.loadingSubPortfolios.set(false);\r\n\r\n          // Auto-select if only one subportfolio\r\n          if (subPortfolios.length === 1) {\r\n            this.selectedSubPortfolioId.set(subPortfolios[0].id);\r\n            this.loadCabeceras(subPortfolios[0].id);\r\n            this.loadOpcionesAutomatically();\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading subportfolios:', error);\r\n          this.subPortfolios.set([]);\r\n          this.loadingSubPortfolios.set(false);\r\n        }\r\n      });\r\n  }\r\n\r\n  onSubPortfolioChange(subPortfolioId: number) {\r\n    this.selectedSubPortfolioId.set(subPortfolioId);\r\n    this.opciones.set([]);\r\n    this.cabeceras.set([]);\r\n    this.errorMessage.set('');\r\n\r\n    if (subPortfolioId) {\r\n      this.loadCabeceras(subPortfolioId);\r\n      this.loadOpcionesAutomatically();\r\n    }\r\n  }\r\n\r\n  private loadCabeceras(subPortfolioId: number) {\r\n    this.http.get<ConfiguracionCabecera[]>(`${this.cabecerasUrl}/subcartera/${subPortfolioId}/montos`)\r\n      .subscribe({\r\n        next: (cabeceras) => {\r\n          this.cabeceras.set(cabeceras);\r\n          console.log('[DIALOG] Loaded cabeceras:', cabeceras.length);\r\n        },\r\n        error: (error) => {\r\n          console.warn('[DIALOG] Error loading cabeceras:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  private loadOpcionesAutomatically() {\r\n    const tenantId = this.tenantId();\r\n    const portfolioId = this.portfolioId();\r\n    const subPortfolioId = this.selectedSubPortfolioId();\r\n    const campoId = this.paymentScheduleFieldId();\r\n\r\n    if (!tenantId || !portfolioId || !subPortfolioId) {\r\n      return;\r\n    }\r\n\r\n    // Wait for field ID if not loaded yet\r\n    if (!campoId) {\r\n      setTimeout(() => this.loadOpcionesAutomatically(), 500);\r\n      return;\r\n    }\r\n\r\n    this.loadingOpciones.set(true);\r\n    this.errorMessage.set('');\r\n\r\n    // First try to get existing options\r\n    this.typificationService.getOpcionesCampo(campoId).subscribe({\r\n      next: (opciones) => {\r\n        if (opciones && opciones.length > 0) {\r\n          this.opciones.set(opciones);\r\n          this.loadingOpciones.set(false);\r\n        } else {\r\n          // Initialize options from subportfolio\r\n          this.initializeOpciones(campoId, tenantId, portfolioId, subPortfolioId);\r\n        }\r\n      },\r\n      error: () => {\r\n        // Initialize options from subportfolio\r\n        this.initializeOpciones(campoId, tenantId, portfolioId, subPortfolioId);\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeOpciones(campoId: number, tenantId: number, portfolioId: number, subPortfolioId: number) {\r\n    this.typificationService.inicializarOpcionesCampo(campoId, tenantId, portfolioId, subPortfolioId)\r\n      .subscribe({\r\n        next: (opciones) => {\r\n          this.opciones.set(opciones);\r\n          this.loadingOpciones.set(false);\r\n        },\r\n        error: (error) => {\r\n          console.error('Error initializing options:', error);\r\n          this.errorMessage.set('Error al cargar las opciones. Verifique la configuración de la subcartera.');\r\n          this.loadingOpciones.set(false);\r\n        }\r\n      });\r\n  }\r\n\r\n  retryLoadOpciones() {\r\n    this.loadOpcionesAutomatically();\r\n  }\r\n\r\n  toggleOpcionOriginal(opcionConNombre: CampoOpcionDTO & { visualName: string }) {\r\n    // Buscar la opción original en el signal y modificarla\r\n    const opciones = this.opciones();\r\n    const opcionOriginal = opciones.find(o => o.codigoOpcion === opcionConNombre.codigoOpcion);\r\n    if (opcionOriginal) {\r\n      opcionOriginal.estaHabilitada = !opcionOriginal.estaHabilitada;\r\n      // Si se habilita y no tiene restricción, poner por defecto SIN_RESTRICCION\r\n      if (opcionOriginal.estaHabilitada && !opcionOriginal.restriccionFecha) {\r\n        opcionOriginal.restriccionFecha = RestriccionFecha.SIN_RESTRICCION;\r\n      }\r\n      // Forzar actualización del signal\r\n      this.opciones.set([...opciones]);\r\n    }\r\n  }\r\n\r\n  onRestriccionFechaChange(codigoOpcion: string, restriccion: string) {\r\n    const opciones = this.opciones();\r\n    const opcion = opciones.find(o => o.codigoOpcion === codigoOpcion);\r\n    if (opcion) {\r\n      opcion.restriccionFecha = restriccion as RestriccionFecha;\r\n      // Forzar actualización del signal\r\n      this.opciones.set([...opciones]);\r\n    }\r\n  }\r\n\r\n  onGeneraCartaChange(codigoOpcion: string, event: Event) {\r\n    const checkbox = event.target as HTMLInputElement;\r\n    const opciones = this.opciones();\r\n    const opcion = opciones.find(o => o.codigoOpcion === codigoOpcion);\r\n    if (opcion) {\r\n      opcion.generaCartaAcuerdo = checkbox.checked;\r\n      // Forzar actualización del signal\r\n      this.opciones.set([...opciones]);\r\n    }\r\n  }\r\n\r\n  getOpcionesHabilitadasCount(): number {\r\n    return this.opciones().filter(o => o.estaHabilitada).length;\r\n  }\r\n\r\n  canSave(): boolean {\r\n    return this.selectedSubPortfolioId() !== undefined &&\r\n           this.paymentScheduleFieldId() !== null &&\r\n           this.opciones().length > 0 &&\r\n           !this.loadingOpciones();\r\n  }\r\n\r\n  handleCancel() {\r\n    this.close.emit();\r\n  }\r\n\r\n  handleSave() {\r\n    const campoId = this.paymentScheduleFieldId();\r\n    const opcionesActuales = this.opciones();\r\n\r\n    if (!campoId || opcionesActuales.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const request: ConfigurarOpcionesCampoRequest = {\r\n      idCampo: campoId,\r\n      opciones: opcionesActuales.map(o => ({\r\n        codigoOpcion: o.codigoOpcion,\r\n        estaHabilitada: o.estaHabilitada,\r\n        ordenVisualizacion: o.ordenVisualizacion,\r\n        restriccionFecha: o.restriccionFecha || RestriccionFecha.SIN_RESTRICCION,\r\n        generaCartaAcuerdo: o.generaCartaAcuerdo || false\r\n      }))\r\n    };\r\n\r\n    this.typificationService.configurarOpciones(request).subscribe({\r\n      next: (opcionesActualizadas) => {\r\n        console.log('Options saved successfully:', opcionesActualizadas.length);\r\n        this.opciones.set(opcionesActualizadas);\r\n        this.save.emit();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error saving options:', error);\r\n        this.errorMessage.set('Error al guardar la configuración');\r\n      }\r\n    });\r\n  }\r\n}\r\n", "import { Component, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\nimport { TypificationV2Service } from '../../services/typification-v2.service';\r\nimport { ThemeService } from '../../../shared/services/theme.service';\r\nimport {\r\n  TypificationCatalogV2,\r\n  TenantTypificationConfigV2,\r\n  ClassificationTypeV2,\r\n  TypificationTreeNodeV2\r\n} from '../../models/typification-v2.model';\r\nimport { Portfolio } from '../../models/portfolio.model';\r\nimport { Tenant } from '../../models/tenant.model';\r\nimport { TypificationFormDialogComponent } from '../typification-form-dialog/typification-form-dialog.component';\r\nimport { CategoryFormDialogComponent } from '../category-form-dialog/category-form-dialog.component';\r\nimport { TypificationAdditionalFieldsDialogComponent } from '../typification-additional-fields-dialog/typification-additional-fields-dialog.component';\r\nimport { AdditionalFieldV2 } from '../../models/typification-v2.model';\r\n\r\n@Component({\r\n  selector: 'app-typification-maintenance',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, LucideAngularModule, TypificationFormDialogComponent, CategoryFormDialogComponent, TypificationAdditionalFieldsDialogComponent],\r\n  templateUrl: './typification-maintenance.component.html',\r\n  styleUrls: ['./typification-maintenance.component.scss']\r\n})\r\nexport class TypificationMaintenanceComponent implements OnInit {\r\n  selectedTenantId?: number;\r\n  selectedPortfolioId?: number;\r\n  selectedType?: ClassificationTypeV2;\r\n\r\n  loading = signal(false);\r\n  showSuccess = signal(false);\r\n  showClassificationDialog = signal(false);\r\n  showCategoryDialog = signal(false);\r\n  showAdditionalFieldsDialog = signal(false);\r\n  classificationDialogMode = signal<'create' | 'edit'>('create');\r\n  selectedClassificationForEdit = signal<TypificationCatalogV2 | undefined>(undefined);\r\n  selectedTypificationForFields = signal<TypificationCatalogV2 | undefined>(undefined);\r\n  additionalFieldsForEdit = signal<AdditionalFieldV2[]>([]);\r\n  parentClassificationForCreate = signal<TypificationCatalogV2 | undefined>(undefined);\r\n\r\n  classificationTypes = Object.values(ClassificationTypeV2);\r\n  typifications: TypificationCatalogV2[] = [];\r\n  tenantConfigs: TenantTypificationConfigV2[] = [];\r\n  treeNodes: TypificationTreeNodeV2[] = [];\r\n  expandedNodes = new Set<number>();\r\n  tenants: Tenant[] = [];\r\n  portfolios: Portfolio[] = [];\r\n\r\n  // Inline editing state\r\n  editingNodeId = signal<number | null>(null);\r\n  editingForm = signal<{\r\n    nombrePersonalizado: string;\r\n    descripcionPersonalizada: string;\r\n    colorPersonalizado: string;\r\n    iconoPersonalizado: string;\r\n    ordenVisualizacionPersonalizado: number;\r\n  } | null>(null);\r\n  savingEdit = signal(false);\r\n\r\n  presetColors = [\r\n    { hex: '#3B82F6', name: 'Azul' },\r\n    { hex: '#10B981', name: 'Verde' },\r\n    { hex: '#EF4444', name: 'Rojo' },\r\n    { hex: '#F59E0B', name: 'Naranja' },\r\n    { hex: '#8B5CF6', name: 'Violeta' },\r\n    { hex: '#EC4899', name: 'Rosa' },\r\n    { hex: '#6366F1', name: 'Índigo' },\r\n    { hex: '#14B8A6', name: 'Turquesa' }\r\n  ];\r\n\r\n  commonIcons = [\r\n    'phone', 'phone-call', 'check-circle', 'x-circle', 'alert-circle',\r\n    'user', 'users', 'credit-card', 'dollar-sign', 'calendar',\r\n    'clock', 'mail', 'message-square', 'file-text', 'building', 'wallet'\r\n  ];\r\n\r\n  constructor(\r\n    private classificationService: TypificationV2Service,\r\n    public themeService: ThemeService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loadTenants();\r\n  }\r\n\r\n  loadTenants() {\r\n    this.classificationService.getAllTenants().subscribe({\r\n      next: (data) => {\r\n        this.tenants = data;\r\n        if (data.length > 0) {\r\n          this.selectedTenantId = data[0].id;\r\n          this.onTenantChange();\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading tenants:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  onTenantChange() {\r\n    this.selectedPortfolioId = undefined;\r\n    this.portfolios = [];\r\n    this.typifications = [];\r\n    this.treeNodes = [];\r\n\r\n    if (this.selectedTenantId) {\r\n      this.loadPortfolios();\r\n      this.loadTypifications();\r\n    }\r\n  }\r\n\r\n  loadPortfolios() {\r\n    if (!this.selectedTenantId) return;\r\n\r\n    this.classificationService.getPortfoliosByTenant(this.selectedTenantId).subscribe({\r\n      next: (data) => {\r\n        this.portfolios = data;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading portfolios:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadTypifications() {\r\n    if (!this.selectedTenantId) return;\r\n\r\n    this.loading.set(true);\r\n\r\n    // Load ALL tenant configurations (including disabled) for maintenance view\r\n    const request$ = this.selectedType\r\n      ? this.classificationService.getTenantClassificationsByType(\r\n          this.selectedTenantId,\r\n          this.selectedType,\r\n          this.selectedPortfolioId\r\n        )\r\n      : this.classificationService.getTenantClassifications(\r\n          this.selectedTenantId,\r\n          this.selectedPortfolioId,\r\n          true // includeDisabled = true for maintenance view\r\n        );\r\n\r\n    request$.subscribe({\r\n      next: (configs) => {\r\n        this.tenantConfigs = configs;\r\n        // Extract typifications from tenant configs\r\n        this.typifications = configs.map(config => config.tipificacion);\r\n        this.buildTree();\r\n        this.loading.set(false);\r\n      },\r\n      error: (error) => {\r\n        this.loading.set(false);\r\n        console.error('Error loading typifications:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadTenantConfigs() {\r\n    // This method is now redundant, keeping for backward compatibility\r\n    // but it's no longer called\r\n    if (!this.selectedTenantId) return;\r\n\r\n    const request$ = this.selectedType\r\n      ? this.classificationService.getTenantClassificationsByType(\r\n          this.selectedTenantId,\r\n          this.selectedType,\r\n          this.selectedPortfolioId\r\n        )\r\n      : this.classificationService.getTenantClassifications(\r\n          this.selectedTenantId,\r\n          this.selectedPortfolioId\r\n        );\r\n\r\n    request$.subscribe({\r\n      next: (configs) => {\r\n        this.tenantConfigs = configs;\r\n        this.buildTree();\r\n        this.loading.set(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading tenant configs:', error);\r\n        this.buildTree();\r\n        this.loading.set(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  buildTree() {\r\n    const configMap = new Map<number, TenantTypificationConfigV2>();\r\n    this.tenantConfigs.forEach(config => {\r\n      configMap.set(config.tipificacion.id, config);\r\n    });\r\n\r\n    const nodeMap = new Map<number, TypificationTreeNodeV2>();\r\n\r\n    this.typifications.forEach(typification => {\r\n      const node: TypificationTreeNodeV2 = {\r\n        typification,\r\n        config: configMap.get(typification.id),\r\n        children: [],\r\n        level: typification.nivelJerarquia\r\n      };\r\n      nodeMap.set(typification.id, node);\r\n    });\r\n\r\n    const roots: TypificationTreeNodeV2[] = [];\r\n\r\n    this.typifications.forEach(typification => {\r\n      const node = nodeMap.get(typification.id)!;\r\n      // Usar parentTypificationId si está disponible, sino tipificacionPadre?.id\r\n      const parentId = typification.parentTypificationId || typification.tipificacionPadre?.id;\r\n      if (parentId) {\r\n        const parent = nodeMap.get(parentId);\r\n        if (parent) {\r\n          parent.children.push(node);\r\n        } else {\r\n          // Si no encuentra el padre, lo agrega como raíz (fallback)\r\n          roots.push(node);\r\n        }\r\n      } else {\r\n        roots.push(node);\r\n      }\r\n    });\r\n\r\n    const sortNodes = (nodes: TypificationTreeNodeV2[]) => {\r\n      nodes.sort((a, b) => {\r\n        const orderA = a.typification.ordenVisualizacion || 0;\r\n        const orderB = b.typification.ordenVisualizacion || 0;\r\n        return orderA - orderB;\r\n      });\r\n      nodes.forEach(node => {\r\n        if (node.children.length > 0) {\r\n          sortNodes(node.children);\r\n        }\r\n      });\r\n    };\r\n\r\n    sortNodes(roots);\r\n    this.treeNodes = roots;\r\n    this.expandAll();\r\n  }\r\n\r\n  toggleNode(nodeId: number) {\r\n    if (this.expandedNodes.has(nodeId)) {\r\n      this.expandedNodes.delete(nodeId);\r\n    } else {\r\n      this.expandedNodes.add(nodeId);\r\n    }\r\n  }\r\n\r\n  isExpanded(nodeId: number): boolean {\r\n    return this.expandedNodes.has(nodeId);\r\n  }\r\n\r\n  expandAll() {\r\n    this.typifications.forEach(c => this.expandedNodes.add(c.id));\r\n  }\r\n\r\n  collapseAll() {\r\n    this.expandedNodes.clear();\r\n  }\r\n\r\n  onTypeChange() {\r\n    this.loadTypifications();\r\n  }\r\n\r\n  onPortfolioChange() {\r\n    this.loadTypifications();\r\n  }\r\n\r\n  toggleTypification(node: TypificationTreeNodeV2, event: Event) {\r\n    if (!this.selectedTenantId) return;\r\n\r\n    const target = event.target as HTMLInputElement;\r\n    const enabled = target.checked;\r\n\r\n    const action$ = enabled\r\n      ? this.classificationService.enableClassification(\r\n          this.selectedTenantId,\r\n          node.typification.id,\r\n          this.selectedPortfolioId\r\n        )\r\n      : this.classificationService.disableClassification(\r\n          this.selectedTenantId,\r\n          node.typification.id,\r\n          this.selectedPortfolioId\r\n        );\r\n\r\n    action$.subscribe({\r\n      next: () => {\r\n        this.showSuccessMessage();\r\n        this.loadTypifications();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error toggling typification:', error);\r\n        target.checked = !enabled;\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleDarkMode() {\r\n    this.themeService.toggleTheme();\r\n  }\r\n\r\n  // Classification dialog methods\r\n  openCreateRootDialog() {\r\n    this.classificationDialogMode.set('create');\r\n    this.selectedClassificationForEdit.set(undefined);\r\n    this.parentClassificationForCreate.set(undefined);\r\n    this.showClassificationDialog.set(true);\r\n  }\r\n\r\n  openCreateChildDialog(parent: TypificationCatalogV2) {\r\n    this.classificationDialogMode.set('create');\r\n    this.selectedClassificationForEdit.set(undefined);\r\n    this.parentClassificationForCreate.set(parent);\r\n    this.showClassificationDialog.set(true);\r\n  }\r\n\r\n  openEditDialog(typification: TypificationCatalogV2) {\r\n    this.classificationDialogMode.set('edit');\r\n    this.selectedClassificationForEdit.set(typification);\r\n    this.parentClassificationForCreate.set(undefined);\r\n    this.showClassificationDialog.set(true);\r\n  }\r\n\r\n  closeClassificationDialog() {\r\n    this.showClassificationDialog.set(false);\r\n    this.selectedClassificationForEdit.set(undefined);\r\n    this.parentClassificationForCreate.set(undefined);\r\n  }\r\n\r\n  onClassificationSaved(typification: TypificationCatalogV2) {\r\n    this.showClassificationDialog.set(false);\r\n    this.selectedClassificationForEdit.set(undefined);\r\n    this.parentClassificationForCreate.set(undefined);\r\n    this.showSuccessMessage();\r\n    this.loadTypifications();\r\n  }\r\n\r\n  // Additional Fields dialog methods\r\n  openAdditionalFieldsDialog(typification: TypificationCatalogV2) {\r\n    this.selectedTypificationForFields.set(typification);\r\n    this.loading.set(true);\r\n\r\n    // Cargar campos adicionales existentes\r\n    this.classificationService.getAdditionalFields(typification.id).subscribe({\r\n      next: (fields) => {\r\n        this.additionalFieldsForEdit.set(fields);\r\n        this.showAdditionalFieldsDialog.set(true);\r\n        this.loading.set(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading additional fields:', error);\r\n        this.additionalFieldsForEdit.set([]);\r\n        this.showAdditionalFieldsDialog.set(true);\r\n        this.loading.set(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  closeAdditionalFieldsDialog() {\r\n    this.showAdditionalFieldsDialog.set(false);\r\n    this.selectedTypificationForFields.set(undefined);\r\n    this.additionalFieldsForEdit.set([]);\r\n  }\r\n\r\n  onAdditionalFieldsSaved() {\r\n    // El nuevo diálogo ya guarda internamente, solo cerramos y mostramos éxito\r\n    console.log('Campos adicionales guardados exitosamente');\r\n    this.showAdditionalFieldsDialog.set(false);\r\n    this.selectedTypificationForFields.set(undefined);\r\n    this.additionalFieldsForEdit.set([]);\r\n    this.showSuccessMessage();\r\n  }\r\n\r\n  deleteTypification(typification: TypificationCatalogV2) {\r\n    if (typification.esSistema) {\r\n      alert('No se pueden eliminar tipificaciones del sistema');\r\n      return;\r\n    }\r\n\r\n    const message = `¿Está seguro de eliminar la tipificación \"${typification.nombre}\"?\\n\\nEsto la eliminará del catálogo global y afectará a TODAS las carteras.\\n\\nEsta acción no se puede deshacer.`;\r\n\r\n    if (!confirm(message)) {\r\n      return;\r\n    }\r\n\r\n    // Siempre eliminar físicamente del catálogo global\r\n    this.classificationService.deleteTypification(typification.id).subscribe({\r\n      next: () => {\r\n        this.showSuccessMessage();\r\n        this.loadTypifications();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error al eliminar tipificación:', error);\r\n        alert('Error al eliminar la tipificación.');\r\n      }\r\n    });\r\n  }\r\n\r\n  showSuccessMessage() {\r\n    this.showSuccess.set(true);\r\n    setTimeout(() => this.showSuccess.set(false), 3000);\r\n  }\r\n\r\n  // Category dialog methods\r\n  openCreateCategoryDialog() {\r\n    this.showCategoryDialog.set(true);\r\n  }\r\n\r\n  closeCategoryDialog() {\r\n    this.showCategoryDialog.set(false);\r\n  }\r\n\r\n  onCategorySaved(categoryName: string) {\r\n    this.showCategoryDialog.set(false);\r\n    this.showSuccessMessage();\r\n    // Reload typification types\r\n    this.classificationTypes = Object.values(ClassificationTypeV2);\r\n  }\r\n\r\n  getTypeLabel(type: ClassificationTypeV2): string {\r\n    const labels: Record<ClassificationTypeV2, string> = {\r\n      [ClassificationTypeV2.RESULTADO_CONTACTO]: 'Resultado de Contacto',\r\n      [ClassificationTypeV2.TIPO_GESTION]: 'Tipo de Gestión',\r\n      [ClassificationTypeV2.MODALIDAD_PAGO]: 'Modalidad de Pago',\r\n      [ClassificationTypeV2.TIPO_FRACCIONAMIENTO]: 'Tipo de Fraccionamiento'\r\n    };\r\n    return labels[type];\r\n  }\r\n\r\n  /**\r\n   * Mueve un nodo hacia arriba en el orden\r\n   */\r\n  moveUp(node: TypificationTreeNodeV2, siblings: TypificationTreeNodeV2[], index: number, parent: TypificationTreeNodeV2 | null) {\r\n    if (index === 0) return; // Ya está al inicio\r\n\r\n    // Intercambiar posiciones en el array\r\n    [siblings[index - 1], siblings[index]] = [siblings[index], siblings[index - 1]];\r\n\r\n    // Actualizar ordenVisualizacion en el backend\r\n    this.updateOrder(siblings);\r\n  }\r\n\r\n  /**\r\n   * Mueve un nodo hacia abajo en el orden\r\n   */\r\n  moveDown(node: TypificationTreeNodeV2, siblings: TypificationTreeNodeV2[], index: number, parent: TypificationTreeNodeV2 | null) {\r\n    if (index === siblings.length - 1) return; // Ya está al final\r\n\r\n    // Intercambiar posiciones en el array\r\n    [siblings[index], siblings[index + 1]] = [siblings[index + 1], siblings[index]];\r\n\r\n    // Actualizar ordenVisualizacion en el backend\r\n    this.updateOrder(siblings);\r\n  }\r\n\r\n  /**\r\n   * Actualiza el orden de los nodos en el backend\r\n   */\r\n  private updateOrder(siblings: TypificationTreeNodeV2[]) {\r\n    // Actualizar ordenVisualizacion (espaciado de 10 para permitir inserciones futuras)\r\n    const updates = siblings.map((node, index) => ({\r\n      id: node.typification.id,\r\n      ordenVisualizacion: index * 10\r\n    }));\r\n\r\n    // TODO: Este endpoint necesita ser implementado en el backend V2\r\n    // Por ahora simular éxito\r\n    console.warn('updateOrder: endpoint no implementado en V2', updates);\r\n    this.showSuccessMessage();\r\n\r\n    /* Cuando esté listo en el backend:\r\n    this.classificationService.updateDisplayOrder(updates).subscribe({\r\n      next: () => {\r\n        this.showSuccessMessage();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error al actualizar orden:', error);\r\n        this.loadTypifications();\r\n      }\r\n    });\r\n    */\r\n  }\r\n\r\n  // ========================================\r\n  // Inline Editing Methods\r\n  // ========================================\r\n\r\n  /**\r\n   * Inicia la edición inline de una tipificación\r\n   */\r\n  startEdit(node: TypificationTreeNodeV2, event: Event) {\r\n    event.stopPropagation();\r\n\r\n    const config = node.config;\r\n    const typification = node.typification;\r\n\r\n    this.editingNodeId.set(config?.id || null);\r\n    this.editingForm.set({\r\n      nombrePersonalizado: config?.nombrePersonalizado || typification.nombre,\r\n      descripcionPersonalizada: config?.descripcionPersonalizada || typification.descripcion || '',\r\n      colorPersonalizado: config?.colorPersonalizado || typification.colorSugerido || '#3B82F6',\r\n      iconoPersonalizado: config?.iconoPersonalizado || typification.iconoSugerido || '',\r\n      ordenVisualizacionPersonalizado: config?.ordenVisualizacionPersonalizado || typification.ordenVisualizacion || 0\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Cancela la edición inline\r\n   */\r\n  cancelEdit() {\r\n    this.editingNodeId.set(null);\r\n    this.editingForm.set(null);\r\n  }\r\n\r\n  /**\r\n   * Guarda los cambios de edición inline\r\n   */\r\n  saveEdit(node: TypificationTreeNodeV2) {\r\n    if (!this.editingForm() || !node.config) return;\r\n\r\n    this.savingEdit.set(true);\r\n    const form = this.editingForm()!;\r\n\r\n    const command = {\r\n      nombrePersonalizado: form.nombrePersonalizado !== node.typification.nombre ? form.nombrePersonalizado : undefined,\r\n      descripcionPersonalizada: form.descripcionPersonalizada !== (node.typification.descripcion || '') ? form.descripcionPersonalizada : undefined,\r\n      colorPersonalizado: form.colorPersonalizado !== (node.typification.colorSugerido || '#3B82F6') ? form.colorPersonalizado : undefined,\r\n      iconoPersonalizado: form.iconoPersonalizado !== (node.typification.iconoSugerido || '') ? form.iconoPersonalizado : undefined,\r\n      ordenVisualizacionPersonalizado: form.ordenVisualizacionPersonalizado !== (node.typification.ordenVisualizacion || 0) ? form.ordenVisualizacionPersonalizado : undefined\r\n    };\r\n\r\n    this.classificationService.updateTenantTypificationConfig(node.config.id, command).subscribe({\r\n      next: () => {\r\n        this.savingEdit.set(false);\r\n        this.editingNodeId.set(null);\r\n        this.editingForm.set(null);\r\n        this.showSuccessMessage();\r\n        this.loadTypifications();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error al guardar personalización:', error);\r\n        this.savingEdit.set(false);\r\n        alert('Error al guardar los cambios');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Resetea la personalización a valores del catálogo\r\n   */\r\n  resetCustomization(node: TypificationTreeNodeV2, event: Event) {\r\n    event.stopPropagation();\r\n\r\n    if (!node.config) return;\r\n\r\n    if (!confirm('¿Resetear a valores del catálogo global?')) {\r\n      return;\r\n    }\r\n\r\n    const command = {\r\n      nombrePersonalizado: undefined,\r\n      descripcionPersonalizada: undefined,\r\n      colorPersonalizado: undefined,\r\n      iconoPersonalizado: undefined,\r\n      ordenVisualizacionPersonalizado: undefined\r\n    };\r\n\r\n    this.classificationService.updateTenantTypificationConfig(node.config.id, command).subscribe({\r\n      next: () => {\r\n        this.showSuccessMessage();\r\n        this.loadTypifications();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error al resetear personalización:', error);\r\n        alert('Error al resetear personalización');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Verifica si un nodo está siendo editado\r\n   */\r\n  isEditing(configId: number | undefined): boolean {\r\n    return configId !== undefined && this.editingNodeId() === configId;\r\n  }\r\n\r\n  /**\r\n   * Verifica si un nodo tiene personalizaciones\r\n   */\r\n  hasCustomizations(config: any): boolean {\r\n    if (!config) return false;\r\n    return !!(\r\n      config.nombrePersonalizado ||\r\n      config.descripcionPersonalizada ||\r\n      config.colorPersonalizado ||\r\n      config.iconoPersonalizado ||\r\n      config.ordenVisualizacionPersonalizado !== null\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Obtiene el valor efectivo de un campo\r\n   */\r\n  getEffectiveValue(config: any, typification: any, field: string): any {\r\n    const customField = field + 'Personalizado';\r\n    const catalogField = field === 'nombre' ? 'nombre' : field === 'color' ? 'colorSugerido' : field === 'icono' ? 'iconoSugerido' : field;\r\n\r\n    return config?.[customField] || typification[catalogField] || '';\r\n  }\r\n\r\n  /**\r\n   * Verifica si un nodo coincide con el filtro de tipo actual\r\n   */\r\n  matchesTypeFilter(typification: TypificationCatalogV2): boolean {\r\n    if (!this.selectedType) return true; // Sin filtro = todos coinciden\r\n    return typification.tipoClasificacion === this.selectedType;\r\n  }\r\n\r\n  /**\r\n   * Verifica si un nodo o alguno de sus descendientes coincide con el filtro\r\n   */\r\n  nodeOrChildrenMatch(node: TypificationTreeNodeV2): boolean {\r\n    if (!this.selectedType) return true;\r\n    if (this.matchesTypeFilter(node.typification)) return true;\r\n    return node.children.some(child => this.nodeOrChildrenMatch(child));\r\n  }\r\n\r\n  /**\r\n   * Obtiene la ruta breadcrumb del padre\r\n   */\r\n  getParentBreadcrumb(node: TypificationTreeNodeV2): string {\r\n    const breadcrumbs: string[] = [];\r\n    let current = node;\r\n\r\n    // Buscar el padre en el árbol\r\n    const findParent = (nodes: TypificationTreeNodeV2[], targetId: number): TypificationTreeNodeV2 | null => {\r\n      for (const n of nodes) {\r\n        if (n.children.some(c => c.typification.id === targetId)) {\r\n          return n;\r\n        }\r\n        const found = findParent(n.children, targetId);\r\n        if (found) return found;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const parentId = current.typification.parentTypificationId || current.typification.tipificacionPadre?.id;\r\n    if (parentId) {\r\n      const parent = findParent(this.treeNodes, current.typification.id);\r\n      if (parent) {\r\n        // Construir breadcrumb recursivamente\r\n        const buildPath = (n: TypificationTreeNodeV2): string[] => {\r\n          const path: string[] = [];\r\n          const pid = n.typification.parentTypificationId || n.typification.tipificacionPadre?.id;\r\n          if (pid) {\r\n            const p = findParent(this.treeNodes, n.typification.id);\r\n            if (p) {\r\n              path.push(...buildPath(p));\r\n            }\r\n          }\r\n          path.push(this.getEffectiveValue(n.config, n.typification, 'nombre'));\r\n          return path;\r\n        };\r\n\r\n        return buildPath(parent).join(' > ');\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  /**\r\n   * Obtiene nodos filtrados (solo los que coinciden con el tipo)\r\n   */\r\n  getFilteredNodes(nodes: TypificationTreeNodeV2[]): TypificationTreeNodeV2[] {\r\n    if (!this.selectedType) return nodes;\r\n\r\n    const filtered: TypificationTreeNodeV2[] = [];\r\n\r\n    const collectMatching = (nodeList: TypificationTreeNodeV2[]) => {\r\n      for (const node of nodeList) {\r\n        if (this.matchesTypeFilter(node.typification)) {\r\n          filtered.push(node);\r\n        }\r\n        if (node.children.length > 0) {\r\n          collectMatching(node.children);\r\n        }\r\n      }\r\n    };\r\n\r\n    collectMatching(nodes);\r\n    return filtered;\r\n  }\r\n}\r\n", "<div class=\"h-[100dvh] bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 dark:from-slate-950 dark:via-gray-950 dark:to-black flex flex-col overflow-hidden transition-colors duration-300\">\r\n\r\n  <!-- Notificación de éxito -->\r\n  @if (showSuccess()) {\r\n    <div class=\"fixed top-4 right-4 z-50 animate-[slideInRight_0.5s_ease-out]\">\r\n      <div class=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-3\">\r\n        \r\n        <div>\r\n          <div class=\"font-bold\">¡Cambio Guardado!</div>\r\n          <div class=\"text-sm opacity-90\">La configuración se actualizó correctamente</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  <!-- Header Principal - ULTRA COMPACTO como gestión -->\r\n  <div class=\"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 dark:from-slate-950 dark:via-blue-950 dark:to-slate-950 text-white shadow-md relative overflow-hidden\">\r\n    <div class=\"relative px-3 py-1\">\r\n      <div class=\"flex items-center justify-between\">\r\n        <div class=\"flex items-center gap-3\">\r\n          <div>\r\n            <div class=\"flex items-center gap-1.5\">\r\n              <div class=\"bg-blue-500 dark:bg-blue-600 p-1 rounded\">\r\n                \r\n              </div>\r\n              <div>\r\n                <h1 class=\"text-sm font-bold\">Mantenimiento de Tipificaciones</h1>\r\n                <p class=\"text-[9px] text-blue-200 dark:text-blue-300 flex items-center gap-0.5\">\r\n                  \r\n                  Configuración de clasificaciones\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center gap-2\">\r\n          <!-- Botón de Dark Mode -->\r\n          <button\r\n            (click)=\"toggleDarkMode()\"\r\n            [class]=\"'flex items-center gap-1.5 px-2 py-1.5 rounded-lg transition-all duration-300 group border ' +\r\n              (themeService.isDarkMode()\r\n                ? 'bg-yellow-500/20 hover:bg-yellow-500/30 border-yellow-500/40'\r\n                : 'bg-blue-500/90 hover:bg-blue-600 border-blue-600')\"\r\n            title=\"Cambiar tema\">\r\n            @if (themeService.isDarkMode()) {\r\n              \r\n              <span class=\"text-[10px] text-yellow-300 font-semibold\">OSCURO</span>\r\n            } @else {\r\n              \r\n              <span class=\"text-[10px] text-white font-semibold\">CLARO</span>\r\n            }\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Barra de Info / Filters -->\r\n  <div class=\"bg-white dark:bg-slate-900 border-b border-blue-400 dark:border-slate-700 shadow-sm relative overflow-hidden transition-colors duration-300\">\r\n    <div class=\"absolute inset-0 bg-gradient-to-r from-blue-50 dark:from-blue-950/50 to-transparent opacity-50\"></div>\r\n    <div class=\"relative px-3 py-1\">\r\n      <div class=\"flex items-center justify-between\">\r\n        <div class=\"flex items-center gap-3 text-xs\">\r\n          <!-- Tenant/Client Filter - Solo si hay tenants -->\r\n          @if (tenants.length > 0) {\r\n            <div>\r\n              <div class=\"text-[9px] text-gray-500 dark:text-white uppercase font-semibold\">Cliente</div>\r\n              <select\r\n                [(ngModel)]=\"selectedTenantId\"\r\n                (change)=\"onTenantChange()\"\r\n                class=\"text-xs font-semibold text-gray-800 dark:text-white bg-transparent border-none focus:outline-none cursor-pointer\">\r\n                <option *ngFor=\"let tenant of tenants\" [ngValue]=\"tenant.id\" class=\"bg-white dark:bg-slate-800\">\r\n                  {{ tenant.tenantName }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"h-6 w-px bg-gray-200 dark:bg-gray-700\"></div>\r\n          }\r\n\r\n          <!-- Portfolio Filter - Solo si hay portfolios -->\r\n          @if (portfolios.length > 0) {\r\n            <div>\r\n              <div class=\"text-[9px] text-gray-500 dark:text-white uppercase font-semibold\">Cartera</div>\r\n              <select\r\n                [(ngModel)]=\"selectedPortfolioId\"\r\n                (change)=\"onPortfolioChange()\"\r\n                class=\"font-semibold text-gray-800 dark:text-white text-[10px] bg-transparent border-none focus:outline-none cursor-pointer\">\r\n                <option [ngValue]=\"undefined\" class=\"bg-white dark:bg-slate-800\">Todas las Carteras</option>\r\n                <option *ngFor=\"let portfolio of portfolios\" [ngValue]=\"portfolio.id\" class=\"bg-white dark:bg-slate-800\">\r\n                  {{ portfolio.portfolioName }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"h-6 w-px bg-gray-200 dark:bg-gray-700\"></div>\r\n          }\r\n\r\n          <!-- Type Filter -->\r\n          <div>\r\n            <div class=\"text-[9px] text-gray-500 dark:text-white uppercase font-semibold\">Tipo</div>\r\n            <select\r\n              [(ngModel)]=\"selectedType\"\r\n              (change)=\"onTypeChange()\"\r\n              class=\"text-xs font-semibold text-gray-800 dark:text-white bg-transparent border-none focus:outline-none cursor-pointer\">\r\n              <option [ngValue]=\"undefined\" class=\"bg-white dark:bg-slate-800\">Todos</option>\r\n              <option *ngFor=\"let type of classificationTypes\" [ngValue]=\"type\" class=\"bg-white dark:bg-slate-800\">\r\n                {{ getTypeLabel(type) }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"flex gap-2\">\r\n          <button\r\n            (click)=\"openCreateCategoryDialog()\"\r\n            class=\"px-3 py-1 text-[10px] bg-purple-600 hover:bg-purple-700 text-white rounded font-semibold transition-colors flex items-center gap-1\">\r\n            <span class=\"text-sm\">+</span>\r\n            Nueva Categoría\r\n          </button>\r\n          <button\r\n            (click)=\"openCreateRootDialog()\"\r\n            class=\"px-3 py-1 text-[10px] bg-blue-600 hover:bg-blue-700 text-white rounded font-semibold transition-colors flex items-center gap-1\">\r\n            \r\n            Nueva Tipificación\r\n          </button>\r\n          <button\r\n            (click)=\"expandAll()\"\r\n            class=\"px-2 py-1 text-[10px] text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30 rounded transition-colors font-semibold\">\r\n            Expandir todo\r\n          </button>\r\n          <button\r\n            (click)=\"collapseAll()\"\r\n            class=\"px-2 py-1 text-[10px] text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30 rounded transition-colors font-semibold\">\r\n            Contraer todo\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Classification Form Dialog -->\r\n  @if (showClassificationDialog()) {\r\n    <app-typification-form-dialog\r\n      [mode]=\"classificationDialogMode()\"\r\n      [typification]=\"selectedClassificationForEdit()\"\r\n      [parentClassification]=\"parentClassificationForCreate()\"\r\n      [defaultType]=\"selectedType\"\r\n      [tenantId]=\"selectedTenantId\"\r\n      [portfolioId]=\"selectedPortfolioId\"\r\n      (save)=\"onClassificationSaved($event)\"\r\n      (cancel)=\"closeClassificationDialog()\">\r\n    </app-typification-form-dialog>\r\n  }\r\n\r\n  <!-- Category Dialog -->\r\n  @if (showCategoryDialog()) {\r\n    <app-category-form-dialog\r\n      [typifications]=\"typifications\"\r\n      (save)=\"onCategorySaved($event)\"\r\n      (cancel)=\"closeCategoryDialog()\">\r\n    </app-category-form-dialog>\r\n  }\r\n\r\n  <!-- Additional Fields Dialog -->\r\n  @if (showAdditionalFieldsDialog()) {\r\n    <app-typification-additional-fields-dialog\r\n      [isOpen]=\"showAdditionalFieldsDialog()\"\r\n      [typificationName]=\"selectedTypificationForFields()?.nombre || ''\"\r\n      [typificationId]=\"selectedTypificationForFields()?.id!\"\r\n      [tenantId]=\"selectedTenantId!\"\r\n      [portfolioId]=\"selectedPortfolioId\"\r\n      [subPortfolioId]=\"undefined\"\r\n      (save)=\"onAdditionalFieldsSaved()\"\r\n      (close)=\"closeAdditionalFieldsDialog()\">\r\n    </app-typification-additional-fields-dialog>\r\n  }\r\n\r\n  <!-- Loading State -->\r\n  @if (loading()) {\r\n    <div class=\"flex-1 flex items-center justify-center\">\r\n      <div class=\"text-center\">\r\n        <div class=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent\"></div>\r\n        <p class=\"mt-4 text-slate-600 dark:text-slate-300 font-semibold\">Cargando tipificaciones...</p>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  <!-- Tree View -->\r\n  @if (!loading()) {\r\n    <div class=\"flex-1 overflow-auto p-2\">\r\n      <div class=\"typification-tree-container bg-white dark:bg-slate-900 rounded-lg shadow-md p-2 transition-colors duration-300 border border-slate-200 dark:border-slate-800\">\r\n        @if (treeNodes.length === 0) {\r\n          <!-- Empty State -->\r\n          <div class=\"text-center py-20\">\r\n            \r\n            <p class=\"text-slate-500 dark:text-slate-400 text-lg font-semibold mb-2\">No hay tipificaciones configuradas</p>\r\n            <p class=\"text-slate-400 dark:text-slate-500 text-sm mb-6\">Comienza creando tu primera tipificación</p>\r\n          </div>\r\n        } @else {\r\n          <!-- Tree Nodes -->\r\n          @if (!selectedType) {\r\n            <!-- Vista completa con jerarquía (sin filtro) -->\r\n            <div class=\"space-y-1\">\r\n              @for (node of treeNodes; track node.typification.id; let idx = $index) {\r\n                <ng-container [ngTemplateOutlet]=\"treeNodeTemplate\" [ngTemplateOutletContext]=\"{node: node, depth: 0, index: idx, siblings: treeNodes, parent: null}\"></ng-container>\r\n              }\r\n            </div>\r\n          } @else {\r\n            <!-- Vista filtrada plana (con breadcrumb) -->\r\n            <div class=\"space-y-1\">\r\n              @for (node of getFilteredNodes(treeNodes); track node.typification.id) {\r\n                <ng-container [ngTemplateOutlet]=\"flatNodeTemplate\" [ngTemplateOutletContext]=\"{node: node}\"></ng-container>\r\n              }\r\n            </div>\r\n          }\r\n        }\r\n      </div>\r\n    </div>\r\n  }\r\n</div>\r\n\r\n<!-- Tree Node Template (Recursive) -->\r\n<ng-template #treeNodeTemplate let-node=\"node\" let-depth=\"depth\" let-index=\"index\" let-siblings=\"siblings\" let-parent=\"parent\">\r\n  <div class=\"typification-item-wrapper\" [style.margin-left.px]=\"depth * 16\">\r\n\r\n    <!-- MODO NORMAL (No editando) -->\r\n    @if (!isEditing(node.config?.id)) {\r\n      <div\r\n        class=\"typification-item flex items-center justify-between px-2 rounded border-l-3 mb-1 transition-all duration-300\"\r\n        [class.py-1.5]=\"matchesTypeFilter(node.typification)\"\r\n        [class.py-0.5]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.opacity-40]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.scale-95]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.bg-green-50]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:bg-green-950/40]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.hover:bg-green-100]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:hover:bg-green-900/50]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.bg-slate-100]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:bg-slate-800/50]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.hover:bg-slate-200]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:hover:bg-slate-700/50]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.bg-gray-50]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.dark:bg-gray-900/20]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.border-l-green-500]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:border-l-green-600]=\"node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.border-l-slate-400]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.dark:border-l-slate-600]=\"!node.config?.estaHabilitada && matchesTypeFilter(node.typification)\"\r\n        [class.border-l-gray-300]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.dark:border-l-gray-700]=\"!matchesTypeFilter(node.typification)\"\r\n        [class.ring-2]=\"hasCustomizations(node.config) && matchesTypeFilter(node.typification)\"\r\n        [class.ring-purple-400]=\"hasCustomizations(node.config) && matchesTypeFilter(node.typification)\"\r\n        [class.dark:ring-purple-600]=\"hasCustomizations(node.config) && matchesTypeFilter(node.typification)\">\r\n\r\n        <div class=\"flex items-center gap-2 flex-1 min-w-0\">\r\n          <!-- Expand/Collapse Button -->\r\n          @if (node.children && node.children.length > 0) {\r\n            <button\r\n              (click)=\"toggleNode(node.typification.id); $event.stopPropagation()\"\r\n              class=\"flex-shrink-0 w-5 h-5 flex items-center justify-center text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors\">\r\n              @if (isExpanded(node.typification.id)) {\r\n\r\n              } @else {\r\n\r\n              }\r\n            </button>\r\n          } @else {\r\n            <div class=\"w-5 flex-shrink-0\"></div>\r\n          }\r\n\r\n          <!-- Icon con color -->\r\n          <div\r\n            class=\"flex-shrink-0 rounded flex items-center justify-center text-white font-bold shadow-sm transition-all\"\r\n            [class.w-8]=\"matchesTypeFilter(node.typification)\"\r\n            [class.h-8]=\"matchesTypeFilter(node.typification)\"\r\n            [class.text-xs]=\"matchesTypeFilter(node.typification)\"\r\n            [class.w-6]=\"!matchesTypeFilter(node.typification)\"\r\n            [class.h-6]=\"!matchesTypeFilter(node.typification)\"\r\n            [class.text-[9px]]=\"!matchesTypeFilter(node.typification)\"\r\n            [style.background-color]=\"getEffectiveValue(node.config, node.typification, 'color') || '#6B7280'\">\r\n            @if (getEffectiveValue(node.config, node.typification, 'icono')) {\r\n              <lucide-angular\r\n                [name]=\"getEffectiveValue(node.config, node.typification, 'icono')\"\r\n                [size]=\"matchesTypeFilter(node.typification) ? 18 : 14\">\r\n              </lucide-angular>\r\n            } @else {\r\n              {{ node.typification.codigo?.substring(0, 2) || 'NA' }}\r\n            }\r\n          </div>\r\n\r\n          <!-- Name and Type -->\r\n          <div class=\"flex-1 min-w-0\">\r\n            <div class=\"font-semibold truncate transition-all\"\r\n                 [class.text-sm]=\"matchesTypeFilter(node.typification)\"\r\n                 [class.text-slate-800]=\"matchesTypeFilter(node.typification)\"\r\n                 [class.dark:text-slate-100]=\"matchesTypeFilter(node.typification)\"\r\n                 [class.text-xs]=\"!matchesTypeFilter(node.typification)\"\r\n                 [class.text-gray-500]=\"!matchesTypeFilter(node.typification)\"\r\n                 [class.dark:text-gray-500]=\"!matchesTypeFilter(node.typification)\">\r\n              {{ getEffectiveValue(node.config, node.typification, 'nombre') }}\r\n            </div>\r\n            @if (matchesTypeFilter(node.typification)) {\r\n              <div class=\"text-[10px] text-slate-500 dark:text-slate-400 truncate\">\r\n                {{ getTypeLabel(node.typification.tipoClasificacion) }}\r\n                @if (hasCustomizations(node.config)) {\r\n                  <span class=\"ml-1 px-1 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded text-[9px] font-bold\">PERSONALIZADO</span>\r\n                }\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n          <!-- Level Badge -->\r\n          <div class=\"flex-shrink-0 px-2 py-0.5 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 rounded font-bold transition-all\"\r\n               [class.text-[10px]]=\"matchesTypeFilter(node.typification)\"\r\n               [class.text-[8px]]=\"!matchesTypeFilter(node.typification)\">\r\n            N{{ node.level }}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Actions -->\r\n        @if (matchesTypeFilter(node.typification)) {\r\n          <div class=\"flex items-center gap-1.5 ml-2 flex-shrink-0\">\r\n            <!-- Enable/Disable Toggle -->\r\n            <label class=\"relative inline-flex items-center cursor-pointer\"\r\n                   (click)=\"$event.stopPropagation()\"\r\n                   [title]=\"node.config?.estaHabilitada ? 'Desactivar' : 'Activar'\">\r\n              <input\r\n                type=\"checkbox\"\r\n                [checked]=\"node.config?.estaHabilitada === true\"\r\n                (change)=\"toggleTypification(node, $event); $event.stopPropagation()\"\r\n                class=\"sr-only peer\">\r\n              <div class=\"w-9 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-500\"></div>\r\n            </label>\r\n\r\n            <!-- Personalizar Button -->\r\n            <button\r\n              (click)=\"startEdit(node, $event)\"\r\n              title=\"Personalizar para esta cartera\"\r\n              class=\"px-2 py-1 text-[10px] bg-purple-600 hover:bg-purple-700 text-white rounded font-semibold transition-colors\">\r\n              EDITAR\r\n            </button>\r\n\r\n            @if (hasCustomizations(node.config)) {\r\n              <button\r\n                (click)=\"resetCustomization(node, $event)\"\r\n                title=\"Resetear a valores del catálogo\"\r\n                class=\"w-6 h-6 flex items-center justify-center text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/30 rounded transition-colors\">\r\n                <lucide-angular name=\"corner-up-left\" [size]=\"14\"></lucide-angular>\r\n              </button>\r\n            }\r\n\r\n            <button\r\n              (click)=\"openCreateChildDialog(node.typification); $event.stopPropagation()\"\r\n              title=\"Agregar hijo\"\r\n              class=\"w-6 h-6 flex items-center justify-center text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 rounded transition-colors\">\r\n              <lucide-angular name=\"plus-circle\" [size]=\"14\"></lucide-angular>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"openAdditionalFieldsDialog(node.typification); $event.stopPropagation()\"\r\n              title=\"Configurar Campos Adicionales\"\r\n              class=\"w-6 h-6 flex items-center justify-center text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded transition-colors\">\r\n              <lucide-angular name=\"settings\" [size]=\"14\"></lucide-angular>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"openEditDialog(node.typification); $event.stopPropagation()\"\r\n              title=\"Editar catálogo global\"\r\n              class=\"w-6 h-6 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors\">\r\n              <lucide-angular name=\"edit-2\" [size]=\"14\"></lucide-angular>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"deleteTypification(node.typification); $event.stopPropagation()\"\r\n              title=\"Eliminar\"\r\n              [disabled]=\"node.typification.esSistema\"\r\n              [class.opacity-30]=\"node.typification.esSistema\"\r\n              [class.cursor-not-allowed]=\"node.typification.esSistema\"\r\n              class=\"w-6 h-6 flex items-center justify-center text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors disabled:hover:bg-transparent\">\r\n              <lucide-angular name=\"trash-2\" [size]=\"14\"></lucide-angular>\r\n            </button>\r\n          </div>\r\n        }\r\n      </div>\r\n    }\r\n\r\n    <!-- MODO EDICIÓN INLINE -->\r\n    @if (isEditing(node.config?.id) && editingForm()) {\r\n      <div class=\"bg-purple-50 dark:bg-purple-950/40 border-2 border-purple-400 dark:border-purple-600 rounded-lg p-3 mb-2 shadow-lg\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <!-- Color Picker -->\r\n          <div class=\"flex-shrink-0\">\r\n            <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Color</label>\r\n            <div class=\"flex gap-1 flex-wrap max-w-[120px]\">\r\n              @for (color of presetColors; track color.hex) {\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"editingForm()!.colorPersonalizado = color.hex\"\r\n                  [class]=\"'w-6 h-6 rounded border-2 transition-all ' +\r\n                           (editingForm()!.colorPersonalizado === color.hex ? 'border-gray-900 dark:border-white ring-2 ring-purple-500' : 'border-gray-300')\"\r\n                  [style.background-color]=\"color.hex\"\r\n                  [title]=\"color.name\">\r\n                </button>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Form Fields -->\r\n          <div class=\"flex-1 space-y-2\">\r\n            <!-- Nombre -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Nombre Personalizado</label>\r\n              <input\r\n                type=\"text\"\r\n                [(ngModel)]=\"editingForm()!.nombrePersonalizado\"\r\n                placeholder=\"Nombre\"\r\n                class=\"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\" />\r\n            </div>\r\n\r\n            <!-- Descripción -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Descripción (Opcional)</label>\r\n              <textarea\r\n                [(ngModel)]=\"editingForm()!.descripcionPersonalizada\"\r\n                rows=\"2\"\r\n                placeholder=\"Descripción\"\r\n                class=\"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 resize-none bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\">\r\n              </textarea>\r\n            </div>\r\n\r\n            <!-- Orden -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Orden</label>\r\n              <input\r\n                type=\"number\"\r\n                [(ngModel)]=\"editingForm()!.ordenVisualizacionPersonalizado\"\r\n                min=\"0\"\r\n                step=\"10\"\r\n                class=\"w-24 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\" />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Action Buttons -->\r\n          <div class=\"flex-shrink-0 flex flex-col gap-1\">\r\n            <button\r\n              (click)=\"saveEdit(node)\"\r\n              [disabled]=\"savingEdit()\"\r\n              class=\"px-3 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded font-semibold text-xs transition-colors flex items-center gap-1\">\r\n              @if (savingEdit()) {\r\n                <div class=\"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              }\r\n              GUARDAR\r\n            </button>\r\n            <button\r\n              (click)=\"cancelEdit()\"\r\n              [disabled]=\"savingEdit()\"\r\n              class=\"px-3 py-1.5 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white rounded font-semibold text-xs transition-colors\">\r\n              CANCELAR\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n\r\n    <!-- Children Nodes (Recursive) -->\r\n    @if (isExpanded(node.typification.id) && node.children && node.children.length > 0) {\r\n      <div class=\"mt-1 space-y-1\">\r\n        @for (child of node.children; track child.typification.id; let childIdx = $index) {\r\n          <ng-container [ngTemplateOutlet]=\"treeNodeTemplate\" [ngTemplateOutletContext]=\"{node: child, depth: depth + 1, index: childIdx, siblings: node.children, parent: node}\"></ng-container>\r\n        }\r\n      </div>\r\n    }\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- Flat Node Template (para vista filtrada con breadcrumb) -->\r\n<ng-template #flatNodeTemplate let-node=\"node\">\r\n  <div class=\"typification-item-wrapper\">\r\n\r\n    <!-- MODO NORMAL (No editando) -->\r\n    @if (!isEditing(node.config?.id)) {\r\n      <div\r\n        class=\"typification-item flex items-center justify-between px-3 py-2 rounded border-l-3 mb-1 transition-all duration-300\"\r\n        [class.bg-green-50]=\"node.config?.estaHabilitada\"\r\n        [class.dark:bg-green-950/40]=\"node.config?.estaHabilitada\"\r\n        [class.hover:bg-green-100]=\"node.config?.estaHabilitada\"\r\n        [class.dark:hover:bg-green-900/50]=\"node.config?.estaHabilitada\"\r\n        [class.bg-slate-100]=\"!node.config?.estaHabilitada\"\r\n        [class.dark:bg-slate-800/50]=\"!node.config?.estaHabilitada\"\r\n        [class.hover:bg-slate-200]=\"!node.config?.estaHabilitada\"\r\n        [class.dark:hover:bg-slate-700/50]=\"!node.config?.estaHabilitada\"\r\n        [class.border-l-green-500]=\"node.config?.estaHabilitada\"\r\n        [class.dark:border-l-green-600]=\"node.config?.estaHabilitada\"\r\n        [class.border-l-slate-400]=\"!node.config?.estaHabilitada\"\r\n        [class.dark:border-l-slate-600]=\"!node.config?.estaHabilitada\"\r\n        [class.ring-2]=\"hasCustomizations(node.config)\"\r\n        [class.ring-purple-400]=\"hasCustomizations(node.config)\"\r\n        [class.dark:ring-purple-600]=\"hasCustomizations(node.config)\">\r\n\r\n        <div class=\"flex items-center gap-3 flex-1 min-w-0\">\r\n          <!-- Icon con color -->\r\n          <div\r\n            class=\"flex-shrink-0 w-10 h-10 rounded flex items-center justify-center text-white text-sm font-bold shadow-sm\"\r\n            [style.background-color]=\"getEffectiveValue(node.config, node.typification, 'color') || '#6B7280'\">\r\n            @if (getEffectiveValue(node.config, node.typification, 'icono')) {\r\n              <lucide-angular\r\n                [name]=\"getEffectiveValue(node.config, node.typification, 'icono')\"\r\n                [size]=\"20\">\r\n              </lucide-angular>\r\n            } @else {\r\n              {{ node.typification.codigo?.substring(0, 2) || 'NA' }}\r\n            }\r\n          </div>\r\n\r\n          <!-- Name with Breadcrumb -->\r\n          <div class=\"flex-1 min-w-0\">\r\n            <!-- Breadcrumb del padre (si existe) -->\r\n            @if (getParentBreadcrumb(node)) {\r\n              <div class=\"text-[10px] text-gray-500 dark:text-gray-400 truncate mb-0.5\">\r\n                {{ getParentBreadcrumb(node) }}\r\n              </div>\r\n            }\r\n\r\n            <!-- Nombre principal -->\r\n            <div class=\"font-semibold text-slate-800 dark:text-slate-100 text-base truncate\">\r\n              {{ getEffectiveValue(node.config, node.typification, 'nombre') }}\r\n            </div>\r\n\r\n            <!-- Badge de personalización -->\r\n            @if (hasCustomizations(node.config)) {\r\n              <span class=\"inline-block mt-0.5 px-1.5 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded text-[9px] font-bold\">PERSONALIZADO</span>\r\n            }\r\n          </div>\r\n\r\n          <!-- Level Badge -->\r\n          <div class=\"flex-shrink-0 px-2 py-1 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 rounded text-xs font-bold\">\r\n            N{{ node.level }}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"flex items-center gap-1.5 ml-3 flex-shrink-0\">\r\n          <!-- Enable/Disable Toggle -->\r\n          <label class=\"relative inline-flex items-center cursor-pointer\"\r\n                 (click)=\"$event.stopPropagation()\"\r\n                 [title]=\"node.config?.estaHabilitada ? 'Desactivar' : 'Activar'\">\r\n            <input\r\n              type=\"checkbox\"\r\n              [checked]=\"node.config?.estaHabilitada === true\"\r\n              (change)=\"toggleTypification(node, $event); $event.stopPropagation()\"\r\n              class=\"sr-only peer\">\r\n            <div class=\"w-9 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-500\"></div>\r\n          </label>\r\n\r\n          <!-- Personalizar Button -->\r\n          <button\r\n            (click)=\"startEdit(node, $event)\"\r\n            title=\"Personalizar para esta cartera\"\r\n            class=\"px-2 py-1 text-[10px] bg-purple-600 hover:bg-purple-700 text-white rounded font-semibold transition-colors\">\r\n            EDITAR\r\n          </button>\r\n\r\n          @if (hasCustomizations(node.config)) {\r\n            <button\r\n              (click)=\"resetCustomization(node, $event)\"\r\n              title=\"Resetear a valores del catálogo\"\r\n              class=\"w-6 h-6 flex items-center justify-center text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/30 rounded transition-colors\">\r\n              <lucide-angular name=\"corner-up-left\" [size]=\"14\"></lucide-angular>\r\n            </button>\r\n          }\r\n\r\n          <button\r\n            (click)=\"openCreateChildDialog(node.typification); $event.stopPropagation()\"\r\n            title=\"Agregar hijo\"\r\n            class=\"w-6 h-6 flex items-center justify-center text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 rounded transition-colors\">\r\n            <lucide-angular name=\"plus-circle\" [size]=\"14\"></lucide-angular>\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"openAdditionalFieldsDialog(node.typification); $event.stopPropagation()\"\r\n            title=\"Configurar Campos Adicionales\"\r\n            class=\"w-6 h-6 flex items-center justify-center text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded transition-colors\">\r\n            <lucide-angular name=\"settings\" [size]=\"14\"></lucide-angular>\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"openEditDialog(node.typification); $event.stopPropagation()\"\r\n            title=\"Editar catálogo global\"\r\n            class=\"w-6 h-6 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors\">\r\n            <lucide-angular name=\"edit-2\" [size]=\"14\"></lucide-angular>\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"deleteTypification(node.typification); $event.stopPropagation()\"\r\n            title=\"Eliminar\"\r\n            [disabled]=\"node.typification.esSistema\"\r\n            [class.opacity-30]=\"node.typification.esSistema\"\r\n            [class.cursor-not-allowed]=\"node.typification.esSistema\"\r\n            class=\"w-6 h-6 flex items-center justify-center text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors disabled:hover:bg-transparent\">\r\n            <lucide-angular name=\"trash-2\" [size]=\"14\"></lucide-angular>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    }\r\n\r\n    <!-- MODO EDICIÓN INLINE (mismo que el tree template) -->\r\n    @if (isEditing(node.config?.id) && editingForm()) {\r\n      <div class=\"bg-purple-50 dark:bg-purple-950/40 border-2 border-purple-400 dark:border-purple-600 rounded-lg p-3 mb-2 shadow-lg\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <!-- Color Picker -->\r\n          <div class=\"flex-shrink-0\">\r\n            <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Color</label>\r\n            <div class=\"flex gap-1 flex-wrap max-w-[120px]\">\r\n              @for (color of presetColors; track color.hex) {\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"editingForm()!.colorPersonalizado = color.hex\"\r\n                  [class]=\"'w-6 h-6 rounded border-2 transition-all ' +\r\n                           (editingForm()!.colorPersonalizado === color.hex ? 'border-gray-900 dark:border-white ring-2 ring-purple-500' : 'border-gray-300')\"\r\n                  [style.background-color]=\"color.hex\"\r\n                  [title]=\"color.name\">\r\n                </button>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Form Fields -->\r\n          <div class=\"flex-1 space-y-2\">\r\n            <!-- Nombre -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Nombre Personalizado</label>\r\n              <input\r\n                type=\"text\"\r\n                [(ngModel)]=\"editingForm()!.nombrePersonalizado\"\r\n                placeholder=\"Nombre\"\r\n                class=\"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\" />\r\n            </div>\r\n\r\n            <!-- Descripción -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Descripción (Opcional)</label>\r\n              <textarea\r\n                [(ngModel)]=\"editingForm()!.descripcionPersonalizada\"\r\n                rows=\"2\"\r\n                placeholder=\"Descripción\"\r\n                class=\"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 resize-none bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\">\r\n              </textarea>\r\n            </div>\r\n\r\n            <!-- Orden -->\r\n            <div>\r\n              <label class=\"block text-[10px] font-bold text-gray-700 dark:text-gray-200 mb-1\">Orden</label>\r\n              <input\r\n                type=\"number\"\r\n                [(ngModel)]=\"editingForm()!.ordenVisualizacionPersonalizado\"\r\n                min=\"0\"\r\n                step=\"10\"\r\n                class=\"w-24 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-purple-500 bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100\" />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Action Buttons -->\r\n          <div class=\"flex-shrink-0 flex flex-col gap-1\">\r\n            <button\r\n              (click)=\"saveEdit(node)\"\r\n              [disabled]=\"savingEdit()\"\r\n              class=\"px-3 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded font-semibold text-xs transition-colors flex items-center gap-1\">\r\n              @if (savingEdit()) {\r\n                <div class=\"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              }\r\n              GUARDAR\r\n            </button>\r\n            <button\r\n              (click)=\"cancelEdit()\"\r\n              [disabled]=\"savingEdit()\"\r\n              class=\"px-3 py-1.5 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white rounded font-semibold text-xs transition-colors\">\r\n              CANCELAR\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n\r\n  </div>\r\n</ng-template>\r\n"],
  "mappings": "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",
  "names": ["ClassificationTypeV2", "FieldTypeV2", "FieldDataSourceV2", "RestriccionFecha", "_forTrack0", "ClassificationType", "FieldType", "_forTrack0", "_forTrack0", "_forTrack1", "_c0", "_forTrack0", "_c1", "_forTrack1"]
}
