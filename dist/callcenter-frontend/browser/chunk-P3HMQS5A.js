import{$ as n,C as i,V as r,W as s,da as o,hd as p,jd as l,md as d}from"./chunk-RD2OXGLD.js";var f=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl=`${d.gatewayUrl}/admin/autodialer`}getHeaders(){let t=localStorage.getItem("token");return new p({"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""})}activar(t="admin",a="Activaci\xF3n desde panel"){return this.http.post(`${this.apiUrl}/activar`,{usuario:t,notas:a},{headers:this.getHeaders()})}desactivar(t="Desactivaci\xF3n desde panel"){return this.http.post(`${this.apiUrl}/desactivar`,{notas:t},{headers:this.getHeaders()})}toggle(t="admin"){return this.http.post(`${this.apiUrl}/toggle`,{usuario:t},{headers:this.getHeaders()})}getEstado(){return this.http.get(`${this.apiUrl}/estado`,{headers:this.getHeaders()})}getEstadisticas(t){let a=t?`${this.apiUrl}/estadisticas?campaignId=${t}`:`${this.apiUrl}/estadisticas`;return this.http.get(a,{headers:this.getHeaders()})}healthCheck(){return this.http.get(`${this.apiUrl}/health`,{headers:this.getHeaders()})}startStatsPolling(t){return i(5e3).pipe(r(0),s(()=>this.getEstadisticas(t)))}getAgentesMonitoreo(){return this.http.get(`${this.apiUrl}/agentes-monitoreo`,{headers:this.getHeaders()})}startAgentesPolling(){return i(3e3).pipe(r(0),s(()=>this.getAgentesMonitoreo()))}getLlamadasEnTiempoReal(){return this.http.get(`${this.apiUrl}/llamadas-tiempo-real`,{headers:this.getHeaders()})}getLlamadasEnTiempoRealByCampaign(t){return this.http.get(`${this.apiUrl}/llamadas-tiempo-real/${t}`,{headers:this.getHeaders()})}startLlamadasPolling(t){return i(2e3).pipe(r(0),s(()=>t?this.getLlamadasEnTiempoRealByCampaign(t):this.getLlamadasEnTiempoReal()))}getConfiguracion(){return this.http.get(`${this.apiUrl}/configuracion`,{headers:this.getHeaders()})}updateConfiguracion(t){return this.http.put(`${this.apiUrl}/configuracion`,t,{headers:this.getHeaders()})}};e.\u0275fac=function(a){return new(a||e)(o(l))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let h=e;return h})();export{f as a};
