import{f as St,g as Et}from"./chunk-3CY7Y4VT.js";import{a as Pt,b as Dt,c as K,e as H,g as wt,h as O,i as yt,l as Ct}from"./chunk-BTCFLAJC.js";import{B as ft,C as bt,D as vt,E as xt,c as st,d as b,e as at,f as lt,k as dt,l as ct,n as ht,o as pt,p as gt,q as mt,v as ut,z as _t}from"./chunk-5CXVSPU7.js";import{pb as ot}from"./chunk-7OAV6HC2.js";import{a as rt}from"./chunk-CVSECBKN.js";import{$a as g,Ca as re,E as Fe,F as ie,I as Ne,Kb as f,Lb as d,M as Le,Mb as l,Nb as v,Nc as Xe,Qc as he,Rb as Ke,Rc as Je,Sb as Ye,T as ze,Ub as W,Wb as w,X as Ve,Y as He,Yb as x,Z as $,_ as Ge,a as Oe,b as Ie,ba as z,bd as Qe,ca as Be,cd as et,db as se,dd as tt,ea as V,fa as je,fb as ae,ga as u,h as A,hb as qe,ic as T,j as te,jd as it,kc as c,lc as Z,m as _,ma as R,mb as F,mc as I,n as Re,na as k,nb as We,nc as de,o as ke,ob as le,pd as pe,qa as Ue,ra as ne,rb as E,rd as nt,s as Me,tc as ce,ub as M,v as Ae,vb as q,wa as oe,wb as Ze,za as $e}from"./chunk-3MKZGHO3.js";function ue(r){let e=r.cloneNode(!0),t=e.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();e.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return i==="canvas"?It(r,e):(i==="input"||i==="select"||i==="textarea")&&Ot(r,e),Tt("canvas",r,e,It),Tt("input, textarea, select",r,e,Ot),e}function Tt(r,e,t,i){let n=e.querySelectorAll(r);if(n.length){let o=t.querySelectorAll(r);for(let s=0;s<n.length;s++)i(n[s],o[s])}}var ii=0;function Ot(r,e){e.type!=="file"&&(e.value=r.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${ii++}`)}function It(r,e){let t=e.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}function we(r){let e=r.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function _e(r,e,t){let{top:i,bottom:n,left:o,right:s}=r;return t>=i&&t<=n&&e>=o&&e<=s}function ni(r,e){let t=e.left<r.left,i=e.left+e.width>r.right,n=e.top<r.top,o=e.top+e.height>r.bottom;return t||i||n||o}function j(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function Rt(r,e,t,i){let{top:n,right:o,bottom:s,left:a,width:h,height:p}=r,m=h*e,D=p*e;return i>n-D&&i<s+D&&t>a-m&&t<o+m}var Y=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:we(t)})})}handleScroll(e){let t=H(e),i=this.positions.get(t);if(!i)return null;let n=i.scrollPosition,o,s;if(t===this._document){let p=this.getViewportScrollPosition();o=p.top,s=p.left}else o=t.scrollTop,s=t.scrollLeft;let a=n.top-o,h=n.left-s;return this.positions.forEach((p,m)=>{p.clientRect&&t!==m&&t.contains(m)&&j(p.clientRect,a,h)}),n.top=o,n.left=s,{top:a,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Bt(r,e){let t=r.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function ye(r,e,t){for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];n?r.setProperty(i,n,t?.has(i)?"important":""):r.removeProperty(i)}return r}function N(r,e){let t=e?"":"none";ye(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function kt(r,e,t){ye(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function X(r,e){return e&&e!="none"?r+" "+e:r}function Mt(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=U(e.left,e.top)}function U(r,e){return`translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}function At(r){let e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function oi(r){let e=getComputedStyle(r),t=ge(e,"transition-property"),i=t.find(a=>a==="transform"||a==="all");if(!i)return 0;let n=t.indexOf(i),o=ge(e,"transition-duration"),s=ge(e,"transition-delay");return At(o[n])+At(s[n])}function ge(r,e){return r.getPropertyValue(e).split(",").map(i=>i.trim())}var ri=new Set(["position"]),fe=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,i,n,o,s,a,h,p,m){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=n,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=h,this._zIndex=p,this._renderer=m}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Ft(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return oi(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,n;if(i&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),n=Bt(s,this._document),this._previewEmbeddedView=s,e.matchSize?Mt(n,o):n.style.transform=U(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=ue(this._rootElement),Mt(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return ye(n.style,{"pointer-events":"none",margin:Ft(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ri),N(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>n.classList.add(o)):n.classList.add(t)),n}};function Ft(r){return"showPopover"in r}var si={passive:!0},Nt={passive:!1},ai={passive:!1,capture:!0},li=800,Lt="cdk-drag-placeholder",zt=new Set(["position"]),be=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=oe(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new _;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=A.EMPTY;_pointerUpSubscription=A.EMPTY;_scrollSubscription=A.EMPTY;_resizeSubscription=A.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>N(t,e)))}_disabled=!1;beforeStarted=new _;started=new _;released=new _;ended=new _;entered=new _;exited=new _;dropped=new _;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,n,o,s,a){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Y(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>O(i)),this._handles.forEach(i=>N(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=O(e);if(t!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,Nt),i.listen(t,"touchstart",this._pointerDown,si),i.listen(t,"dragstart",this._nativeDragStart,Nt)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?O(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&ni(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),i=0,n=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?n=e.top-t.top:t.bottom>e.bottom&&(n=e.bottom-t.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+i,h=s+n;this._rootElement.style.transform=U(a,h),this._activeTransform={x:a,y:h},this._passiveTransform={x:a,y:h}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),N(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),N(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let n=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(n+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),h=this._dropContainer;if(!a){this._endDragSequence(e);return}(!h||!h.isDragging()&&!h.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-n.x+this._passiveTransform.x,o.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){G(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",di,ai)}),i){let n=this._rootElement,o=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=new fe(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),kt(n,!1,zt),this._document.body.appendChild(o.replaceChild(s,n)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),n=G(t),o=!n&&t.button!==0,s=this._rootElement,a=H(t),h=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+li>Date.now(),p=n?Dt(t):Pt(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),i||o||h||p)return;if(this._handles.length){let S=s.style;this._rootElementTapHighlight=S.webkitTapHighlightColor||"",S.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(S=>this._updateOnScroll(S)),this._boundaryElement&&(this._boundaryRect=we(this._boundaryElement));let m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){kt(this._rootElement,!0,zt),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),o=this._getDragDistance(n),s=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o,dropPoint:n,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:n,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,n,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let n=a=>{(!a||this._preview&&H(a)===this._preview.element&&a.propertyName==="transform")&&(s(),i(),clearTimeout(o))},o=setTimeout(n,t*1.5),s=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=Bt(this._placeholderRef,this._document)):i=ue(this._rootElement),i.style.pointerEvents="none",i.classList.add(Lt),i}_getPointerPositionInElement(e,t,i){let n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():e,s=G(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),h=s.pageX-o.left-a.left,p=s.pageY-o.top-a.top;return{x:o.left-e.left+h,y:o.top-e.top+p}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=G(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=n,a.y=o,a.matrixTransform(s.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:h,height:p}=this._getPreviewRect(),m=a.top+s,D=a.bottom-(p-s),S=a.left+o,L=a.right-(h-o);i=Vt(i,S,L),n=Vt(n,m,D)}return{x:i,y:n}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,N(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let i=1/this.scale,n=U(e*i,t*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=X(n,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,n=U(e,t);this._preview.setTransform(X(n,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||i.width===0&&i.height===0)return;let o=n.left-i.left,s=i.right-n.right,a=n.top-i.top,h=i.bottom-n.bottom;n.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,n.height>i.height?(a>0&&(t+=a),h>0&&(t-=h)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:G(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=H(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&j(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=K(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return O(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,i){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){let n=this._anchor??=ue(this._placeholder);n.classList.remove(Lt),n.classList.add("cdk-drag-anchor"),n.style.transform="",i?i.before(n):O(t.element).appendChild(n)}}};function Vt(r,e,t){return Math.max(e,Math.min(t,r))}function G(r){return r.type[0]==="t"}function di(r){r.preventDefault()}function jt(r,e,t){let i=Ht(e,r.length-1),n=Ht(t,r.length-1);if(i===n)return;let o=r[i],s=n<i?-1:1;for(let a=i;a!==n;a+=s)r[a]=r[a+s];r[n]=o}function Ht(r,e){return Math.max(0,Math.min(e,r))}var J=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,n){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,n);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",h=o.findIndex(y=>y.drag===e),p=o[s],m=o[h].clientRect,D=p.clientRect,S=h>s?1:-1,L=this._getItemOffsetPx(m,D,S),Q=this._getSiblingOffsetPx(h,o,S),ei=o.slice();return jt(o,h,s),o.forEach((y,ti)=>{if(ei[ti]===y)return;let Se=y.drag===e,ee=Se?L:Q,Ee=Se?e.getPlaceholderElement():y.drag.getRootElement();y.offset+=ee;let Te=Math.round(y.offset*(1/y.drag.scale));a?(Ee.style.transform=X(`translate3d(${Te}px, 0, 0)`,y.initialTransform),j(y.clientRect,0,ee)):(Ee.style.transform=X(`translate3d(0, ${Te}px, 0)`,y.initialTransform),j(y.clientRect,ee,0))}),this._previousSwap.overlaps=_e(D,t,i),this._previousSwap.drag=p.drag,this._previousSwap.delta=a?n.x:n.y,{previousIndex:h,currentIndex:s}}enter(e,t,i,n){let o=n==null||n<0?this._getItemIndexFromPointerPosition(e,t,i):n,s=this._activeDraggables,a=s.indexOf(e),h=e.getPlaceholderElement(),p=s[o];if(p===e&&(p=s[o+1]),!p&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(p=s[0]),a>-1&&s.splice(a,1),p&&!this._dragDropRegistry.isDragging(p)){let m=p.getRootElement();m.parentElement.insertBefore(h,m),s.splice(o,0,e)}else this._element.appendChild(h),s.push(e);h.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(n=>n.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{j(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:we(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,i){let n=this.orientation==="horizontal",o=n?t.left-e.left:t.top-e.top;return i===-1&&(o+=n?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,i){let n=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+i*-1],a=o[n?"width":"height"]*i;if(s){let h=n?"left":"top",p=n?"right":"bottom";i===-1?a-=s.clientRect[h]-o[p]:a+=o[h]-s.clientRect[p]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,n=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let s=i[i.length-1].clientRect;return n?e>=s.right:t>=s.bottom}else{let s=i[0].clientRect;return n?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,n){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:h})=>{if(a===e)return!1;if(n){let p=o?n.x:n.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return o?t>=Math.floor(h.left)&&t<Math.floor(h.right):i>=Math.floor(h.top)&&i<Math.floor(h.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},ve=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let n=t[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(e)}sort(e,t,i,n){let o=this._getItemIndexFromPointerPosition(e,t,i),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===n.x&&s.deltaY===n.y)return null;let h=this.getItemIndex(e),p=e.getPlaceholderElement(),m=a.getRootElement();o>h?m.after(p):m.before(p),jt(this._activeItems,h,o);let D=this._getRootNode().elementFromPoint(t,i);return s.deltaX=n.x,s.deltaY=n.y,s.drag=a,s.overlaps=m===D||m.contains(D),{previousIndex:h,currentIndex:o}}enter(e,t,i,n){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let s=n==null||n<0?this._getItemIndexFromPointerPosition(e,t,i):n;s===-1&&(s=this._getClosestItemIndexToPointer(e,t,i));let a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,e),a.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[n,o]=this._relatedNodes[i];n.parentNode===e&&n.nextSibling!==o&&(o===null?e.appendChild(n):o.parentNode===e&&e.insertBefore(n,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),o=n?this._activeItems.findIndex(s=>{let a=s.getRootElement();return n===a||a.contains(n)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=K(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:h,y:p}=a.getRootElement().getBoundingClientRect(),m=Math.hypot(t-h,i-p);m<n&&(n=m,o=s)}}return o}},Gt=.05,Ut=.05,C=(function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r})(C||{}),P=(function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r})(P||{}),xe=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new _;entered=new _;exited=new _;dropped=new _;sorted=new _;receivingStarted=new _;receivingStopped=new _;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=A.EMPTY;_verticalScrollDirection=C.NONE;_horizontalScrollDirection=P.NONE;_scrollNode;_stopScrollTimers=new _;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,n,o){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=o;let s=this.element=O(e);this._document=i,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new Y(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,o,s,a,h={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:o,distance:s,dropPoint:a,event:h})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>e.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof J&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new ve(this._document,this._dragDropRegistry);else{let t=new J(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=O(this.element),i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._domRect||!Rt(this._domRect,Gt,t,i))return;let o=this._sortStrategy.sort(e,t,i,n);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=C.NONE,o=P.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||Rt(s.clientRect,Gt,e,t)&&([n,o]=ci(a,s.clientRect,this._direction,e,t),(n||o)&&(i=a))}),!n&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),h={width:s,height:a,top:0,right:s,bottom:a,left:0};n=$t(h,t),o=qt(h,e),i=window}i&&(n!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=i,(n||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Fe(0,ke).pipe($(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===C.UP?e.scrollBy(0,-t):this._verticalScrollDirection===C.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===P.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===P.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&_e(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!_e(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let n=this._getShadowRoot().elementFromPoint(t,i);return n?n===this._container||this._container.contains(n):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=K(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function $t(r,e){let{top:t,bottom:i,height:n}=r,o=n*Ut;return e>=t-o&&e<=t+o?C.UP:e>=i-o&&e<=i+o?C.DOWN:C.NONE}function qt(r,e){let{left:t,right:i,width:n}=r,o=n*Ut;return e>=t-o&&e<=t+o?P.LEFT:e>=i-o&&e<=i+o?P.RIGHT:P.NONE}function ci(r,e,t,i,n){let o=$t(e,n),s=qt(e,i),a=C.NONE,h=P.NONE;if(o){let p=r.scrollTop;o===C.UP?p>0&&(a=C.UP):r.scrollHeight-p>r.clientHeight&&(a=C.DOWN)}if(s){let p=r.scrollLeft;t==="rtl"?s===P.RIGHT?p<0&&(h=P.RIGHT):r.scrollWidth+p>r.clientWidth&&(h=P.LEFT):s===P.LEFT?p>0&&(h=P.LEFT):r.scrollWidth-p>r.clientWidth&&(h=P.RIGHT)}return[a,h]}var B={capture:!0},me={passive:!1,capture:!0},hi=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=F({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return r})(),Ce=(()=>{class r{_ngZone=u(q);_document=u(ne);_styleLoader=u(yt);_renderer=u(se).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new _;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=oe([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new _;pointerUp=new _;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,me)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(hi),this._activeDragInstances.update(n=>[...n,t]),this._activeDragInstances().length===1)){let n=i.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),B],["selectstart",this._preventDefaultWhileDragging,me]];n?s.push(["touchend",o,B],["touchcancel",o,B]):s.push(["mouseup",o,B]),n||s.push(["mousemove",a=>this.pointerMove.next(a),me]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,h,p])=>this._renderer.listen(this._document,a,h,p))})}}stopDragging(t){this._activeDragInstances.update(i=>{let n=i.indexOf(t);return n>-1?(i.splice(n,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this._scroll];return t&&t!==this._document&&i.push(new te(n=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(t,"scroll",s=>{this._activeDragInstances().length&&n.next(s)},B);return()=>{o()}}))),ie(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||r)};static \u0275prov=z({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pi={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Wt=(()=>{class r{_document=u(ne);_ngZone=u(q);_viewportRuler=u(St);_dragDropRegistry=u(Ce);_renderer=u(se).createRenderer(null,null);constructor(){}createDrag(t,i=pi){return new be(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new xe(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=z({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Pe=new V("CDK_DRAG_PARENT");var Zt=new V("CdkDragHandle"),Kt=(()=>{class r{element=u(re);_parentDrag=u(Pe,{optional:!0,skipSelf:!0});_dragDropRegistry=u(Ce);_stateChanges=new _;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=le({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",he]},features:[ce([{provide:Zt,useExisting:r}])]})}return r})(),gi=new V("CDK_DRAG_CONFIG"),mi=new V("CdkDropList"),Yt=(()=>{class r{element=u(re);dropContainer=u(mi,{optional:!0,skipSelf:!0});_ngZone=u(q);_viewContainerRef=u(qe);_dir=u(Ct,{optional:!0});_changeDetectorRef=u(Xe);_selfHandle=u(Zt,{optional:!0,self:!0});_parentDrag=u(Pe,{optional:!0,skipSelf:!0});_dragDropRegistry=u(Ce);_destroyed=new _;_handles=new Re([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new M;released=new M;ended=new M;entered=new M;exited=new M;dropped=new M;moved=new te(t=>{let i=this._dragRef.moved.pipe(Ae(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=u(Ue);constructor(){let t=this.dropContainer,i=u(gi,{optional:!0}),n=u(Wt);this._dragRef=n.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe($(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Ze(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,n=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),n=i.indexOf(t);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):O(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,n=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof n=="object"&&n?n:wt(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Le(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){t.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:n,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:h,rootElementSelector:p,previewContainer:m}=t;this.disabled=h??!1,this.dragStartDelay=n||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),p&&(this.rootElementSelector=p),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.pipe(Ge(t=>{let i=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),He(t=>ie(...t.map(i=>i._stateChanges.pipe(Ve(i))))),$(this._destroyed)).subscribe(t=>{let i=this._dragRef,n=t.element.nativeElement;t.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=le({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){i&2&&T("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",he],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Je]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ce([{provide:Pe,useExisting:r}]),$e]})}return r})();var Xt=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=We({type:r});static \u0275inj=Be({providers:[Wt],imports:[Et]})}return r})();var Jt=(()=>{let e=class e{constructor(i){this.http=i,this.baseUrl=rt.webServiceUrl+"/cartas",this.httpOptions={headers:new pe({"Content-Type":"application/json"})},this.fileHttpOptions={headers:new pe({"Content-Type":"application/json"}),responseType:"blob"}}handleError(i){return typeof ErrorEvent<"u"&&i.error instanceof ErrorEvent?console.log(`An error occurred ${i.status}, body was: ${i.error.message}`):console.log(`Backend returned code ${i.status}, body was: ${i.error.message}`),Me(()=>({status:i.status,message:i.error.message}))}downloadAgreementCard(i){return this.http.post(this.baseUrl+"/carta-acuerdo",i,Ie(Oe({},this.fileHttpOptions),{responseType:"blob"})).pipe(ze(2),Ne(this.handleError))}getAgreementData(i){return this.http.get(this.baseUrl+`/datos-cliente/${i}`,this.httpOptions)}};e.\u0275fac=function(n){return new(n||e)(je(nt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function fi(r,e){if(r&1&&(d(0,"div",68),c(1),l()),r&2){let t=x();g(),I(" Tramo: ",t.tramoDetectado," ")}}function bi(r,e){r&1&&v(0,"span",69)}function vi(r,e){if(r&1&&(d(0,"div",70),c(1),l()),r&2){let t,i=x();g(),I(" ",i.formatDisplayDate((t=i.agreementForm.get("fechaActual"))==null?null:t.value)," ")}}function xi(r,e){if(r&1&&(d(0,"div",71),c(1),l()),r&2){let t=x();g(),I(" ",t.getFieldError("fechaActual")," ")}}function Pi(r,e){if(r&1&&(d(0,"div",70),c(1),l()),r&2){let t,i=x();g(),I(" ",i.formatDisplayDate((t=i.agreementForm.get("fechaCompromiso"))==null?null:t.value)," ")}}function Di(r,e){if(r&1&&(d(0,"div",71),c(1),l()),r&2){let t=x();g(),I(" ",t.getFieldError("fechaCompromiso")," ")}}function wi(r,e){if(r&1){let t=W();d(0,"tr",72)(1,"td",73)(2,"div",74)(3,"div",75)(4,"strong"),c(5),l(),c(6),l(),d(7,"div",76)(8,"button",77),w("click",function(){let n=R(t).index,o=x();return k(o.abrirEditorFormaPago(n))}),c(9,"Editar"),l(),d(10,"button",78),w("click",function(){let n=R(t).index,o=x();return k(o.removeFormaPago(n))}),c(11,"Eliminar"),l()()()()()}if(r&2){let t,i=e.$implicit,n=e.index,o=x();f("formGroupName",n),g(5),de("",n+1,"",o.getOrdinalSuffix(n+1)," PAGO"),g(),de(" \u2014 ",(t=i.get("fechaPago"))==null?null:t.value," \u2014 S/ ",(t=i.get("montoPago"))==null?null:t.value," SOLES "),g(4),f("disabled",o.formasDePagoArray.length<=1)}}function yi(r,e){if(r&1&&(d(0,"tr")(1,"td",79)(2,"div",80),c(3,"Observaci\xF3n:"),l(),d(4,"div",81),c(5),l()()()),r&2){let t=x();g(5),Z(t.observacionTexto)}}function Ci(r,e){r&1&&(d(0,"tr")(1,"td",82)(2,"em"),c(3,"No hay formas de pago definidas."),l()()())}function Si(r,e){if(r&1){let t=W();d(0,"div",83)(1,"div",84)(2,"div",85)(3,"h3"),c(4,"Editar forma de pago"),l(),d(5,"button",86),w("click",function(){R(t);let n=x();return k(n.cerrarEditor())}),c(6,"\xD7"),l()(),d(7,"div",87)(8,"div",88)(9,"label",89),c(10,"\u{1F4C5} Fecha del pago"),l(),v(11,"input",90),l(),d(12,"div",88)(13,"label",91),c(14,"\u{1F4B0} Monto (S/)"),l(),v(15,"input",92),l()(),d(16,"div",93)(17,"button",94),w("click",function(){R(t);let n=x();return k(n.cerrarEditor())}),c(18,"Cancelar"),l(),d(19,"button",95),w("click",function(){R(t);let n=x();return k(n.guardarEdicionFormaPago())}),c(20,"Guardar"),l()()()()}if(r&2){let t=x();g(7),f("formGroup",t.formaPagoTemporal)}}function Ei(r,e){if(r&1){let t=W();d(0,"div",96)(1,"span",97),c(2),l(),d(3,"div",98),c(4),l(),d(5,"button",99),w("click",function(){let n=R(t).$implicit,o=x();return k(o.removeToast(n.id))}),c(6,"\xD7"),l()()}if(r&2){let t=e.$implicit;f("ngClass",t.type),g(2),Z(t.icon),g(2),Z(t.message)}}var Qt=(()=>{let e=class e{constructor(i,n){this.fb=i,this.agreementsService=n,this.isDarkMode=!1,this.readonlyInputs=!1,this.isLoading=!1,this.isBlackoutMode=!1,this.isDeudaTotalReset=!1,this.tramoDetectado="",this.mostrarObservacion=!1,this.observacionTexto="",this.toasts=[],this.toastIdCounter=0,this.formaPagoSeleccionadaIndex=null,this.formaPagoTemporal=this.fb.group({fechaPago:[""],montoPago:[0]}),this.agreementForm=this.createForm(),this.searchForm=this.fb.group({dniBusqueda:["",[b.required,b.pattern(/^\d{8}$/)]]})}ngOnInit(){this.checkDarkMode(),this.setupFormValueChanges()}checkDarkMode(){let i=document.documentElement.classList.contains("dark");this.isDarkMode=i}createForm(){return this.fb.group({fechaActual:[this.formatDate(new Date),b.required],nombreTitular:["",[b.required,b.minLength(2)]],dni:["",[b.required,b.pattern(/^\d{8}$/)]],cuentaTarjeta:["",[b.required,b.minLength(10)]],fechaCompromiso:[this.formatDate(new Date(Date.now()+720*60*60*1e3)),b.required],deudaTotal:[0,[b.required,b.min(.01)]],descuento:[0,[b.required,b.min(0)]],montoAprobado:[0,[b.required,b.min(.01)]],formasDePago:this.fb.array([])})}createFormaPago(){return this.fb.group({fechaPago:[this.formatDate(new Date),b.required],montoPago:[0,[b.required,b.min(.01)]]})}get formasDePagoArray(){return this.agreementForm.get("formasDePago")}setupFormValueChanges(){this.agreementForm.get("deudaTotal")?.valueChanges.subscribe(()=>{this.isDeudaTotalReset||this.calculateDiscount()}),this.agreementForm.get("descuento")?.valueChanges.subscribe(()=>{this.isDeudaTotalReset||this.calculateDiscount()}),this.agreementForm.get("montoAprobado")?.valueChanges.subscribe(()=>{this.isDeudaTotalReset||this.calculateDiscount()})}formatDate(i){return i.toISOString().split("T")[0]}formatDisplayDate(i){if(!i)return"";let[n,o,s]=i.split("-").map(Number);return new Date(n,o-1,s).toLocaleDateString("es-PE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).replace("septiembre","setiembre")}calculateDiscount(){let i=this.agreementForm.get("deudaTotal")?.value||0,n=this.agreementForm.get("montoAprobado")?.value||0,o=i-n;o<0&&(o=0),this.agreementForm.patchValue({descuento:Number(o.toFixed(2))},{emitEvent:!1})}addFormaPago(){this.formasDePagoArray.length<10&&this.formasDePagoArray.push(this.createFormaPago())}removeFormaPago(i){this.formasDePagoArray.removeAt(i)}buscarPorDni(){if(this.searchForm.invalid){this.searchForm.markAllAsTouched();return}let i=this.searchForm.get("dniBusqueda")?.value;this.limpiarCampos(),this.searchForm.reset(),this.isLoading=!0,this.agreementsService.getAgreementData(i).subscribe({next:n=>{this.agreementForm.patchValue({fechaActual:n.fechaActual,nombreTitular:n.nombreDelTitular,dni:i,cuentaTarjeta:n.cuentaTarjeta,fechaCompromiso:n.fechaCompromiso}),this.readonlyInputs=!0,this.tramoDetectado=n.tramo,this.observacionTexto=`Deuda total: ${n.deudaTotal}
Saldo capital asignado: ${n.saldoCapitalAsig}
LTD: ${n.ltd}
LTDE: ${n.ltde}
Asesor: ${n.asesor}
Tipificaci\xF3n: ${n.observacion}`,this.mostrarObservacion=!0,this.isLoading=!1},error:n=>{this.isLoading=!1,this.readonlyInputs=!1,n.status===404?this.showToast("error","Cliente no encontrado en la base de datos."):n.status===422?this.showToast("warning","El cliente no tiene promesa de pago registrada."):this.showToast("error","Error al obtener datos del cliente.")}})}toggleBlackoutMode(){if(this.isBlackoutMode)confirm("Desea volver a mostrar los campos?")&&(this.isBlackoutMode=!1);else{let i=this.agreementForm.get("montoAprobado")?.value||0;if(i<=0){this.showToast("error","Ingrese un monto aprobado v\xE1lido.");return}confirm("Usar monto aprobado como deuda total?")&&(this.isDeudaTotalReset=!0,this.isBlackoutMode=!0,this.agreementForm.patchValue({deudaTotal:i,descuento:0},{emitEvent:!1}),setTimeout(()=>{this.isDeudaTotalReset=!1},100))}}calculateFromPercentage(){let i=this.agreementForm.get("deudaTotal")?.value||0;if(i<=0){this.showToast("error","Ingrese primero el monto de la deuda total.");return}let n=prompt("Ingrese porcentaje de descuento (0-100):");if(n&&!isNaN(Number(n))&&Number(n)>=0&&Number(n)<=100){let o=i*Number(n)/100,s=i-o;this.agreementForm.patchValue({descuento:Number(o.toFixed(2)),montoAprobado:Number(s.toFixed(2))})}}onSubmit(){if(!this.agreementForm.valid){this.markFormGroupTouched(),this.showToast("error","Campos requeridos incompletos.");return}let i=this.agreementForm.get("montoAprobado")?.value||0;if(this.formasDePagoArray.length>0){let a=this.formasDePagoArray.controls.reduce((p,m)=>p+Number(m.get("montoPago")?.value||0),0);if(Math.abs(a-i)>.01){this.showToast("error","Suma de pagos no coincide con monto aprobado");return}}this.isLoading=!0;let n=this.agreementForm.value,o=this.isBlackoutMode?n.montoAprobado:n.deudaTotal,s={fechaActual:this.formatDisplayDate(n.fechaActual),nombreTitular:n.nombreTitular,dni:n.dni,cuentaTarjeta:n.cuentaTarjeta,fechaCompromiso:this.formatDisplayDate(n.fechaCompromiso),deudaTotal:o,descuento:n.descuento,montoAprobado:n.montoAprobado,formasDePago:this.formasDePagoArray.controls.map((a,h)=>{let p=a.get("fechaPago")?.value,m=a.get("montoPago")?.value,[D,S,L]=p.split("-"),Q=`${L}/${S}`;return`${h+1}${this.getOrdinalSuffix(h+1)} PAGO - ${Q} - ${m} SOLES`})};this.agreementsService.downloadAgreementCard(s).subscribe({next:a=>{this.downloadFile(a,`ACUERDO_DE_PAGO_${s.dni}.pdf`),this.isLoading=!1,this.showToast("success","Acuerdo descargado.")},error:()=>{this.isLoading=!1,this.showToast("error","Error al generar documento.")}})}limpiarCampos(){for(;this.formasDePagoArray.length>0;)this.formasDePagoArray.removeAt(0);this.isDeudaTotalReset=!1,this.mostrarObservacion=!1,this.observacionTexto="",this.readonlyInputs=!1,this.isBlackoutMode=!1,this.tramoDetectado="",this.toasts=[],this.agreementForm.patchValue({fechaActual:this.formatDate(new Date),nombreTitular:"",dni:"",cuentaTarjeta:"",fechaCompromiso:this.formatDate(new Date(Date.now()+720*60*60*1e3)),deudaTotal:0,descuento:0,montoAprobado:0})}resetForm(){confirm("Limpiar todos los campos?")&&this.limpiarCampos()}isFieldInvalid(i){let n=this.agreementForm.get(i);return!!(n?.invalid&&(n?.touched||n?.dirty))}getFieldError(i){let n=this.agreementForm.get(i);if(n?.errors&&(n?.touched||n?.dirty)){if(n.errors.required)return`${this.getFieldLabel(i)} requerido`;if(n.errors.pattern)return i==="dni"?"DNI: 8 d\xEDgitos":`${this.getFieldLabel(i)} inv\xE1lido`;if(n.errors.minLength)return`${this.getFieldLabel(i)} m\xEDn ${n.errors.minLength.requiredLength}`;if(n.errors.min)return`${this.getFieldLabel(i)} > ${n.errors.min.min}`}return""}getFieldLabel(i){return{fechaActual:"Fecha",nombreTitular:"Nombre",dni:"DNI",cuentaTarjeta:"Cuenta",fechaCompromiso:"Fecha Compromiso",deudaTotal:"Deuda",descuento:"Descuento",montoAprobado:"Monto Aprobado"}[i]||i}getOrdinalSuffix(i){let n=["ER","DO","ER","TO","TO","TO","MO","VO","NO","MO"];return i<=10?n[i-1]:""}downloadFile(i,n){let o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o)}markFormGroupTouched(){Object.keys(this.agreementForm.controls).forEach(i=>{let n=this.agreementForm.get(i);n?.markAsTouched(),n instanceof ft&&n.controls.forEach(o=>o.markAsTouched())})}showToast(i,n){let o=i==="error"?"\u274C":i==="warning"?"\u26A0\uFE0F":"\u2705",s=this.toastIdCounter++;this.toasts.push({id:s,type:i,message:n,icon:o}),setTimeout(()=>this.removeToast(s),5e3)}removeToast(i){this.toasts=this.toasts.filter(n=>n.id!==i)}onlyNumbers(i){let n=i.target;n.value=n.value.replace(/[^0-9]/g,"")}getFormGroupAt(i){return this.formasDePagoArray.at(i)}abrirEditorFormaPago(i){this.formaPagoSeleccionadaIndex=i;let n=this.formasDePagoArray.at(i);this.formaPagoTemporal.setValue({fechaPago:n.get("fechaPago")?.value,montoPago:n.get("montoPago")?.value})}guardarEdicionFormaPago(){if(this.formaPagoTemporal.invalid){this.formaPagoTemporal.markAllAsTouched(),this.showToast("error","Complete todos los campos del pago.");return}this.formaPagoSeleccionadaIndex!==null&&(this.formasDePagoArray.at(this.formaPagoSeleccionadaIndex).patchValue({fechaPago:this.formaPagoTemporal.get("fechaPago")?.value,montoPago:this.formaPagoTemporal.get("montoPago")?.value}),this.cerrarEditor())}cerrarEditor(){this.formaPagoSeleccionadaIndex=null,this.formaPagoTemporal.reset({fechaPago:"",montoPago:0})}getToggleIcon(){return this.isBlackoutMode?"\u21B6":"\xD7"}getToggleTitle(){return this.isBlackoutMode?"Restaurar vista de deuda total":"Ocultar deuda total y usar monto aprobado como deuda"}};e.\u0275fac=function(n){return new(n||e)(ae(bt),ae(Jt))},e.\u0275cmp=F({type:e,selectors:[["app-agreements-page"]],decls:171,vars:33,consts:[[1,"payment-agreement-container"],[1,"document-header"],[1,"document-title"],[2,"display","flex","gap","10px","align-items","center","margin-right","10px",3,"formGroup"],["formControlName","dniBusqueda","type","text","placeholder","DNI","maxlength","8",1,"editable-input",2,"width","120px"],["type","button",1,"btn","btn-search",3,"click","disabled"],["style","margin-left: 10px; padding: 5px 10px; background-color: #e8f5e9; border: 1px solid #4caf50; border-radius: 4px; font-weight: bold; color: #2e7d32;",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"document-actions"],["type","button",1,"btn","btn-clean",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"document-container"],[1,"document",3,"formGroup"],[1,"header"],[1,"logo-section"],[1,"logo-left"],[1,"logo-placeholder"],[1,"logo-right"],[1,"line"],[1,"date-location"],[1,"date-input-container"],["type","date","formControlName","fechaActual",1,"editable-input","date-input"],["class","formatted-date",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"red-header"],[1,"client-table"],[1,"label-cell"],[1,"highlight","input-cell"],["type","text","formControlName","nombreTitular","readonly","","placeholder","JUAN CARLOS PEREZ GARCIA",1,"editable-input","large-input","readonly-input"],["type","text","formControlName","dni","readonly","","placeholder","12345678",1,"editable-input","readonly-input"],["type","text","formControlName","cuentaTarjeta","readonly","","placeholder","1234567890123456",1,"editable-input","large-input","readonly-input"],[1,"congratulations"],[1,"date-highlight"],["type","date","formControlName","fechaCompromiso",1,"editable-input","date-input",3,"readonly"],[1,"debt-header"],[1,"debt-table"],[1,"amount"],[1,"amount-input-container"],["type","number","formControlName","deudaTotal","step","1","min","0",1,"editable-input","number-input",3,"input"],["type","number","formControlName","descuento","readonly","",1,"editable-input","number-input"],[1,"highlight-amount"],["type","number","formControlName","montoAprobado","step","1","min","0",1,"editable-input","number-input",3,"input"],["type","button",1,"btn-toggle-debt",3,"click","title"],["colspan","3",1,"payment-header-clean"],[1,"payment-header-container"],[1,"payment-title"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["formArrayName","formasDePago"],[3,"formGroupName",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"instructions"],[1,"section-header"],[1,"section-content"],[1,"centers-content"],[1,"bcp-logo"],[1,"center"],[1,"dni"],[1,"contact-info"],[1,"signature-section"],[1,"signature-left"],[1,"signature-center"],[1,"logo-placeholder","small"],[2,"text-align","center","padding","10px"],[1,"signature-right"],[1,"footer-notes"],["class","modal-backdrop",4,"ngIf"],[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[2,"margin-left","10px","padding","5px 10px","background-color","#e8f5e9","border","1px solid #4caf50","border-radius","4px","font-weight","bold","color","#2e7d32"],[1,"spinner"],[1,"formatted-date"],[1,"error-message"],[3,"formGroupName"],["colspan","3",1,"payment-row"],[1,"payment-row-content"],[1,"payment-info"],[1,"payment-actions"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],["colspan","3",1,"payment-observation-unique"],[1,"observation-header"],[1,"observation-content"],["colspan","3",1,"payment-section"],[1,"modal-backdrop"],["cdkDrag","",1,"modal-dialog","enhanced"],["cdkDragHandle","",1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body",3,"formGroup"],[1,"modal-field"],["for","fechaPago"],["type","date","formControlName","fechaPago","id","fechaPago",1,"editable-input","date-input"],["for","montoPago"],["type","number","formControlName","montoPago","step","0.01","min","0","id","montoPago",1,"editable-input","number-input"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"toast",3,"ngClass"],[1,"toast-icon"],[1,"toast-content"],[1,"toast-close",3,"click"]],template:function(n,o){if(n&1&&(d(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2),c(4,"Generador de Acuerdo de Pago"),l(),d(5,"form",3),v(6,"input",4),d(7,"button",5),w("click",function(){return o.buscarPorDni()}),c(8," Buscar "),l(),E(9,fi,2,1,"div",6),l(),E(10,bi,1,0,"span",7),d(11,"div",8)(12,"button",9),w("click",function(){return o.resetForm()}),c(13," Limpiar "),l(),d(14,"button",10),w("click",function(){return o.onSubmit()}),c(15),l()()(),d(16,"div",11)(17,"form",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16),c(22,"LOGO 1"),l()(),d(23,"div",17)(24,"div",16),c(25,"LOGO 2"),l()()()(),v(26,"div",18),d(27,"div",19)(28,"div",20),v(29,"input",21),E(30,vi,2,1,"div",22),l(),E(31,xi,2,1,"div",23),l(),d(32,"div",24),c(33," ACUERDO DE PAGO - CAMPA\xD1A LIMPIA TU DEUDA "),l(),d(34,"table",25)(35,"tr")(36,"td",26),c(37,"NOMBRE DEL TITULAR"),l(),d(38,"td",27),v(39,"input",28),l()(),d(40,"tr")(41,"td",26),c(42,"NUMERO DNI"),l(),d(43,"td",27),v(44,"input",29),l()(),d(45,"tr")(46,"td",26),c(47,"Nro. CUENTA TARJETA Oh!"),l(),d(48,"td",27),v(49,"input",30),l()()(),d(50,"div",31),c(51," \xA1Felicitaciones!, ya se encuentra "),d(52,"strong"),c(53,"APROBADO"),l(),c(54," su "),d(55,"strong"),c(56,"CAMPA\xD1A ESPECIAL"),l(),c(57," con el cual estar\xEDa cancelando "),d(58,"strong"),c(59,"TODA SU DEUDA"),l(),c(60,", lo puede pagar desde el d\xEDa de hoy, se encontrar\xE1 habilitado hasta este: "),l(),d(61,"div",32)(62,"div",20),v(63,"input",33),E(64,Pi,2,1,"div",22),l(),E(65,Di,2,1,"div",23),l(),d(66,"div",34),c(67," DETALLE DE DEUDA Y PROMOCI\xD3N APROBADA "),l(),d(68,"table",35)(69,"tr")(70,"th"),c(71,"DEUDA TOTAL"),l(),d(72,"th"),c(73,"DESCUENTO"),l(),d(74,"th"),c(75,"MONTO APROBADO"),l()(),d(76,"tr")(77,"td",36)(78,"div",37),c(79," S/ "),d(80,"input",38),w("input",function(){return o.calculateDiscount()}),l()()(),d(81,"td",36)(82,"div",37),c(83," S/ "),v(84,"input",39),l()(),d(85,"td",40)(86,"div",37),c(87," S/ "),d(88,"input",41),w("input",function(){return o.calculateDiscount()}),l(),d(89,"button",42),w("click",function(){return o.toggleBlackoutMode()}),c(90),l()()()(),d(91,"tr")(92,"td",43)(93,"div",44)(94,"span",45),c(95,"Formas de pago"),l(),d(96,"button",46),w("click",function(){return o.addFormaPago()}),c(97,"+ Agregar"),l()()()(),Ke(98,47),E(99,wi,12,6,"tr",48),Ye(),E(100,yi,6,1,"tr",49)(101,Ci,4,0,"tr",49),l(),d(102,"div",50),c(103," Acercarse con su DNI, tarjeta Oh! y este documento; Indicar en los cajeros que va a realizar un "),d(104,"strong"),c(105,"pago o abono"),l(),c(106," a su Tarjeta Oh por el monto "),d(107,"strong"),c(108,"APROBADO"),l(),c(109,", en caso de no tener la tarjeta puede pagar con el n\xFAmero de cuenta de su tarjeta consignada en la parte superior de este documento. "),l(),d(110,"div",51),c(111,"CENTROS DE PAGO VIRTUAL:"),l(),d(112,"div",52)(113,"div",53)(114,"div",54),c(115,"BCP"),l(),d(116,"div",55),c(117,"APP/WEB"),l(),d(118,"div",56),c(119,"Con su n\xFAmero de DNI"),l()()(),d(120,"div",51),c(121,"CENTROS DE PAGO PRESENCIAL :"),l(),d(122,"div",52)(123,"div",53)(124,"div",54),c(125,"BCP"),l(),d(126,"div",55),c(127,"AGENTE/VENTANILLA"),l(),d(128,"div",56),c(129,"Presentando su DNI"),l()()(),d(130,"div",51),c(131,"CONFIRMACI\xD3N DE PAGO:"),l(),d(132,"div",52),c(133," Enviar foto del voucher de transacci\xF3n al WhatsApp corporativo de Financiera Oh para su validaci\xF3n, registro, cancelaci\xF3n de deuda y retiro de cobranza. "),l(),d(134,"div",51),c(135,"TRAMITE DE CARTA DE NO ADEUDO:"),l(),d(136,"div",52),c(137," A partir de 15 d\xEDas h\xE1biles de la cancelaci\xF3n ya puede solicitar el tr\xE1mite su carta de no adeudo escribiendo al "),d(138,"strong"),c(139,"WhatsApp: 980732405 - OPCION 2"),l(),c(140," o llamando al (01) 619-4800; (01) 631-5400; para que lo pueda recoger en plataforma o solicitar el env\xEDo a su correo. "),l(),d(141,"div",57),c(142," Si desea mayor informaci\xF3n, comun\xEDquese a los siguientes n\xFAmeros de contacto directo: V\xEDa Telf.: o v\xEDa WhatsApp: "),d(143,"strong"),c(144,"968437436"),l()(),d(145,"div",58)(146,"div",59)(147,"span"),c(148,"Atentamente,"),l()(),d(149,"div",60)(150,"div",61),c(151,"LOGO BCP"),l(),d(152,"div",62)(153,"strong"),c(154,"Romina Tapia Albinagorta \xA0\xA0\xA0\xA0\xA0\xA0 Dpto."),l(),v(155,"br"),d(156,"strong"),c(157,"COBRANZAS Oh!"),l()()(),d(158,"div",63)(159,"div",61),c(160,"COMPROMISO"),l()()(),d(161,"div",64)(162,"p"),c(163,"(*) Si al recibir esta comunicaci\xF3n Ud. Ha cancelado o regularizado su deuda, por favor desestimar su contenido."),l(),d(164,"p"),c(165,"(*) Para acceder a las facilidades deber\xE1 estar incluida en la relaci\xF3n de cuentas pre -aprobado."),l(),d(166,"p"),c(167,"(*) Sujeto a variaci\xF3n, por negativa a facilidad."),l()()(),E(168,Si,21,1,"div",65),l()(),d(169,"div",66),E(170,Ei,7,3,"div",67),l()()),n&2){let s,a;g(5),f("formGroup",o.searchForm),g(2),f("disabled",o.searchForm.invalid),g(2),f("ngIf",o.tramoDetectado),g(),f("ngIf",o.isLoading),g(4),f("disabled",o.agreementForm.invalid||o.isLoading),g(),I(" ",o.isLoading?"Generando...":"Generar PDF"," "),g(2),f("formGroup",o.agreementForm),g(12),T("is-invalid",o.isFieldInvalid("fechaActual")),g(),f("ngIf",(s=o.agreementForm.get("fechaActual"))==null?null:s.value),g(),f("ngIf",o.isFieldInvalid("fechaActual")),g(32),T("is-invalid",o.isFieldInvalid("fechaCompromiso")),f("readonly",o.readonlyInputs),g(),f("ngIf",(a=o.agreementForm.get("fechaCompromiso"))==null?null:a.value),g(),f("ngIf",o.isFieldInvalid("fechaCompromiso")),g(15),T("blackout",o.isBlackoutMode)("is-invalid",o.isFieldInvalid("deudaTotal")),g(4),T("blackout",o.isBlackoutMode),g(4),T("is-invalid",o.isFieldInvalid("montoAprobado")),g(),T("active",o.isBlackoutMode),f("title",o.getToggleTitle()),g(),I(" ",o.getToggleIcon()," "),g(9),f("ngForOf",o.formasDePagoArray.controls),g(),f("ngIf",o.mostrarObservacion),g(),f("ngIf",o.formasDePagoArray.length===0),g(67),f("ngIf",o.formaPagoSeleccionadaIndex!==null),g(2),f("ngForOf",o.toasts)}},dependencies:[it,Qe,et,tt,xt,dt,st,ct,at,lt,_t,ut,ht,mt,pt,gt,vt,ot,Xt,Yt,Kt],styles:["body[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}.payment-agreement-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;font-family:Arial,sans-serif;background-color:#f5f5f5;padding:2rem 20px 20px}.document-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem 2rem;background:linear-gradient(135deg,#fff,#f8fafc);border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0}.document-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#1e293b;background:linear-gradient(135deg,#3b82f6,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.document-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-size:.95rem;font-weight:500;transition:all .3s ease;text-decoration:none;display:inline-flex;align-items:center;gap:8px;box-shadow:0 2px 8px #0000000a;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001f}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563eb,#7c3aed);box-shadow:0 4px 16px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#94a3b8,#cbd5e1);cursor:not-allowed;transform:none}.btn-secondary[_ngcontent-%COMP%]{background:#64748b;color:#fff;border:none}.btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);box-shadow:0 4px 16px #10b9814d}.btn-search[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none}.btn-search[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);box-shadow:0 4px 16px #10b9814d}.btn-clean[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none}.btn-clean[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);box-shadow:0 4px 16px #ef44444d}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.document-container[_ngcontent-%COMP%]{display:flex;justify-content:center;background:#fff;border-radius:8px;padding:40px;box-shadow:0 4px 8px #0000001a}.document[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;padding:30px;border:2px solid black;background:#fff;font-family:Arial,sans-serif;font-size:12px;position:relative}.editable-input[_ngcontent-%COMP%]{border:1px dashed #3498db;background:#f8f9fa;padding:6px 10px;border-radius:4px;font-family:inherit;font-size:inherit;font-weight:inherit;color:inherit;display:inline-block;transition:all .3s ease;vertical-align:middle;box-sizing:border-box}.editable-input.blackout[_ngcontent-%COMP%]{background:#000!important;color:transparent!important;border-color:#000!important}.editable-input.blackout[_ngcontent-%COMP%]:focus{background:#000!important;color:transparent!important;box-shadow:none!important}.editable-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2980b9;background:#fff;box-shadow:0 0 0 2px #3498db33}.editable-input.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c;background:#fdf2f2}.readonly-input[_ngcontent-%COMP%]{background:#e2e8f0!important;border:1px solid #94a3b8!important;cursor:not-allowed!important;color:#475569!important;font-weight:500!important;box-shadow:inset 0 1px 3px #00000026!important}.readonly-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:.9!important;font-style:normal!important}.editable-input[_ngcontent-%COMP%]:readonly{background:#d1d5db;opacity:.85;border:1px solid #9ca3af;border-style:solid;cursor:not-allowed;color:#4b5563;font-weight:500;box-shadow:inset 0 2px 4px #00000026}.editable-input[_ngcontent-%COMP%]:readonly::placeholder{color:#9ca3af;opacity:1;font-style:italic}.date-input-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.amount-input-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;justify-content:center;position:relative}.btn-toggle-debt[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;border:none;border-radius:50%;width:22px;height:22px;font-size:12px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:6px;transition:all .2s ease;line-height:1;padding:0}.btn-toggle-debt[_ngcontent-%COMP%]:hover{background:#c0392b;transform:scale(1.1)}.btn-toggle-debt[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-toggle-debt.active[_ngcontent-%COMP%]{background:#28a745}.btn-toggle-debt.active[_ngcontent-%COMP%]:hover{background:#218838}.editable-input.date-input[_ngcontent-%COMP%]{min-width:140px;width:140px}.editable-input.number-input[_ngcontent-%COMP%]{text-align:right;min-width:80px;width:80px}.editable-input.large-input[_ngcontent-%COMP%]{min-width:280px;width:280px}.editable-input.dni-input[_ngcontent-%COMP%]{min-width:100px;width:100px;text-align:center}.header[_ngcontent-%COMP%]{padding:5px 0;position:relative;width:100%}.logo-section[_ngcontent-%COMP%]{width:100%;display:table}.logo-left[_ngcontent-%COMP%]{display:table-cell;width:50%;text-align:left;vertical-align:top}.logo-right[_ngcontent-%COMP%]{display:table-cell;width:50%;text-align:right;vertical-align:top}.logo-placeholder[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background:#ecf0f1;border:2px dashed #bdc3c7;color:#7f8c8d;font-weight:700;font-size:12px}.logo-placeholder.small[_ngcontent-%COMP%]{padding:5px 10px;font-size:10px}.date-location[_ngcontent-%COMP%]{text-align:right;font-size:11px;margin:10px 0}.formatted-date[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#2c3e50;font-weight:500}.line[_ngcontent-%COMP%]{border-top:2px solid black;margin:5px 0 10px}.red-header[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;text-align:center;padding:10px;font-weight:700;font-size:13px;margin:10px 0}.client-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:15px 0}.client-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ccc;font-size:12px}.label-cell[_ngcontent-%COMP%]{width:40%;font-weight:400;background:#f8f9fa}.input-cell[_ngcontent-%COMP%]{width:60%;position:relative}.highlight[_ngcontent-%COMP%]{font-weight:700}.congratulations[_ngcontent-%COMP%]{padding:15px;text-align:center;font-size:12px;line-height:1.5;margin:15px 0}.date-highlight[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:14px;padding:15px 0}.debt-header[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;text-align:center;padding:10px;font-weight:700;font-size:12px;margin:15px 0 0}.debt-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.debt-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .debt-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:12px;text-align:center;font-size:12px;vertical-align:middle}.highlight-amount[_ngcontent-%COMP%]{background:#ff0;font-weight:700!important;font-size:13px}.amount[_ngcontent-%COMP%]{font-weight:700}.payment-header-clean[_ngcontent-%COMP%]{background:none;padding:12px;font-size:14px;font-weight:700;border:none}.payment-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.payment-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.payment-row[_ngcontent-%COMP%]{padding:12px;border:1px solid #ccc;font-size:13px;background:#f8f9fa}.payment-row-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;flex-wrap:wrap}.payment-info[_ngcontent-%COMP%]{flex:1;font-weight:500;order:1}.payment-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0;order:2}.payment-observation-unique[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;background:#fff9e6;font-size:12px}.observation-header[_ngcontent-%COMP%]{font-weight:700;color:#d32f2f;margin-bottom:8px;font-size:13px}.observation-content[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.4;color:#2c3e50}.btn-sm[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px;border-radius:4px}.btn-outline-primary[_ngcontent-%COMP%]{background:#fff;color:#3498db;border:1px solid #3498db}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#3498db;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{background:#fff;color:#e74c3c;border:1px solid #e74c3c}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]:disabled{background:#f8f9fa;color:#6c757d;border-color:#dee2e6;cursor:not-allowed}.payment-section[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#6c757d;font-style:italic;background:#f8f9fa}.instructions[_ngcontent-%COMP%]{padding:15px;text-align:justify;font-size:12px;line-height:1.4;margin:15px 0}.section-header[_ngcontent-%COMP%]{background:#e0e0e0;padding:8px 12px;font-weight:700;font-size:11px;margin:10px 0 0}.section-content[_ngcontent-%COMP%]{padding:10px 12px;font-size:12px;border:1px solid #e0e0e0;border-top:none}.centers-content[_ngcontent-%COMP%]{width:100%;display:table}.bcp-logo[_ngcontent-%COMP%]{color:#203764;font-weight:700;font-size:14px;display:table-cell;width:80px;text-align:center;vertical-align:middle}.center[_ngcontent-%COMP%]{display:table-cell;width:120px;text-align:center;color:red;vertical-align:middle}.dni[_ngcontent-%COMP%]{display:table-cell;width:150px;text-align:center;vertical-align:middle;padding-left:20px}.contact-info[_ngcontent-%COMP%]{padding:10px 12px;font-size:12px;text-align:justify;margin:10px 0}.signature-section[_ngcontent-%COMP%]{margin-top:30px;padding:10px 12px;width:100%;display:table}.signature-left[_ngcontent-%COMP%]{display:table-cell;width:25%;vertical-align:top;text-align:left}.signature-center[_ngcontent-%COMP%]{display:table-cell;width:50%;vertical-align:top;text-align:center;padding:0 10px}.signature-right[_ngcontent-%COMP%]{display:table-cell;width:25%;vertical-align:top;text-align:center}.footer-notes[_ngcontent-%COMP%]{padding:10px 12px;font-size:9px;border-top:1px solid #ccc;margin-top:20px}.footer-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px 0;line-height:1.3}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:10px;font-style:italic;margin-top:4px;display:block}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:9999}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;width:300px;box-shadow:0 4px 12px #0003;position:relative}.modal-header[_ngcontent-%COMP%]{font-weight:700;display:flex;justify-content:space-between;align-items:center;cursor:move;margin-bottom:15px}.close-btn[_ngcontent-%COMP%]{border:none;background:transparent;font-size:20px;cursor:pointer}.modal-dialog.enhanced[_ngcontent-%COMP%]{width:360px;max-width:90%;border-radius:10px;overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.modal-body[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:column;gap:15px}.modal-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;margin-bottom:6px;color:#2c3e50}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:15px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.toast-container[_ngcontent-%COMP%]{position:fixed;top:100px;right:20px;z-index:10000;display:flex;flex-direction:column;gap:10px;max-width:400px}.toast[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px 20px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;gap:12px;border-left:4px solid;animation:_ngcontent-%COMP%_slideInRight .3s ease-out;min-width:300px}.toast.error[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2}.toast.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb}.toast-icon[_ngcontent-%COMP%]{font-size:20px}.toast-content[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#374151;line-height:1.4}.toast-close[_ngcontent-%COMP%]{background:0 0;border:0;font-size:18px;cursor:pointer;color:#9ca3af;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.toast-close[_ngcontent-%COMP%]:hover{color:#374151}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 1024px){.document-container[_ngcontent-%COMP%], .document[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.payment-agreement-container[_ngcontent-%COMP%]{padding:10px}.document-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.document-actions[_ngcontent-%COMP%]{justify-content:center}.document-container[_ngcontent-%COMP%]{padding:15px}.document[_ngcontent-%COMP%]{padding:15px;font-size:11px}.editable-input[_ngcontent-%COMP%]{min-width:100px;font-size:11px}.editable-input.large-input[_ngcontent-%COMP%]{min-width:200px;width:200px}}@media (max-width: 480px){.document[_ngcontent-%COMP%]{font-size:10px;padding:10px}.editable-input[_ngcontent-%COMP%]{min-width:80px;font-size:10px;padding:4px 6px}.editable-input.large-input[_ngcontent-%COMP%]{min-width:160px;width:160px}.editable-input.number-input[_ngcontent-%COMP%]{min-width:60px;width:60px}.client-table[_ngcontent-%COMP%]{font-size:10px}.client-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 8px}}"]});let r=e;return r})();var ln=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=F({type:e,selectors:[["app-agreements"]],decls:1,vars:0,template:function(n,o){n&1&&v(0,"app-agreements-page")},dependencies:[Qt],encapsulation:2});let r=e;return r})();export{ln as AgreementsComponent};
