import{a as c}from"./chunk-CVSECBKN.js";import{da as g,ha as f,ud as a,vd as $}from"./chunk-AWCKI45D.js";var U=(function(o){return o.RESULTADO_CONTACTO="RESULTADO_CONTACTO",o.TIPO_GESTION="TIPO_GESTION",o.MODALIDAD_PAGO="MODALIDAD_PAGO",o.TIPO_FRACCIONAMIENTO="TIPO_FRACCIONAMIENTO",o})(U||{}),d=(function(o){return o.DATE="DATE",o.NUMBER="NUMBER",o.TEXT="TEXT",o.TEXTAREA="TEXTAREA",o.CHIP_SELECT="CHIP_SELECT",o})(d||{}),T=(function(o){return o.MANUAL="MANUAL",o.DYNAMIC_TABLE="DYNAMIC_TABLE",o})(T||{});var O=(()=>{let l=class l{constructor(t){this.http=t,this.catalogUrl=`${c.gatewayUrl}/v2/typifications/catalog`,this.configUrl=`${c.gatewayUrl}/v2/typifications/config`}getAllClassifications(){return this.http.get(`${this.catalogUrl}`)}getActiveClassifications(){return this.http.get(`${this.catalogUrl}/active`)}getTypificationsByType(t){return this.http.get(`${this.catalogUrl}/type/${t}`)}getTypificationsByLevel(t){return this.http.get(`${this.catalogUrl}/level/${t}`)}getTypificationsByParent(t){return this.http.get(`${this.catalogUrl}/${t}/children`)}getClassificationById(t){return this.http.get(`${this.catalogUrl}/${t}`)}getRootTypifications(){return this.http.get(`${this.catalogUrl}/roots`)}createTypification(t){return this.http.post(`${this.catalogUrl}`,t)}updateTypification(t,i){return this.http.put(`${this.catalogUrl}/${t}`,i)}deleteTypification(t){return this.http.delete(`${this.catalogUrl}/${t}`)}activateTypification(t){return this.http.put(`${this.catalogUrl}/${t}/activate`,{})}deactivateTypification(t){return this.http.put(`${this.catalogUrl}/${t}/deactivate`,{})}getTenantClassifications(t,i,e){let r=new a;return e&&(r=r.set("includeDisabled","true")),i?this.http.get(`${this.configUrl}/tenant/${t}/portfolio/${i}`,{params:r}):this.http.get(`${this.configUrl}/tenant/${t}`,{params:r})}getTenantClassificationsByType(t,i,e){let r=new a;return e&&(r=r.set("portfolioId",e.toString())),this.http.get(`${this.configUrl}/tenant/${t}/type/${i}`,{params:r})}getEffectiveTypifications(t,i,e){return this.http.get(`${this.configUrl}/effective/tenant/${t}/portfolio/${i}/subportfolio/${e}`)}updateTenantTypificationConfig(t,i){return this.http.put(`${this.configUrl}/${t}`,i)}enableClassification(t,i,e,r,n){let s=new a().set("userId",n?.toString()||"1");return r&&e?this.http.post(`${this.configUrl}/tenant/${t}/portfolio/${e}/subportfolio/${r}/typification/${i}/enable`,{},{params:s}):e?this.http.post(`${this.configUrl}/tenant/${t}/portfolio/${e}/typification/${i}/enable`,{},{params:s}):this.http.post(`${this.configUrl}/tenant/${t}/typification/${i}/enable`,{},{params:s})}disableClassification(t,i,e,r,n){let s=new a().set("userId",n?.toString()||"1");return r&&e?this.http.post(`${this.configUrl}/tenant/${t}/portfolio/${e}/subportfolio/${r}/typification/${i}/disable`,{},{params:s}):e?this.http.post(`${this.configUrl}/tenant/${t}/portfolio/${e}/typification/${i}/disable`,{},{params:s}):this.http.post(`${this.configUrl}/tenant/${t}/typification/${i}/disable`,{},{params:s})}getAllTenants(){return this.http.get(`${c.webServiceUrl}/v1/system-config/tenants`)}getPortfoliosByTenant(t){return this.http.get(`${c.webServiceUrl}/v1/system-config/tenants/${t}/portfolios`)}getSubPortfoliosByPortfolio(t){return this.http.get(`${this.configUrl}/portfolios/${t}/subportfolios`)}getAdditionalFields(t){return this.http.get(`${this.catalogUrl}/${t}/additional-fields`)}saveAdditionalFields(t,i){return this.http.put(`${this.catalogUrl}/${t}/additional-fields`,i)}getTypificationFieldsWithValues(t,i,e,r){let n=new a;return e&&(n=n.set("portfolioId",e.toString())),r&&(n=n.set("clientId",r.toString())),this.http.get(`${this.configUrl}/tenant/${t}/typifications/${i}/fields`,{params:n})}getDynamicTableColumns(t,i,e){let r=new a().set("tenantId",t.toString()).set("portfolioId",i.toString()).set("subPortfolioId",e.toString());return this.http.get(`${this.configUrl}/dynamic-table-columns`,{params:r})}generarOpcionesCampo(t,i,e,r){let n=new a().set("tenantId",i.toString()).set("portfolioId",e.toString()).set("subPortfolioId",r.toString());return this.http.get(`${this.catalogUrl}/campo/${t}/opciones/generar`,{params:n})}inicializarOpcionesCampo(t,i,e,r){let n=new a().set("tenantId",i.toString()).set("portfolioId",e.toString()).set("subPortfolioId",r.toString());return this.http.post(`${this.catalogUrl}/campo/${t}/opciones/inicializar`,{},{params:n})}getOpcionesCampo(t){return this.http.get(`${this.catalogUrl}/campo/${t}/opciones`)}getOpcionesHabilitadas(t){return this.http.get(`${this.catalogUrl}/campo/${t}/opciones/habilitadas`)}configurarOpciones(t){return this.http.put(`${this.catalogUrl}/campo/opciones/configurar`,t)}getOpcionesConValores(t,i,e,r,n){let s=new a().set("tenantId",i.toString()).set("portfolioId",e.toString()).set("subPortfolioId",r.toString()).set("clientId",n.toString());return this.http.get(`${this.catalogUrl}/campo/${t}/opciones/valores`,{params:s})}buildClassificationTree(t){let i=new Map,e=[];t.forEach(n=>{i.set(n.id,{typification:n,children:[],level:n.nivelJerarquia})}),t.forEach(n=>{let s=i.get(n.id),h=n.tipificacionPadre?.id;if(h){let p=i.get(h);p&&p.children.push(s)}else e.push(s)});let r=n=>{n.children.length>0&&(n.children.sort((s,h)=>{let p=s.typification.ordenVisualizacion||0,u=h.typification.ordenVisualizacion||0;return p-u}),n.children.forEach(s=>r(s)))};return e.forEach(n=>r(n)),e}};l.\u0275fac=function(i){return new(i||l)(f($))},l.\u0275prov=g({token:l,factory:l.\u0275fac,providedIn:"root"});let o=l;return o})();export{U as a,d as b,T as c,O as d};
