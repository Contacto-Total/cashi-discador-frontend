import{A as ie,E as ne,c as R,f as U,g as q,i as K,k as X,l as $,m as J,s as Q,t as Y,u as Z,w as ee,x as te}from"./chunk-OBPTCZRJ.js";import{a as G}from"./chunk-YQKVMPSG.js";import{$ as D,$a as F,Cb as O,Db as A,Eb as w,Fb as e,Gb as i,Hb as h,Ob as k,Qb as f,Sb as c,Va as r,X as I,cc as H,dc as B,ec as o,fc as x,fd as W,ga as g,gb as N,gc as C,ha as p,hc as L,ia as _,ja as v,jc as S,kc as M,lc as E,md as j,nd as z,qa as b,yb as m,zb as u}from"./chunk-FJ3LLV4S.js";import{a as T,b as V}from"./chunk-GAL4ENT6.js";var ae=(()=>{let d=class d{constructor(a){this.http=a,this.baseUrl=`${G.gatewayUrl}/pagos-bcp`}cargarArchivo(a){let t=new FormData;return t.append("file",a),console.log("[BCP] Cargando archivo:",a.name),this.http.post(`${this.baseUrl}/cargar-archivo`,t)}cargarArchivoOh(a){let t=new FormData;return t.append("file",a),console.log("[OH] Cargando archivo Excel:",a.name),this.http.post(`${this.baseUrl}/cargar-archivo-oh`,t)}registrarPagoManual(a){return console.log("[BCP] Registrando pago manual:",a),this.http.post(`${this.baseUrl}/registrar-manual`,a)}verificarEstado(){return this.http.get(`${this.baseUrl}/status`)}listarPagosManuales(a={}){let t=new j;return a.documento&&(t=t.set("documento",a.documento)),a.banco&&(t=t.set("banco",a.banco)),a.medioAtencion&&(t=t.set("medioAtencion",a.medioAtencion)),a.fechaDesde&&(t=t.set("fechaDesde",a.fechaDesde)),a.fechaHasta&&(t=t.set("fechaHasta",a.fechaHasta)),a.page&&(t=t.set("page",a.page.toString())),a.size&&(t=t.set("size",a.size.toString())),console.log("[BCP] Listando pagos manuales con filtros:",a),this.http.get(`${this.baseUrl}/manuales`,{params:t})}actualizarPagoManual(a,t){return console.log("[BCP] Actualizando pago manual ID:",a,t),this.http.put(`${this.baseUrl}/manuales/${a}`,t)}eliminarPagoManual(a){return console.log("[BCP] Eliminando pago manual ID:",a),this.http.delete(`${this.baseUrl}/manuales/${a}`)}};d.\u0275fac=function(t){return new(t||d)(D(z))},d.\u0275prov=I({token:d,factory:d.\u0275fac,providedIn:"root"});let l=d;return l})();var oe=(l,d)=>d.numeroFila,se=(l,d)=>d.id;function de(l,d){if(l&1&&(e(0,"p",23),o(1),i(),e(2,"p",24),o(3),i()),l&2){let n,a,t=c(2);r(),x((n=t.selectedFile())==null?null:n.name),r(2),x(t.formatFileSize(((a=t.selectedFile())==null?null:a.size)||0))}}function ce(l,d){l&1&&(e(0,"p",25)(1,"span",26),o(2,"Click para seleccionar"),i(),o(3," o arrastra el archivo "),i(),e(4,"p",27),o(5,"Solo archivos TXT"),i())}function me(l,d){l&1&&(_(),e(0,"svg",28),h(1,"circle",29)(2,"path",30),i(),o(3," Procesando... "))}function ue(l,d){l&1&&(_(),e(0,"svg",7),h(1,"path",31),i(),o(2," Procesar Archivo "))}function ge(l,d){if(l&1&&(e(0,"div",22)(1,"p",32),o(2),i()()),l&2){let n=c(2);r(2),x(n.errorMessage())}}function pe(l,d){if(l&1&&(e(0,"span",41),o(1),i()),l&2){let n,a=c(4);r(),C("(",(n=a.resultado())==null?null:n.duplicadosOmitidos," duplicados)")}}function xe(l,d){if(l&1&&(e(0,"div",33),_(),e(1,"svg",36),h(2,"path",37),i(),v(),e(3,"div")(4,"p",38),o(5,"Archivo guardado correctamente"),i(),e(6,"p",39),o(7," ID: "),e(8,"span",40),o(9),i(),o(10),m(11,pe,2,1,"span",41),i()()()),l&2){let n,a,t,s=c(3);r(9),x((n=s.resultado())==null?null:n.archivoId),r(),C(" - ",(a=s.resultado())==null?null:a.registrosProcesados," registros "),r(),u((t=s.resultado())!=null&&t.duplicadosOmitidos&&s.resultado().duplicadosOmitidos>0?11:-1)}}function _e(l,d){if(l&1&&(e(0,"div",34),_(),e(1,"svg",42),h(2,"path",43),i(),v(),e(3,"div")(4,"p",44),o(5,"Archivo ya procesado"),i(),e(6,"p",45),o(7),i()()()),l&2){let n,a=c(3);r(7),C("",(n=a.resultado())==null?null:n.duplicadosOmitidos," registros ya existen")}}function he(l,d){if(l&1&&(e(0,"tr",55)(1,"td",56),o(2),i(),e(3,"td",57),o(4),i(),e(5,"td",58),o(6),i(),e(7,"td",57),o(8),i(),e(9,"td",57),o(10),i(),e(11,"td",57),o(12),i(),e(13,"td",57),o(14),i()()),l&2){let n=d.$implicit,a=c(4);r(2),x(n.documento||n.codigoDepositante),r(2),x(n.fechaPago),r(2),C("S/ ",a.formatMonto(n.montoPagado)),r(2),x(n.numeroOperacion),r(2),x(n.sucursal),r(2),x(n.terminal),r(2),x(n.agencia)}}function be(l,d){if(l&1&&(e(0,"div",35)(1,"div",46)(2,"h2",47),o(3,"Detalle de Pagos"),i(),e(4,"span",48),o(5),i()(),e(6,"div",49)(7,"table",50)(8,"thead",51)(9,"tr")(10,"th",52),o(11,"Documento"),i(),e(12,"th",52),o(13,"Fecha"),i(),e(14,"th",53),o(15,"Monto"),i(),e(16,"th",52),o(17,"Nro. Op."),i(),e(18,"th",52),o(19,"Sucursal"),i(),e(20,"th",52),o(21,"Terminal"),i(),e(22,"th",52),o(23,"Agencia"),i()()(),e(24,"tbody",54),O(25,he,15,7,"tr",55,oe),i()()()()),l&2){let n,a,t=c(3);r(5),C("",(n=t.resultado())==null||n.detalles==null?null:n.detalles.length," registros"),r(20),A((a=t.resultado())==null?null:a.detalles)}}function fe(l,d){if(l&1&&(m(0,xe,12,3,"div",33),m(1,_e,8,1,"div",34),m(2,be,27,1,"div",35)),l&2){let n,a,t,s=c(2);u((n=s.resultado())!=null&&n.exitoso&&((n=s.resultado())!=null&&n.archivoId)?0:-1),r(),u(!((a=s.resultado())!=null&&a.exitoso)&&((a=s.resultado())!=null&&a.duplicadosOmitidos)&&s.resultado().duplicadosOmitidos>0?1:-1),r(),u((t=s.resultado())!=null&&t.detalles&&s.resultado().detalles.length>0?2:-1)}}function ve(l,d){if(l&1){let n=k();e(0,"div",12)(1,"h2",13),o(2," Cargar Archivo BCP (formato CREP) "),i(),e(3,"div",14)(4,"div",15)(5,"label",16)(6,"div",17),_(),e(7,"svg",18),h(8,"path",19),i(),m(9,de,4,2)(10,ce,6,0),i(),v(),e(11,"input",20),f("change",function(t){g(n);let s=c();return p(s.onFileSelected(t))}),i()()(),e(12,"button",21),f("click",function(){g(n);let t=c();return p(t.procesarArchivo())}),m(13,me,4,0)(14,ue,3,0),i()(),m(15,ge,3,1,"div",22),i(),m(16,fe,3,3)}if(l&2){let n=c();r(9),u(n.selectedFile()?9:10),r(3),w("disabled",!n.selectedFile()||n.isLoading()),r(),u(n.isLoading()?13:14),r(2),u(n.errorMessage()?15:-1),r(),u(n.resultado()?16:-1)}}function Ce(l,d){if(l&1){let n=k();e(0,"button",110),f("click",function(){g(n);let t=c(3);return p(t.cancelarEdicion())}),o(1," Cancelar "),i()}}function Pe(l,d){if(l&1&&(_(),e(0,"svg",28),h(1,"circle",29)(2,"path",111),i(),o(3)),l&2){let n=c(3);r(3),C(" ",n.editingPago()?"Actualizando...":"Guardando..."," ")}}function Se(l,d){if(l&1&&(_(),e(0,"svg",7),h(1,"path",112),i(),o(2)),l&2){let n=c(3);r(2),C(" ",n.editingPago()?"Actualizar Pago":"Registrar Pago"," ")}}function Me(l,d){if(l&1&&(e(0,"p",39),o(1," ID: "),e(2,"span",40),o(3),i(),o(4),i()),l&2){let n,a,t=c(5);r(3),x((n=t.resultadoManual())==null?null:n.pagoId),r(),L(" - Doc: ",(a=t.resultadoManual())==null?null:a.documento," - S/ ",t.formatMonto((a=t.resultadoManual())==null?null:a.monto)," ")}}function Ee(l,d){if(l&1&&(_(),e(0,"svg",114),h(1,"path",37),i(),v(),e(2,"div")(3,"p",38),o(4),i(),m(5,Me,5,3,"p",39),i()),l&2){let n,a,t=c(4);r(4),x((n=t.resultadoManual())==null?null:n.mensaje),r(),u((a=t.resultadoManual())!=null&&a.pagoId?5:-1)}}function ke(l,d){if(l&1&&(_(),e(0,"svg",115),h(1,"path",116),i(),v(),e(2,"p",117),o(3),i()),l&2){let n,a=c(4);r(3),x((n=a.resultadoManual())==null?null:n.mensaje)}}function we(l,d){if(l&1&&(e(0,"div",113),m(1,Ee,6,2)(2,ke,4,1),i()),l&2){let n,a,t=c(3);B((n=t.resultadoManual())!=null&&n.exitoso?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),r(),u((a=t.resultadoManual())!=null&&a.exitoso?1:2)}}function Be(l,d){if(l&1){let n=k();e(0,"div",66)(1,"form",94),f("ngSubmit",function(){g(n);let t=c(2);return p(t.editingPago()?t.actualizarPago():t.registrarPagoManual())}),e(2,"div",95)(3,"div")(4,"label",96),o(5," Documento (DNI) "),e(6,"span",97),o(7,"*"),i()(),e(8,"input",98),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.documento,t)||(s.pagoManual.documento=t),p(t)}),i()(),e(9,"div")(10,"label",96),o(11," Fecha de Pago "),e(12,"span",97),o(13,"*"),i()(),e(14,"input",99),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.fechaPago,t)||(s.pagoManual.fechaPago=t),p(t)}),i()(),e(15,"div")(16,"label",96),o(17," Monto (S/) "),e(18,"span",97),o(19,"*"),i()(),e(20,"input",100),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.monto,t)||(s.pagoManual.monto=t),p(t)}),i()(),e(21,"div")(22,"label",96),o(23," Nro. Operaci\xF3n "),e(24,"span",97),o(25,"*"),i()(),e(26,"input",101),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.numeroOperacion,t)||(s.pagoManual.numeroOperacion=t),p(t)}),i()(),e(27,"div")(28,"label",96),o(29," Banco "),e(30,"span",97),o(31,"*"),i()(),e(32,"select",102),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.banco,t)||(s.pagoManual.banco=t),p(t)}),e(33,"option",74),o(34,"BCP - Banco de Cr\xE9dito"),i(),e(35,"option",75),o(36,"Interbank"),i(),e(37,"option",76),o(38,"BBVA Continental"),i(),e(39,"option",77),o(40,"Scotiabank"),i(),e(41,"option",78),o(42,"BanBif"),i(),e(43,"option",79),o(44,"Banco de la Naci\xF3n"),i(),e(45,"option",80),o(46,"Otro"),i()()(),e(47,"div")(48,"label",96),o(49," Medio de Atenci\xF3n "),i(),e(50,"select",103),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.medioAtencion,t)||(s.pagoManual.medioAtencion=t),p(t)}),e(51,"option",73),o(52,"Seleccionar..."),i(),e(53,"option",81),o(54,"Ventanilla"),i(),e(55,"option",82),o(56,"Agente BCP"),i(),e(57,"option",83),o(58,"App M\xF3vil"),i(),e(59,"option",84),o(60,"Banca por Internet"),i(),e(61,"option",80),o(62,"Otro"),i()()(),e(63,"div",104)(64,"label",96),o(65," Observaciones "),i(),e(66,"textarea",105),E("ngModelChange",function(t){g(n);let s=c(2);return M(s.pagoManual.observaciones,t)||(s.pagoManual.observaciones=t),p(t)}),i()()(),e(67,"div",106),m(68,Ce,2,0,"button",107),e(69,"button",108),m(70,Pe,4,1)(71,Se,3,1),i()()(),m(72,we,3,3,"div",109),i()}if(l&2){let n=c(2);r(8),S("ngModel",n.pagoManual.documento),r(6),S("ngModel",n.pagoManual.fechaPago),r(6),S("ngModel",n.pagoManual.monto),r(6),S("ngModel",n.pagoManual.numeroOperacion),r(6),S("ngModel",n.pagoManual.banco),r(18),S("ngModel",n.pagoManual.medioAtencion),r(16),S("ngModel",n.pagoManual.observaciones),r(2),u(n.editingPago()?68:-1),r(),B(n.editingPago()?"bg-amber-600 hover:bg-amber-700":"bg-green-600 hover:bg-green-700"),w("disabled",n.isLoadingManual()||!n.pagoManual.documento||!n.pagoManual.fechaPago||!n.pagoManual.monto||!n.pagoManual.numeroOperacion),r(),u(n.isLoadingManual()?70:71),r(2),u(n.resultadoManual()?72:-1)}}function ye(l,d){l&1&&(e(0,"div",92),_(),e(1,"svg",118),h(2,"circle",29)(3,"path",111),i(),v(),e(4,"p",119),o(5,"Cargando..."),i()())}function Te(l,d){l&1&&(e(0,"div",93),_(),e(1,"svg",120),h(2,"path",8),i(),o(3," No hay pagos manuales registrados "),i())}function Ve(l,d){l&1&&(e(0,"span",125),o(1," Conciliado "),i())}function Oe(l,d){l&1&&(e(0,"span",126),o(1," Procesado "),i())}function Ae(l,d){l&1&&(e(0,"span",127),o(1," Pendiente "),i())}function Le(l,d){if(l&1){let n=k();e(0,"tr",55)(1,"td",56),o(2),i(),e(3,"td",123),o(4),i(),e(5,"td",58),o(6),i(),e(7,"td",123),o(8),i(),e(9,"td",123),o(10),i(),e(11,"td",123),o(12),i(),e(13,"td",124),m(14,Ve,2,0,"span",125)(15,Oe,2,0,"span",126)(16,Ae,2,0,"span",127),i(),e(17,"td",124)(18,"div",128)(19,"button",129),f("click",function(){let t=g(n).$implicit,s=c(3);return p(s.editarPago(t))}),_(),e(20,"svg",88),h(21,"path",9),i()(),v(),e(22,"button",130),f("click",function(){let t=g(n).$implicit,s=c(3);return p(s.confirmarEliminar(t))}),_(),e(23,"svg",88),h(24,"path",131),i()()()()()}if(l&2){let n=d.$implicit,a=c(3);r(2),x(n.documento),r(2),x(n.fechaBanco),r(2),C("S/ ",a.formatMonto(n.montoBanco)),r(2),x(n.numeroOperacion),r(2),x(n.banco),r(2),x(n.medioAtencion||"-"),r(2),u(n.cuotaAplicadaId?14:n.procesado?15:16),r(8),w("disabled",n.cuotaAplicadaId!==null&&n.cuotaAplicadaId!==void 0)}}function Ie(l,d){if(l&1){let n=k();e(0,"div",122)(1,"button",132),f("click",function(){g(n);let t=c(3);return p(t.cambiarPagina(t.currentPage()-1))}),o(2," Anterior "),i(),e(3,"span",133),o(4),i(),e(5,"button",132),f("click",function(){g(n);let t=c(3);return p(t.cambiarPagina(t.currentPage()+1))}),o(6," Siguiente "),i()()}if(l&2){let n=c(3);r(),w("disabled",n.currentPage()<=1),r(3),L(" P\xE1gina ",n.currentPage()," de ",n.totalPages()," "),r(),w("disabled",n.currentPage()>=n.totalPages())}}function De(l,d){if(l&1&&(e(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th",52),o(5,"Documento"),i(),e(6,"th",52),o(7,"Fecha"),i(),e(8,"th",53),o(9,"Monto"),i(),e(10,"th",52),o(11,"Nro. Op."),i(),e(12,"th",52),o(13,"Banco"),i(),e(14,"th",52),o(15,"Medio"),i(),e(16,"th",121),o(17,"Estado"),i(),e(18,"th",121),o(19,"Acciones"),i()()(),e(20,"tbody",54),O(21,Le,25,8,"tr",55,se),i()()(),m(23,Ie,7,4,"div",122)),l&2){let n=c(2);r(21),A(n.pagosManuales()),r(2),u(n.totalPages()>1?23:-1)}}function Fe(l,d){if(l&1){let n=k();e(0,"div",59)(1,"button",60),f("click",function(){g(n);let t=c();return p(t.toggleFormulario())}),e(2,"div",61)(3,"div",62),_(),e(4,"svg",7),h(5,"path",9),i()(),v(),e(6,"div",63)(7,"h2",47),o(8),i(),e(9,"p",48),o(10),i()()(),_(),e(11,"svg",64),h(12,"path",65),i()(),m(13,Be,73,13,"div",66),i(),v(),e(14,"div",35)(15,"div",67)(16,"h2",13),o(17," Historial de Pagos Manuales "),i(),e(18,"div",68)(19,"div")(20,"label",69),o(21,"Documento"),i(),e(22,"input",70),E("ngModelChange",function(t){g(n);let s=c();return M(s.filtros.documento,t)||(s.filtros.documento=t),p(t)}),i()(),e(23,"div")(24,"label",69),o(25,"Desde"),i(),e(26,"input",71),E("ngModelChange",function(t){g(n);let s=c();return M(s.filtros.fechaDesde,t)||(s.filtros.fechaDesde=t),p(t)}),i()(),e(27,"div")(28,"label",69),o(29,"Hasta"),i(),e(30,"input",71),E("ngModelChange",function(t){g(n);let s=c();return M(s.filtros.fechaHasta,t)||(s.filtros.fechaHasta=t),p(t)}),i()(),e(31,"div")(32,"label",69),o(33,"Banco"),i(),e(34,"select",72),E("ngModelChange",function(t){g(n);let s=c();return M(s.filtros.banco,t)||(s.filtros.banco=t),p(t)}),e(35,"option",73),o(36,"Todos"),i(),e(37,"option",74),o(38,"BCP"),i(),e(39,"option",75),o(40,"Interbank"),i(),e(41,"option",76),o(42,"BBVA"),i(),e(43,"option",77),o(44,"Scotiabank"),i(),e(45,"option",78),o(46,"BanBif"),i(),e(47,"option",79),o(48,"Banco de la Naci\xF3n"),i(),e(49,"option",80),o(50,"Otro"),i()()(),e(51,"div")(52,"label",69),o(53,"Medio"),i(),e(54,"select",72),E("ngModelChange",function(t){g(n);let s=c();return M(s.filtros.medioAtencion,t)||(s.filtros.medioAtencion=t),p(t)}),e(55,"option",73),o(56,"Todos"),i(),e(57,"option",81),o(58,"Ventanilla"),i(),e(59,"option",82),o(60,"Agente BCP"),i(),e(61,"option",83),o(62,"App M\xF3vil"),i(),e(63,"option",84),o(64,"Banca por Internet"),i(),e(65,"option",85),o(66,"Manual"),i(),e(67,"option",80),o(68,"Otro"),i()()()(),e(69,"div",86)(70,"button",87),f("click",function(){g(n);let t=c();return p(t.cargarPagosManuales())}),_(),e(71,"svg",88),h(72,"path",89),i(),o(73," Buscar "),i(),v(),e(74,"button",90),f("click",function(){g(n);let t=c();return p(t.limpiarFiltros())}),o(75," Limpiar "),i()()(),e(76,"div",91),o(77),i(),m(78,ye,6,0,"div",92)(79,Te,4,0,"div",93)(80,De,24,1),i()}if(l&2){let n=c();r(3),B(n.editingPago()?"bg-amber-100 dark:bg-amber-900/30":"bg-blue-100 dark:bg-blue-900/30"),r(),B(n.editingPago()?"text-amber-600":"text-blue-600"),r(4),C(" ",n.editingPago()?"Editar Pago Manual":"Registrar Pago Manual"," "),r(2),C(" ",n.formExpanded()?"Clic para minimizar":"Clic para expandir"," "),r(),H("rotate-180",n.formExpanded()),r(2),u(n.formExpanded()?13:-1),r(9),S("ngModel",n.filtros.documento),r(4),S("ngModel",n.filtros.fechaDesde),r(4),S("ngModel",n.filtros.fechaHasta),r(4),S("ngModel",n.filtros.banco),r(20),S("ngModel",n.filtros.medioAtencion),r(23),L(" Mostrando ",n.pagosManuales().length," de ",n.totalRegistros()," registros "),r(),u(n.isLoadingList()?78:n.pagosManuales().length===0?79:80)}}function Ne(l,d){if(l&1&&(e(0,"p",140),o(1),i(),e(2,"p",24),o(3),i()),l&2){let n,a,t=c(2);r(),x((n=t.selectedFileOh())==null?null:n.name),r(2),x(t.formatFileSize(((a=t.selectedFileOh())==null?null:a.size)||0))}}function He(l,d){l&1&&(e(0,"p",25)(1,"span",26),o(2,"Click para seleccionar"),i(),o(3," o arrastra el archivo "),i(),e(4,"p",27),o(5,"Archivos Excel (.xlsx, .xls)"),i())}function We(l,d){l&1&&(_(),e(0,"svg",28),h(1,"circle",29)(2,"path",30),i(),o(3," Procesando... "))}function je(l,d){l&1&&(_(),e(0,"svg",7),h(1,"path",31),i(),o(2," Procesar Archivo "))}function ze(l,d){if(l&1&&(e(0,"div",22)(1,"p",32),o(2),i()()),l&2){let n=c(2);r(2),x(n.errorMessageOh())}}function Ge(l,d){if(l&1&&(e(0,"span",41),o(1),i()),l&2){let n,a=c(4);r(),C("(",(n=a.resultadoOh())==null?null:n.duplicadosOmitidos," duplicados omitidos)")}}function Re(l,d){if(l&1&&(e(0,"div",33),_(),e(1,"svg",36),h(2,"path",37),i(),v(),e(3,"div")(4,"p",38),o(5,"Archivo procesado correctamente"),i(),e(6,"p",39),o(7," ID: "),e(8,"span",40),o(9),i(),o(10),m(11,Ge,2,1,"span",41),i()()()),l&2){let n,a,t,s=c(3);r(9),x((n=s.resultadoOh())==null?null:n.archivoId),r(),C(" - ",(a=s.resultadoOh())==null?null:a.registrosProcesados," registros "),r(),u((t=s.resultadoOh())!=null&&t.duplicadosOmitidos&&s.resultadoOh().duplicadosOmitidos>0?11:-1)}}function Ue(l,d){if(l&1&&(e(0,"div",34),_(),e(1,"svg",42),h(2,"path",43),i(),v(),e(3,"div")(4,"p",44),o(5,"Todos los registros ya existen"),i(),e(6,"p",45),o(7),i()()()),l&2){let n,a=c(3);r(7),C("",(n=a.resultadoOh())==null?null:n.duplicadosOmitidos," registros duplicados")}}function qe(l,d){if(l&1&&(e(0,"tr",55)(1,"td",56),o(2),i(),e(3,"td",123),o(4),i(),e(5,"td",123),o(6),i(),e(7,"td",58),o(8),i(),e(9,"td",123),o(10),i()()),l&2){let n=d.$implicit,a=c(4);r(2),x(n.documento),r(2),x(n.codigoDepositante),r(2),x(n.fechaPago),r(2),C("S/ ",a.formatMonto(n.montoPagado)),r(2),x(n.medioAtencion)}}function Ke(l,d){if(l&1&&(e(0,"div",35)(1,"div",46)(2,"h2",47),o(3,"Detalle de Pagos OH"),i(),e(4,"span",48),o(5),i()(),e(6,"div",49)(7,"table",50)(8,"thead",141)(9,"tr")(10,"th",52),o(11,"DNI"),i(),e(12,"th",52),o(13,"Cuenta"),i(),e(14,"th",52),o(15,"Fecha"),i(),e(16,"th",53),o(17,"Monto"),i(),e(18,"th",52),o(19,"Canal"),i()()(),e(20,"tbody",54),O(21,qe,11,5,"tr",55,oe),i()()()()),l&2){let n,a,t=c(3);r(5),C("",(n=t.resultadoOh())==null||n.detalles==null?null:n.detalles.length," registros"),r(16),A((a=t.resultadoOh())==null?null:a.detalles)}}function Xe(l,d){if(l&1&&(m(0,Re,12,3,"div",33),m(1,Ue,8,1,"div",34),m(2,Ke,23,1,"div",35)),l&2){let n,a,t,s=c(2);u((n=s.resultadoOh())!=null&&n.exitoso&&((n=s.resultadoOh())!=null&&n.archivoId)?0:-1),r(),u(!((a=s.resultadoOh())!=null&&a.exitoso)&&((a=s.resultadoOh())!=null&&a.duplicadosOmitidos)&&s.resultadoOh().duplicadosOmitidos>0?1:-1),r(),u((t=s.resultadoOh())!=null&&t.detalles&&s.resultadoOh().detalles.length>0?2:-1)}}function $e(l,d){if(l&1){let n=k();e(0,"div",12)(1,"h2",134)(2,"span",135),o(3," Financiera OH "),i(),o(4," Cargar Archivo Excel de Pagos "),i(),e(5,"div",14)(6,"div",15)(7,"label",136)(8,"div",17),_(),e(9,"svg",137),h(10,"path",10),i(),m(11,Ne,4,2)(12,He,6,0),i(),v(),e(13,"input",138),f("change",function(t){g(n);let s=c();return p(s.onFileSelectedOh(t))}),i()()(),e(14,"button",139),f("click",function(){g(n);let t=c();return p(t.procesarArchivoOh())}),m(15,We,4,0)(16,je,3,0),i()(),m(17,ze,3,1,"div",22),i(),m(18,Xe,3,3)}if(l&2){let n=c();r(11),u(n.selectedFileOh()?11:12),r(3),w("disabled",!n.selectedFileOh()||n.isLoadingOh()),r(),u(n.isLoadingOh()?15:16),r(2),u(n.errorMessageOh()?17:-1),r(),u(n.resultadoOh()?18:-1)}}function Je(l,d){l&1&&(_(),e(0,"svg",150),h(1,"circle",29)(2,"path",111),i())}function Qe(l,d){if(l&1){let n=k();e(0,"div",11)(1,"div",142)(2,"div",143)(3,"div",144),_(),e(4,"svg",145),h(5,"path",43),i()(),v(),e(6,"h3",47),o(7,"Confirmar eliminaci\xF3n"),i()(),e(8,"p",146),o(9," \xBFEst\xE1s seguro de eliminar el pago de "),e(10,"strong"),o(11),i(),o(12," por "),e(13,"strong"),o(14),i(),o(15,"? Esta acci\xF3n no se puede deshacer. "),i(),e(16,"div",147)(17,"button",148),f("click",function(){g(n);let t=c();return p(t.cancelarEliminar())}),o(18," Cancelar "),i(),e(19,"button",149),f("click",function(){g(n);let t=c();return p(t.eliminarPago())}),m(20,Je,3,0,":svg:svg",150),o(21," Eliminar "),i()()()()}if(l&2){let n,a,t=c();r(11),x((n=t.pagoAEliminar())==null?null:n.documento),r(3),C("S/ ",t.formatMonto((a=t.pagoAEliminar())==null?null:a.montoBanco)),r(5),w("disabled",t.isDeleting()),r(),u(t.isDeleting()?20:-1)}}var lt=(()=>{let d=class d{constructor(a){this.bcpService=a,this.activeTab=b("masiva"),this.selectedFile=b(null),this.isLoading=b(!1),this.errorMessage=b(null),this.resultado=b(null),this.selectedFileOh=b(null),this.isLoadingOh=b(!1),this.errorMessageOh=b(null),this.resultadoOh=b(null),this.pagoManual={documento:"",fechaPago:"",monto:0,numeroOperacion:"",medioAtencion:"",observaciones:"",banco:"BCP"},this.isLoadingManual=b(!1),this.resultadoManual=b(null),this.editingPago=b(null),this.formExpanded=b(!1),this.pagosManuales=b([]),this.isLoadingList=b(!1),this.totalRegistros=b(0),this.currentPage=b(1),this.totalPages=b(1),this.pageSize=25,this.filtros={documento:"",banco:"",medioAtencion:"",fechaDesde:"",fechaHasta:""},this.showDeleteModal=b(!1),this.pagoAEliminar=b(null),this.isDeleting=b(!1)}ngOnInit(){this.activeTab()==="manual"&&this.cargarPagosManuales()}onFileSelected(a){let t=a.target;if(t.files&&t.files.length>0){let s=t.files[0];if(!s.name.toLowerCase().endsWith(".txt")){this.errorMessage.set("Por favor seleccione un archivo TXT"),this.selectedFile.set(null);return}this.selectedFile.set(s),this.errorMessage.set(null),this.resultado.set(null)}}procesarArchivo(){let a=this.selectedFile();a&&(this.isLoading.set(!0),this.errorMessage.set(null),this.bcpService.cargarArchivo(a).subscribe({next:t=>{this.resultado.set(t),t.exitoso||this.errorMessage.set(t.mensaje),this.isLoading.set(!1)},error:t=>{this.errorMessage.set("Error: "+(t.error?.message||t.message)),this.isLoading.set(!1)}}))}onFileSelectedOh(a){let t=a.target;if(t.files&&t.files.length>0){let s=t.files[0],P=s.name.toLowerCase();if(!P.endsWith(".xlsx")&&!P.endsWith(".xls")){this.errorMessageOh.set("Por favor seleccione un archivo Excel (.xlsx o .xls)"),this.selectedFileOh.set(null);return}this.selectedFileOh.set(s),this.errorMessageOh.set(null),this.resultadoOh.set(null)}}procesarArchivoOh(){let a=this.selectedFileOh();a&&(this.isLoadingOh.set(!0),this.errorMessageOh.set(null),this.bcpService.cargarArchivoOh(a).subscribe({next:t=>{this.resultadoOh.set(t),t.exitoso||this.errorMessageOh.set(t.mensaje),this.isLoadingOh.set(!1)},error:t=>{this.errorMessageOh.set("Error: "+(t.error?.message||t.message)),this.isLoadingOh.set(!1)}}))}toggleFormulario(){this.formExpanded.set(!this.formExpanded())}registrarPagoManual(){if(!this.pagoManual.documento||!this.pagoManual.fechaPago||!this.pagoManual.monto||!this.pagoManual.numeroOperacion)return;this.isLoadingManual.set(!0),this.resultadoManual.set(null);let a=this.pagoManual.fechaPago.split("-"),t=`${a[2]}/${a[1]}/${a[0]}`,s=V(T({},this.pagoManual),{fechaPago:t});this.bcpService.registrarPagoManual(s).subscribe({next:P=>{this.resultadoManual.set(P),P.exitoso&&(this.limpiarFormulario(),this.cargarPagosManuales(),this.formExpanded.set(!1)),this.isLoadingManual.set(!1)},error:P=>{this.resultadoManual.set({exitoso:!1,mensaje:P.error?.mensaje||P.message||"Error al registrar pago"}),this.isLoadingManual.set(!1)}})}cargarPagosManuales(){this.isLoadingList.set(!0);let a=V(T({},this.filtros),{page:this.currentPage(),size:this.pageSize});a.documento||delete a.documento,a.banco||delete a.banco,a.medioAtencion||delete a.medioAtencion,a.fechaDesde||delete a.fechaDesde,a.fechaHasta||delete a.fechaHasta,this.bcpService.listarPagosManuales(a).subscribe({next:t=>{this.pagosManuales.set(t.data),this.totalRegistros.set(t.total),this.totalPages.set(t.totalPages),this.isLoadingList.set(!1)},error:t=>{console.error("Error cargando pagos manuales:",t),this.isLoadingList.set(!1)}})}limpiarFiltros(){this.filtros={documento:"",banco:"",medioAtencion:"",fechaDesde:"",fechaHasta:""},this.currentPage.set(1),this.cargarPagosManuales()}cambiarPagina(a){a>=1&&a<=this.totalPages()&&(this.currentPage.set(a),this.cargarPagosManuales())}editarPago(a){this.editingPago.set(a),this.formExpanded.set(!0);let t="";if(a.fechaBanco){let s=a.fechaBanco.split("/");s.length===3&&(t=`${s[2]}-${s[1]}-${s[0]}`)}this.pagoManual={documento:a.documento,fechaPago:t,monto:a.montoBanco,numeroOperacion:a.numeroOperacion,banco:a.banco||"BCP",medioAtencion:a.medioAtencion||"",observaciones:a.referencia||""},this.resultadoManual.set(null),window.scrollTo({top:0,behavior:"smooth"})}actualizarPago(){let a=this.editingPago();if(!a)return;this.isLoadingManual.set(!0),this.resultadoManual.set(null);let t=this.pagoManual.fechaPago.split("-"),s=`${t[2]}/${t[1]}/${t[0]}`,P=V(T({},this.pagoManual),{fechaPago:s});this.bcpService.actualizarPagoManual(a.id,P).subscribe({next:y=>{this.resultadoManual.set(y),y.exitoso&&(this.cancelarEdicion(),this.cargarPagosManuales()),this.isLoadingManual.set(!1)},error:y=>{this.resultadoManual.set({exitoso:!1,mensaje:y.error?.mensaje||y.message||"Error al actualizar pago"}),this.isLoadingManual.set(!1)}})}cancelarEdicion(){this.editingPago.set(null),this.limpiarFormulario(),this.formExpanded.set(!1)}limpiarFormulario(){this.pagoManual={documento:"",fechaPago:"",monto:0,numeroOperacion:"",medioAtencion:"",observaciones:"",banco:"BCP"}}confirmarEliminar(a){this.pagoAEliminar.set(a),this.showDeleteModal.set(!0)}cancelarEliminar(){this.pagoAEliminar.set(null),this.showDeleteModal.set(!1)}eliminarPago(){let a=this.pagoAEliminar();a&&(this.isDeleting.set(!0),this.bcpService.eliminarPagoManual(a.id).subscribe({next:t=>{t.exitoso?(this.cargarPagosManuales(),this.resultadoManual.set({exitoso:!0,mensaje:"Pago eliminado correctamente"})):this.resultadoManual.set(t),this.isDeleting.set(!1),this.cancelarEliminar()},error:t=>{this.resultadoManual.set({exitoso:!1,mensaje:t.error?.mensaje||t.message||"Error al eliminar pago"}),this.isDeleting.set(!1),this.cancelarEliminar()}}))}formatFileSize(a){if(a===0)return"0 Bytes";let t=1024,s=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,P)).toFixed(2))+" "+s[P]}formatMonto(a){return a==null?"0.00":a.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})}};d.\u0275fac=function(t){return new(t||d)(F(ae))},d.\u0275cmp=N({type:d,selectors:[["app-pagos-bancarios"]],decls:25,vars:10,consts:[[1,"min-h-screen","bg-slate-50","dark:bg-slate-900","p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-slate-800","dark:text-white"],[1,"text-slate-600","dark:text-slate-400"],[1,"border-b","border-slate-200","dark:border-slate-700"],[1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","transition-colors","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"fixed","inset-0","bg-black/50","flex","items-center","justify-center","z-50"],[1,"bg-white","dark:bg-slate-800","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700","p-6","mb-6"],[1,"text-lg","font-semibold","text-slate-800","dark:text-white","mb-4"],[1,"flex","flex-col","sm:flex-row","gap-4","items-start","sm:items-center"],[1,"flex-1"],["for","file-upload",1,"flex","flex-col","items-center","justify-center","w-full","h-32","border-2","border-dashed","rounded-lg","cursor-pointer","border-slate-300","dark:border-slate-600","hover:border-blue-400","dark:hover:border-blue-500","bg-slate-50","dark:bg-slate-700/50","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","mb-3","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["id","file-upload","type","file","accept",".txt",1,"hidden",3,"change"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","font-medium","hover:bg-blue-700","disabled:bg-slate-400","disabled:cursor-not-allowed","transition-colors","flex","items-center","gap-2",3,"click","disabled"],[1,"mt-4","p-4","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","rounded-lg"],[1,"text-sm","text-blue-600","dark:text-blue-400","font-medium"],[1,"text-xs","text-slate-500"],[1,"mb-2","text-sm","text-slate-500","dark:text-slate-400"],[1,"font-semibold"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],[1,"text-red-700","dark:text-red-400"],[1,"mb-6","p-4","bg-green-50","dark:bg-green-900/20","border","border-green-200","dark:border-green-800","rounded-lg","flex","items-center","gap-3"],[1,"mb-6","p-4","bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","flex","items-center","gap-3"],[1,"bg-white","dark:bg-slate-800","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700","overflow-hidden"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-green-800","dark:text-green-300"],[1,"text-sm","text-green-700","dark:text-green-400"],[1,"font-mono","font-bold"],[1,"text-amber-600","dark:text-amber-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-amber-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"font-medium","text-amber-800","dark:text-amber-300"],[1,"text-sm","text-amber-700","dark:text-amber-400"],[1,"p-4","border-b","border-slate-200","dark:border-slate-700","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-slate-800","dark:text-white"],[1,"text-sm","text-slate-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-200","dark:divide-slate-700"],[1,"bg-slate-50","dark:bg-slate-700/50"],[1,"px-3","py-3","text-left","text-xs","font-medium","text-slate-500","uppercase"],[1,"px-3","py-3","text-right","text-xs","font-medium","text-slate-500","uppercase"],[1,"divide-y","divide-slate-200","dark:divide-slate-700"],[1,"hover:bg-slate-50","dark:hover:bg-slate-700/50"],[1,"px-3","py-2","text-sm","font-medium","text-slate-800","dark:text-white"],[1,"px-3","py-2","text-sm","text-slate-600"],[1,"px-3","py-2","text-sm","font-medium","text-green-600","text-right"],[1,"bg-white","dark:bg-slate-800","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700","mb-6","overflow-hidden"],["type","button",1,"w-full","px-6","py-4","flex","items-center","justify-between","hover:bg-slate-50","dark:hover:bg-slate-700/50","transition-colors",3,"click"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg"],[1,"text-left"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-slate-400","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"px-6","pb-6","border-t","border-slate-200","dark:border-slate-700"],[1,"p-4","border-b","border-slate-200","dark:border-slate-700"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4"],[1,"block","text-xs","font-medium","text-slate-500","mb-1"],["type","text","placeholder","Buscar DNI...",1,"w-full","px-3","py-2","text-sm","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white",3,"ngModelChange","ngModel"],["type","date",1,"w-full","px-3","py-2","text-sm","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","text-sm","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white",3,"ngModelChange","ngModel"],["value",""],["value","BCP"],["value","INTERBANK"],["value","BBVA"],["value","SCOTIABANK"],["value","BANBIF"],["value","BANCO DE LA NACION"],["value","OTRO"],["value","VENTANILLA"],["value","AGENTE BCP"],["value","APP"],["value","BANCA POR INTERNET"],["value","MANUAL"],[1,"flex","gap-2","mt-4"],[1,"px-4","py-2","bg-blue-600","text-white","text-sm","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"px-4","py-2","border","border-slate-300","dark:border-slate-600","text-slate-600","dark:text-slate-300","text-sm","rounded-lg","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors",3,"click"],[1,"px-4","py-2","bg-slate-50","dark:bg-slate-700/30","border-b","border-slate-200","dark:border-slate-700","text-sm","text-slate-600","dark:text-slate-400"],[1,"p-8","text-center"],[1,"p-8","text-center","text-slate-500"],[1,"space-y-4","pt-4",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300","mb-1"],[1,"text-red-500"],["type","text","name","documento","required","","maxlength","8","placeholder","12345678",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","date","name","fechaPago","required","",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","number","name","monto","required","","min","0.01","step","0.01","placeholder","100.00",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","name","numeroOperacion","required","","placeholder","123456",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["name","banco","required","",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["name","medioAtencion",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"md:col-span-2","lg:col-span-3"],["name","observaciones","rows","2","placeholder","Notas adicionales...",1,"w-full","px-3","py-2","border","border-slate-300","dark:border-slate-600","rounded-lg","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3","pt-4"],["type","button",1,"px-4","py-2","border","border-slate-300","dark:border-slate-600","text-slate-700","dark:text-slate-300","rounded-lg","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors"],["type","submit",1,"px-6","py-2.5","text-white","rounded-lg","font-medium","disabled:bg-slate-400","disabled:cursor-not-allowed","transition-colors","flex","items-center","gap-2",3,"disabled"],[1,"mt-4","p-4","rounded-lg","flex","items-center","gap-3",3,"class"],["type","button",1,"px-4","py-2","border","border-slate-300","dark:border-slate-600","text-slate-700","dark:text-slate-300","rounded-lg","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors",3,"click"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z",1,"opacity-75"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-4","p-4","rounded-lg","flex","items-center","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-red-800","dark:text-red-300"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","mx-auto","text-blue-500"],[1,"mt-2","text-slate-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-3","text-slate-300"],[1,"px-3","py-3","text-center","text-xs","font-medium","text-slate-500","uppercase"],[1,"px-4","py-3","border-t","border-slate-200","dark:border-slate-700","flex","items-center","justify-between"],[1,"px-3","py-2","text-sm","text-slate-600","dark:text-slate-300"],[1,"px-3","py-2","text-center"],[1,"px-2","py-1","text-xs","font-medium","bg-green-100","text-green-700","dark:bg-green-900/30","dark:text-green-400","rounded-full"],[1,"px-2","py-1","text-xs","font-medium","bg-amber-100","text-amber-700","dark:bg-amber-900/30","dark:text-amber-400","rounded-full"],[1,"px-2","py-1","text-xs","font-medium","bg-slate-100","text-slate-600","dark:bg-slate-700","dark:text-slate-400","rounded-full"],[1,"flex","justify-center","gap-1"],["title","Editar",1,"p-1.5","text-blue-600","hover:bg-blue-50","dark:hover:bg-blue-900/30","rounded","transition-colors",3,"click"],["title","Eliminar",1,"p-1.5","text-red-600","hover:bg-red-50","dark:hover:bg-red-900/30","rounded","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"px-3","py-1.5","text-sm","border","border-slate-300","dark:border-slate-600","rounded","hover:bg-slate-100","dark:hover:bg-slate-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"text-sm","text-slate-600","dark:text-slate-400"],[1,"text-lg","font-semibold","text-slate-800","dark:text-white","mb-4","flex","items-center","gap-2"],[1,"px-2","py-1","bg-purple-100","dark:bg-purple-900/30","text-purple-700","dark:text-purple-300","text-xs","font-medium","rounded"],["for","file-upload-oh",1,"flex","flex-col","items-center","justify-center","w-full","h-32","border-2","border-dashed","rounded-lg","cursor-pointer","border-purple-300","dark:border-purple-600","hover:border-purple-400","dark:hover:border-purple-500","bg-purple-50","dark:bg-purple-900/20","hover:bg-purple-100","dark:hover:bg-purple-900/30","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","mb-3","text-purple-400"],["id","file-upload-oh","type","file","accept",".xlsx,.xls",1,"hidden",3,"change"],[1,"px-6","py-3","bg-purple-600","text-white","rounded-lg","font-medium","hover:bg-purple-700","disabled:bg-slate-400","disabled:cursor-not-allowed","transition-colors","flex","items-center","gap-2",3,"click","disabled"],[1,"text-sm","text-purple-600","dark:text-purple-400","font-medium"],[1,"bg-purple-50","dark:bg-purple-900/20"],[1,"bg-white","dark:bg-slate-800","rounded-xl","shadow-xl","max-w-md","w-full","mx-4","p-6"],[1,"flex","items-center","gap-3","mb-4"],[1,"p-2","bg-red-100","dark:bg-red-900/30","rounded-full"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],[1,"text-slate-600","dark:text-slate-400","mb-6"],[1,"flex","justify-end","gap-3"],[1,"px-4","py-2","border","border-slate-300","dark:border-slate-600","text-slate-700","dark:text-slate-300","rounded-lg","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors",3,"click"],[1,"px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","disabled:bg-red-400","transition-colors","flex","items-center","gap-2",3,"click","disabled"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"]],template:function(t,s){t&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),o(3," Pagos Bancarios "),i(),e(4,"p",3),o(5," Registra pagos bancarios de forma manual o masiva (BCP y Financiera OH) "),i()(),e(6,"div",1)(7,"div",4)(8,"nav",5)(9,"button",6),f("click",function(){return s.activeTab.set("masiva")}),_(),e(10,"svg",7),h(11,"path",8),i(),o(12," Carga Masiva "),i(),v(),e(13,"button",6),f("click",function(){return s.activeTab.set("manual"),s.cargarPagosManuales()}),_(),e(14,"svg",7),h(15,"path",9),i(),o(16," Ingreso Manual "),i(),v(),e(17,"button",6),f("click",function(){return s.activeTab.set("oh")}),_(),e(18,"svg",7),h(19,"path",10),i(),o(20," Carga OH "),i()()()(),m(21,ve,17,5),m(22,Fe,81,17),m(23,$e,19,5),m(24,Qe,22,4,"div",11),i()),t&2&&(r(9),B(s.activeTab()==="masiva"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 hover:border-slate-300"),r(4),B(s.activeTab()==="manual"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 hover:border-slate-300"),r(4),B(s.activeTab()==="oh"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 hover:border-slate-300"),r(4),u(s.activeTab()==="masiva"?21:-1),r(),u(s.activeTab()==="manual"?22:-1),r(),u(s.activeTab()==="oh"?23:-1),r(),u(s.showDeleteModal()?24:-1))},dependencies:[W,ne,$,Y,Z,R,J,Q,U,q,te,ie,ee,X,K],encapsulation:2});let l=d;return l})();export{lt as PagosBancariosPage};
