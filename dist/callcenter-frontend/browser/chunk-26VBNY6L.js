import{$ as n,C as i,V as s,W as r,da as o,gd as p,id as l,ld as d}from"./chunk-GC56KPP7.js";var H=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl=`${d.gatewayUrl}/admin/autodialer`}getHeaders(){let t=localStorage.getItem("token");return new p({"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""})}activar(t="admin",a="Activaci\xF3n desde panel"){return this.http.post(`${this.apiUrl}/activar`,{usuario:t,notas:a},{headers:this.getHeaders()})}desactivar(t="Desactivaci\xF3n desde panel"){return this.http.post(`${this.apiUrl}/desactivar`,{notas:t},{headers:this.getHeaders()})}toggle(t="admin"){return this.http.post(`${this.apiUrl}/toggle`,{usuario:t},{headers:this.getHeaders()})}getEstado(){return this.http.get(`${this.apiUrl}/estado`,{headers:this.getHeaders()})}getEstadisticas(t){let a=t?`${this.apiUrl}/estadisticas?campaignId=${t}`:`${this.apiUrl}/estadisticas`;return this.http.get(a,{headers:this.getHeaders()})}healthCheck(){return this.http.get(`${this.apiUrl}/health`,{headers:this.getHeaders()})}startStatsPolling(t){return i(5e3).pipe(s(0),r(()=>this.getEstadisticas(t)))}getAgentesMonitoreo(){return this.http.get(`${this.apiUrl}/agentes-monitoreo`,{headers:this.getHeaders()})}startAgentesPolling(){return i(3e3).pipe(s(0),r(()=>this.getAgentesMonitoreo()))}getLlamadasEnTiempoReal(){return this.http.get(`${this.apiUrl}/llamadas-tiempo-real`,{headers:this.getHeaders()})}getLlamadasEnTiempoRealByCampaign(t){return this.http.get(`${this.apiUrl}/llamadas-tiempo-real/${t}`,{headers:this.getHeaders()})}startLlamadasPolling(t){return i(2e3).pipe(s(0),r(()=>t?this.getLlamadasEnTiempoRealByCampaign(t):this.getLlamadasEnTiempoReal()))}};e.\u0275fac=function(a){return new(a||e)(o(l))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let h=e;return h})();export{H as a};
