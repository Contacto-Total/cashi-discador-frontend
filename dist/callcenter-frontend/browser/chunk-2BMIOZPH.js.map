{
  "version": 3,
  "sources": ["src/app/shared/components/custom-ui/custom-select/custom-select.component.ts", "src/app/shared/components/custom-ui/custom-select/custom-select.component.html", "src/app/shared/services/toast.service.ts"],
  "sourcesContent": ["import { Component, Input, Output, EventEmitter, forwardRef, HostListener, ElementRef, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { LucideAngularModule } from 'lucide-angular';\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: any;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-custom-select',\r\n  standalone: true,\r\n  imports: [CommonModule, LucideAngularModule],\r\n  templateUrl: './custom-select.component.html',\r\n  styleUrls: ['./custom-select.component.scss'],\r\n  host: {\r\n    '[class.compact]': 'compact'\r\n  },\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CustomSelectComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class CustomSelectComponent implements ControlValueAccessor {\r\n  @Input() options: SelectOption[] = [];\r\n  @Input() placeholder: string = 'Seleccionar...';\r\n  @Input() disabled: boolean = false;\r\n  @Input() compact: boolean = false;\r\n  @Output() selectionChange = new EventEmitter<any>();\r\n  @ViewChild('trigger', { read: ElementRef }) triggerRef!: ElementRef;\r\n\r\n  selectedValue: any = null;\r\n  isOpen: boolean = false;\r\n  dropdownPosition = { top: '0px', left: '0px', width: '0px' };\r\n\r\n  private onChange: (value: any) => void = () => {};\r\n  private onTouched: () => void = () => {};\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: MouseEvent): void {\r\n    const clickedInside = this.elementRef.nativeElement.contains(event.target);\r\n    if (!clickedInside && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  @HostListener('window:scroll', ['$event'])\r\n  @HostListener('window:resize', ['$event'])\r\n  onWindowEvent(): void {\r\n    if (this.isOpen) {\r\n      this.updateDropdownPosition();\r\n    }\r\n  }\r\n\r\n  toggleDropdown(): void {\r\n    if (!this.disabled) {\r\n      if (!this.isOpen) {\r\n        // Update position BEFORE opening\r\n        this.updateDropdownPosition();\r\n      }\r\n      this.isOpen = !this.isOpen;\r\n      if (this.isOpen) {\r\n        // Update again after DOM renders\r\n        setTimeout(() => this.updateDropdownPosition(), 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  private updateDropdownPosition(): void {\r\n    if (this.triggerRef) {\r\n      const rect = this.triggerRef.nativeElement.getBoundingClientRect();\r\n      this.dropdownPosition = {\r\n        top: `${rect.bottom + 4}px`,\r\n        left: `${rect.left}px`,\r\n        width: `${rect.width}px`\r\n      };\r\n    }\r\n  }\r\n\r\n  selectOption(option: SelectOption): void {\r\n    this.selectedValue = option.value;\r\n    this.isOpen = false;\r\n    this.onChange(option.value);\r\n    this.onTouched();\r\n    this.selectionChange.emit(option.value);\r\n  }\r\n\r\n  getSelectedLabel(): string {\r\n    if (!this.selectedValue) {\r\n      return this.placeholder;\r\n    }\r\n    const selected = this.options.find(opt => opt.value === this.selectedValue);\r\n    return selected ? selected.label : this.placeholder;\r\n  }\r\n\r\n  // ControlValueAccessor implementation\r\n  writeValue(value: any): void {\r\n    this.selectedValue = value;\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n}\r\n", "<div class=\"custom-select\" [class.disabled]=\"disabled\">\r\n  <div #trigger class=\"select-trigger\" (click)=\"toggleDropdown()\">\r\n    <span class=\"select-value\" [class.placeholder]=\"!selectedValue\">\r\n      {{ getSelectedLabel() }}\r\n    </span>\r\n    <lucide-angular name=\"chevron-down\" [size]=\"16\" class=\"select-icon\" [class.open]=\"isOpen\"></lucide-angular>\r\n  </div>\r\n\r\n  <div\r\n    class=\"select-dropdown\"\r\n    *ngIf=\"isOpen\"\r\n    [style.top]=\"dropdownPosition.top\"\r\n    [style.left]=\"dropdownPosition.left\"\r\n    [style.width]=\"dropdownPosition.width\">\r\n    <div\r\n      *ngFor=\"let option of options\"\r\n      class=\"select-option\"\r\n      [class.selected]=\"selectedValue === option.value\"\r\n      (click)=\"selectOption(option)\">\r\n      {{ option.label }}\r\n    </div>\r\n  </div>\r\n</div>\r\n", "import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport interface Toast {\r\n  id: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  message: string;\r\n  duration?: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToastService {\r\n  private toastSubject = new Subject<Toast>();\r\n  public toasts$ = this.toastSubject.asObservable();\r\n\r\n  private generateId(): string {\r\n    return `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  show(message: string, type: 'success' | 'error' | 'warning' | 'info' = 'info', duration: number = 3000): void {\r\n    const toast: Toast = {\r\n      id: this.generateId(),\r\n      type,\r\n      message,\r\n      duration\r\n    };\r\n    this.toastSubject.next(toast);\r\n  }\r\n\r\n  success(message: string, duration?: number): void {\r\n    this.show(message, 'success', duration);\r\n  }\r\n\r\n  error(message: string, duration?: number): void {\r\n    this.show(message, 'error', duration);\r\n  }\r\n\r\n  warning(message: string, duration?: number): void {\r\n    this.show(message, 'warning', duration);\r\n  }\r\n\r\n  info(message: string, duration?: number): void {\r\n    this.show(message, 'info', duration);\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcI,IAAA,yBAAA,GAAA,OAAA,CAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,kEAAA;AAAA,YAAA,YAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,aAAA,SAAA,CAAoB;IAAA,CAAA;AAC7B,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;;AAHE,IAAA,sBAAA,YAAA,OAAA,kBAAA,UAAA,KAAA;AAEA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,UAAA,OAAA,GAAA;;;;;AAXJ,IAAA,yBAAA,GAAA,OAAA,CAAA;AAME,IAAA,qBAAA,GAAA,4CAAA,GAAA,GAAA,OAAA,CAAA;AAOF,IAAA,uBAAA;;;;AAVE,IAAA,sBAAA,OAAA,OAAA,iBAAA,GAAA,EAAkC,QAAA,OAAA,iBAAA,IAAA,EACE,SAAA,OAAA,iBAAA,KAAA;AAGf,IAAA,oBAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,OAAA;;;ADYnB,IAAO,yBAAP,MAAO,uBAAqB;EAehC,YAAoB,YAAsB;AAAtB,SAAA,aAAA;AAdX,SAAA,UAA0B,CAAA;AAC1B,SAAA,cAAsB;AACtB,SAAA,WAAoB;AACpB,SAAA,UAAmB;AAClB,SAAA,kBAAkB,IAAI,aAAY;AAG5C,SAAA,gBAAqB;AACrB,SAAA,SAAkB;AAClB,SAAA,mBAAmB,EAAE,KAAK,OAAO,MAAM,OAAO,OAAO,MAAK;AAElD,SAAA,WAAiC,MAAK;IAAE;AACxC,SAAA,YAAwB,MAAK;IAAE;EAEM;EAG7C,gBAAgB,OAAiB;AAC/B,UAAM,gBAAgB,KAAK,WAAW,cAAc,SAAS,MAAM,MAAM;AACzE,QAAI,CAAC,iBAAiB,KAAK,QAAQ;AACjC,WAAK,SAAS;IAChB;EACF;EAIA,gBAAa;AACX,QAAI,KAAK,QAAQ;AACf,WAAK,uBAAsB;IAC7B;EACF;EAEA,iBAAc;AACZ,QAAI,CAAC,KAAK,UAAU;AAClB,UAAI,CAAC,KAAK,QAAQ;AAEhB,aAAK,uBAAsB;MAC7B;AACA,WAAK,SAAS,CAAC,KAAK;AACpB,UAAI,KAAK,QAAQ;AAEf,mBAAW,MAAM,KAAK,uBAAsB,GAAI,CAAC;MACnD;IACF;EACF;EAEQ,yBAAsB;AAC5B,QAAI,KAAK,YAAY;AACnB,YAAM,OAAO,KAAK,WAAW,cAAc,sBAAqB;AAChE,WAAK,mBAAmB;QACtB,KAAK,GAAG,KAAK,SAAS,CAAC;QACvB,MAAM,GAAG,KAAK,IAAI;QAClB,OAAO,GAAG,KAAK,KAAK;;IAExB;EACF;EAEA,aAAa,QAAoB;AAC/B,SAAK,gBAAgB,OAAO;AAC5B,SAAK,SAAS;AACd,SAAK,SAAS,OAAO,KAAK;AAC1B,SAAK,UAAS;AACd,SAAK,gBAAgB,KAAK,OAAO,KAAK;EACxC;EAEA,mBAAgB;AACd,QAAI,CAAC,KAAK,eAAe;AACvB,aAAO,KAAK;IACd;AACA,UAAM,WAAW,KAAK,QAAQ,KAAK,SAAO,IAAI,UAAU,KAAK,aAAa;AAC1E,WAAO,WAAW,SAAS,QAAQ,KAAK;EAC1C;;EAGA,WAAW,OAAU;AACnB,SAAK,gBAAgB;EACvB;EAEA,iBAAiB,IAAO;AACtB,SAAK,WAAW;EAClB;EAEA,kBAAkB,IAAO;AACvB,SAAK,YAAY;EACnB;EAEA,iBAAiB,YAAmB;AAClC,SAAK,WAAW;EAClB;;;mCAzFW,wBAAqB,4BAAA,UAAA,CAAA;AAAA;uFAArB,wBAAqB,WAAA,CAAA,CAAA,mBAAA,CAAA,GAAA,WAAA,SAAA,4BAAA,IAAA,KAAA;AAAA,MAAA,KAAA,GAAA;kCAMF,UAAU;;;;;;;;AAN7B,IAAA,qBAAA,SAAA,SAAA,+CAAA,QAAA;AAAA,aAAA,IAAA,gBAAA,MAAA;IAAuB,GAAA,2BAAA,EAAF,UAAA,SAAA,gDAAA,QAAA;AAAA,aAArB,IAAA,cAAA,MAAA;IAAqB,GAAA,yBAAA,EAAA,UAAA,SAAA,gDAAA,QAAA;AAAA,aAArB,IAAA,cAAA,MAAA;IAAqB,GAAA,yBAAA;;;AAArB,IAAA,sBAAA,WAAA,IAAA,OAAA;;kMARA;EACT;IACE,SAAS;IACT,aAAa,WAAW,MAAM,sBAAqB;IACnD,OAAO;;CAEV,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,WAAA,EAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,QAAA,gBAAA,GAAA,eAAA,GAAA,MAAA,GAAA,CAAA,SAAA,mBAAA,GAAA,OAAA,QAAA,SAAA,GAAA,MAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,YAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,OAAA,CAAA,GAAA,UAAA,SAAA,+BAAA,IAAA,KAAA;AAAA,MAAA,KAAA,GAAA;;ACzBH,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAuD,GAAA,OAAA,GAAA,CAAA;AAChB,IAAA,qBAAA,SAAA,SAAA,sDAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,aAAA,sBAAS,IAAA,eAAA,CAAgB;IAAA,CAAA;AAC5D,IAAA,yBAAA,GAAA,QAAA,CAAA;AACE,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;AACA,IAAA,oBAAA,GAAA,kBAAA,CAAA;AACF,IAAA,uBAAA;AAEA,IAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,OAAA,CAAA;AAcF,IAAA,uBAAA;;;AAtB2B,IAAA,sBAAA,YAAA,IAAA,QAAA;AAEI,IAAA,oBAAA,CAAA;AAAA,IAAA,sBAAA,eAAA,CAAA,IAAA,aAAA;AACzB,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,IAAA,iBAAA,GAAA,GAAA;AAEkE,IAAA,oBAAA;AAAA,IAAA,sBAAA,QAAA,IAAA,MAAA;AAAhC,IAAA,qBAAA,QAAA,EAAA;AAKnC,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,IAAA,MAAA;;kBDGO,cAAY,SAAA,MAAE,qBAAmB,sBAAA,GAAA,QAAA,CAAA,03OAAA,EAAA,CAAA;AAcvC,IAAO,wBAAP;;sEAAO,uBAAqB,CAAA;UAjBjC;uBACW,qBAAmB,YACjB,MAAI,SACP,CAAC,cAAc,mBAAmB,GAAC,MAGtC;MACJ,mBAAmB;OACpB,WACU;MACT;QACE,SAAS;QACT,aAAa,WAAW,MAAK,qBAAsB;QACnD,OAAO;;OAEV,UAAA,4zBAAA,QAAA,CAAA,4yIAAA,EAAA,CAAA;sCAGQ,SAAO,CAAA;UAAf;MACQ,aAAW,CAAA;UAAnB;MACQ,UAAQ,CAAA;UAAhB;MACQ,SAAO,CAAA;UAAf;MACS,iBAAe,CAAA;UAAxB;MAC2C,YAAU,CAAA;UAArD;WAAU,WAAW,EAAE,MAAM,WAAU,CAAE;MAY1C,iBAAe,CAAA;UADd;WAAa,kBAAkB,CAAC,QAAQ,CAAC;MAU1C,eAAa,CAAA;UAFZ;WAAa,iBAAiB,CAAC,QAAQ,CAAC;;UACxC;WAAa,iBAAiB,CAAC,QAAQ,CAAC;;;;6EA1B9B,uBAAqB,EAAA,WAAA,yBAAA,UAAA,gFAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;AEd5B,IAAO,gBAAP,MAAO,cAAY;EAHzB,cAAA;AAIU,SAAA,eAAe,IAAI,QAAO;AAC3B,SAAA,UAAU,KAAK,aAAa,aAAY;;EAEvC,aAAU;AAChB,WAAO,SAAS,KAAK,IAAG,CAAE,IAAI,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC;EACvE;EAEA,KAAK,SAAiB,OAAiD,QAAQ,WAAmB,KAAI;AACpG,UAAM,QAAe;MACnB,IAAI,KAAK,WAAU;MACnB;MACA;MACA;;AAEF,SAAK,aAAa,KAAK,KAAK;EAC9B;EAEA,QAAQ,SAAiB,UAAiB;AACxC,SAAK,KAAK,SAAS,WAAW,QAAQ;EACxC;EAEA,MAAM,SAAiB,UAAiB;AACtC,SAAK,KAAK,SAAS,SAAS,QAAQ;EACtC;EAEA,QAAQ,SAAiB,UAAiB;AACxC,SAAK,KAAK,SAAS,WAAW,QAAQ;EACxC;EAEA,KAAK,SAAiB,UAAiB;AACrC,SAAK,KAAK,SAAS,QAAQ,QAAQ;EACrC;;;mCAhCW,eAAY;AAAA;iFAAZ,eAAY,SAAZ,cAAY,WAAA,YAFX,OAAM,CAAA;AAEd,IAAO,eAAP;;sEAAO,cAAY,CAAA;UAHxB;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
