{
  "version": 3,
  "sources": ["src/app/core/services/agent.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { User } from '../models/user.model';\nimport { AgentStatus, ChangeStatusRequest } from '../models/agent-status.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AgentService {\n  // FIX: Cambiar de auth-api a gateway (/api) para acceder al discador-backend\n  private readonly apiUrl = `${environment.gatewayUrl}/agent-status`;\n\n  constructor(private http: HttpClient) {}\n\n  getAllAgents(): Observable<User[]> {\n    return this.http.get<User[]>(this.apiUrl);\n  }\n\n  getAgentStatus(agentId: number): Observable<AgentStatus> {\n    return this.http.get<AgentStatus>(`${this.apiUrl}/${agentId}/status`);\n  }\n\n  changeAgentStatus(agentId: number, request: ChangeStatusRequest): Observable<AgentStatus> {\n    return this.http.post<AgentStatus>(`${this.apiUrl}/${agentId}/status`, request);\n  }\n\n  getAvailableAgents(): Observable<User[]> {\n    return this.http.get<User[]>(`${this.apiUrl}/available`);\n  }\n\n  // Comentado temporalmente - AgentPerformance no est√° definido\n  // getAgentPerformance(agentId: number, dateFrom?: Date, dateTo?: Date): Observable<AgentPerformance> {\n  //   let url = `${this.apiUrl}/${agentId}/performance`;\n  //   const params: string[] = [];\n\n  //   if (dateFrom) params.push(`dateFrom=${dateFrom.toISOString()}`);\n  //   if (dateTo) params.push(`dateTo=${dateTo.toISOString()}`);\n\n  //   if (params.length > 0) {\n  //     url += '?' + params.join('&');\n  //   }\n\n  //   return this.http.get<AgentPerformance>(url);\n  // }\n}\n"],
  "mappings": ";;;;;;;;;;;;AAUM,IAAO,gBAAP,MAAO,cAAY;EAIvB,YAAoB,MAAgB;AAAhB,SAAA,OAAA;AAFH,SAAA,SAAS,GAAG,YAAY,UAAU;EAEZ;EAEvC,eAAY;AACV,WAAO,KAAK,KAAK,IAAY,KAAK,MAAM;EAC1C;EAEA,eAAe,SAAe;AAC5B,WAAO,KAAK,KAAK,IAAiB,GAAG,KAAK,MAAM,IAAI,OAAO,SAAS;EACtE;EAEA,kBAAkB,SAAiB,SAA4B;AAC7D,WAAO,KAAK,KAAK,KAAkB,GAAG,KAAK,MAAM,IAAI,OAAO,WAAW,OAAO;EAChF;EAEA,qBAAkB;AAChB,WAAO,KAAK,KAAK,IAAY,GAAG,KAAK,MAAM,YAAY;EACzD;;;mCApBW,eAAY,mBAAA,UAAA,CAAA;AAAA;iFAAZ,eAAY,SAAZ,cAAY,WAAA,YAFX,OAAM,CAAA;AAEd,IAAO,eAAP;;sEAAO,cAAY,CAAA;UAHxB;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
