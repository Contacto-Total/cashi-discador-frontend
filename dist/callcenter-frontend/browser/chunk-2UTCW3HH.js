import{a as B}from"./chunk-YPLKYKEU.js";import{E as A,c as H,f as j,k as G}from"./chunk-2YC26MZ7.js";import"./chunk-YQKVMPSG.js";import"./chunk-LYMJIISJ.js";import{Fb as x,Gb as u,Jb as I,Kb as L,Lb as k,Mb as e,Nb as t,Ob as m,Vb as M,Xb as f,Zb as h,bb as s,hb as F,kc as b,lc as n,mc as v,md as R,na as _,nc as y,oa as w,ob as V,pa as c,qa as p,qc as E,rc as D,sc as T,xa as C}from"./chunk-BMTIWWAP.js";var P=(i,d)=>d.label;function z(i,d){if(i&1){let o=M();e(0,"div",22)(1,"label",23),n(2," Fecha fin "),e(3,"span",24),n(4,"*"),t()(),e(5,"div",25)(6,"input",55),T("ngModelChange",function(l){_(o);let r=h();return D(r.fechaFin,l)||(r.fechaFin=l),w(l)}),t()()()}if(i&2){let o=h();s(6),E("ngModel",o.fechaFin),k("min",o.fechaInicio)("max",o.fechaMaxima)}}function W(i,d){i&1&&(c(),e(0,"svg",20),m(1,"path",45),t())}function N(i,d){if(i&1){let o=M();e(0,"button",56),f("click",function(){let l=_(o).$implicit;return w(l.action())}),e(1,"span",32),x(2,W,2,0,":svg:svg",20),n(3),t()()}if(i&2){let o=d.$implicit,a=h();b(a.isAccesoActivo(o.label)?"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-700 dark:text-emerald-400":"bg-white dark:bg-slate-700/50 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:border-emerald-300 dark:hover:border-emerald-600 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20"),s(2),u(a.isAccesoActivo(o.label)?2:-1),s(),y(" ",o.label," ")}}function O(i,d){if(i&1&&(e(0,"span"),n(1,"al"),t(),e(2,"span",57),n(3),t()),i&2){let o=h(2);s(3),v(o.formatFechaDisplay(o.fechaFin))}}function U(i,d){if(i&1&&(e(0,"span",32),c(),e(1,"svg",20),m(2,"path",39),t(),n(3," Per\xEDodo: "),p(),e(4,"span",57),n(5),t(),x(6,O,4,1),t()),i&2){let o=h();s(5),v(o.formatFechaDisplay(o.fechaInicio)),s(),u(o.tipoConsulta==="rango"&&o.fechaFin?6:-1)}}function Y(i,d){i&1&&(c(),e(0,"svg",58),m(1,"circle",59)(2,"path",60),t(),p(),e(3,"span"),n(4,"Generando..."),t())}function $(i,d){i&1&&(c(),e(0,"svg",61),m(1,"path",54),t(),p(),e(2,"span"),n(3,"Descargar Excel"),t())}function q(i,d){if(i&1&&(e(0,"div",63),c(),e(1,"svg",64),m(2,"path",65),t()(),p(),e(3,"p",66),n(4),t()),i&2){let o=h(2);s(4),v(o.mensaje().texto)}}function J(i,d){if(i&1&&(e(0,"div",67),c(),e(1,"svg",68),m(2,"path",69),t()(),p(),e(3,"p",70),n(4),t()),i&2){let o=h(2);s(4),v(o.mensaje().texto)}}function K(i,d){if(i&1&&(e(0,"div",62),x(1,q,5,1)(2,J,5,1),t()),i&2){let o=h();b(o.mensaje().tipo==="success"?"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),s(),u(o.mensaje().tipo==="success"?1:2)}}var ne=(()=>{let d=class d{constructor(a){this.bcpService=a,this.tipoConsulta="unica",this.fechaInicio="",this.fechaFin="",this.fechaMaxima=this.formatDate(new Date),this.isLoading=C(!1),this.mensaje=C(null),this.accesoSeleccionado=C("Hoy"),this.accesosRapidos=[{label:"Hoy",action:()=>this.setHoy()},{label:"Ayer",action:()=>this.setAyer()},{label:"\xDAltimos 7 d\xEDas",action:()=>this.setUltimos7Dias()},{label:"\xDAltimos 30 d\xEDas",action:()=>this.setUltimos30Dias()},{label:"Mes actual",action:()=>this.setMesActual()}],this.setHoy()}isAccesoActivo(a){return this.accesoSeleccionado()===a}puedeDescargar(){return!(!this.fechaInicio||this.tipoConsulta==="rango"&&!this.fechaFin)}descargarReporte(){this.puedeDescargar()&&(this.isLoading.set(!0),this.mensaje.set(null),setTimeout(()=>{try{this.tipoConsulta==="unica"?this.bcpService.descargarReporteConciliacionPorFecha(this.fechaInicio):this.bcpService.descargarReporteConciliacionPorFecha(this.fechaInicio,this.fechaFin),this.mensaje.set({tipo:"success",texto:"Reporte generado correctamente. La descarga iniciar\xE1 en breve."})}catch{this.mensaje.set({tipo:"error",texto:"Error al generar el reporte. Intente nuevamente."})}finally{this.isLoading.set(!1),setTimeout(()=>this.mensaje.set(null),5e3)}},500))}formatFechaDisplay(a){if(!a)return"";let[l,r,g]=a.split("-");return`${g}/${r}/${l}`}setHoy(){this.tipoConsulta="unica",this.fechaInicio=this.formatDate(new Date),this.fechaFin="",this.accesoSeleccionado.set("Hoy")}setAyer(){this.tipoConsulta="unica";let a=new Date;a.setDate(a.getDate()-1),this.fechaInicio=this.formatDate(a),this.fechaFin="",this.accesoSeleccionado.set("Ayer")}setUltimos7Dias(){this.tipoConsulta="rango";let a=new Date,l=new Date;l.setDate(a.getDate()-6),this.fechaInicio=this.formatDate(l),this.fechaFin=this.formatDate(a),this.accesoSeleccionado.set("\xDAltimos 7 d\xEDas")}setUltimos30Dias(){this.tipoConsulta="rango";let a=new Date,l=new Date;l.setDate(a.getDate()-29),this.fechaInicio=this.formatDate(l),this.fechaFin=this.formatDate(a),this.accesoSeleccionado.set("\xDAltimos 30 d\xEDas")}setMesActual(){this.tipoConsulta="rango";let a=new Date,l=new Date(a.getFullYear(),a.getMonth(),1);this.fechaInicio=this.formatDate(l),this.fechaFin=this.formatDate(a),this.accesoSeleccionado.set("Mes actual")}formatDate(a){return a.toISOString().split("T")[0]}};d.\u0275fac=function(l){return new(l||d)(F(B))},d.\u0275cmp=V({type:d,selectors:[["app-conciliacion-report"]],decls:98,vars:12,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","to-slate-100","dark:from-slate-900","dark:to-slate-800","p-4","md:p-6"],[1,"max-w-4xl","mx-auto"],[1,"mb-8"],[1,"flex","items-center","gap-4"],[1,"p-3","bg-gradient-to-br","from-emerald-500","to-teal-600","rounded-2xl","shadow-lg","shadow-emerald-500/25"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-2xl","md:text-3xl","font-bold","text-slate-800","dark:text-white"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","dark:bg-slate-800","rounded-2xl","shadow-xl","shadow-slate-200/50","dark:shadow-none","border","border-slate-200/50","dark:border-slate-700/50","overflow-hidden"],[1,"px-6","py-4","border-b","border-slate-100","dark:border-slate-700/50","bg-slate-50/50","dark:bg-slate-800/50"],[1,"text-lg","font-semibold","text-slate-800","dark:text-white","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-emerald-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"p-6","space-y-6"],[1,"block","text-sm","font-medium","text-slate-600","dark:text-slate-400","mb-3"],[1,"inline-flex","p-1","bg-slate-100","dark:bg-slate-700/50","rounded-xl"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300"],[1,"text-red-500","ml-1"],[1,"relative"],["type","date",1,"w-full","px-4","py-3","border","border-slate-200","dark:border-slate-600","rounded-xl","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-emerald-500/20","focus:border-emerald-500","transition-all","duration-200",3,"ngModelChange","ngModel","max"],[1,"flex","flex-wrap","gap-2"],[1,"group","px-4","py-2","text-sm","font-medium","rounded-xl","border-2","transition-all","duration-200",3,"class"],[1,"px-6","py-4","border-t","border-slate-100","dark:border-slate-700/50","bg-slate-50/30","dark:bg-slate-800/30"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-slate-500","dark:text-slate-400"],[1,"flex","items-center","gap-2"],[1,"px-6","py-3","bg-gradient-to-r","from-emerald-500","to-teal-600","text-white","rounded-xl","font-medium","shadow-lg","shadow-emerald-500/25","hover:shadow-emerald-500/40","hover:from-emerald-600","hover:to-teal-700","disabled:from-slate-400","disabled:to-slate-500","disabled:shadow-none","disabled:cursor-not-allowed","transition-all","duration-300","flex","items-center","gap-2",3,"click","disabled"],[1,"p-4","rounded-xl","flex","items-center","gap-3","animate-fade-in",3,"class"],[1,"space-y-6"],[1,"px-5","py-4","border-b","border-slate-100","dark:border-slate-700/50","bg-gradient-to-r","from-blue-50","to-indigo-50","dark:from-blue-900/20","dark:to-indigo-900/20"],[1,"font-semibold","text-slate-800","dark:text-white","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-5"],[1,"space-y-3"],[1,"flex","items-start","gap-3","text-sm"],[1,"p-1.5","bg-emerald-100","dark:bg-emerald-900/30","rounded-lg","mt-0.5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3.5","h-3.5","text-emerald-600","dark:text-emerald-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-slate-600","dark:text-slate-400"],[1,"bg-gradient-to-br","from-emerald-500","to-teal-600","rounded-2xl","p-5","text-white","shadow-xl","shadow-emerald-500/25"],[1,"flex","items-center","gap-3","mb-3"],[1,"p-2","bg-white/20","rounded-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-semibold"],[1,"text-emerald-100","text-sm"],[1,"flex","items-center","gap-2","text-sm","text-emerald-100"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["type","date",1,"w-full","px-4","py-3","border","border-slate-200","dark:border-slate-600","rounded-xl","bg-white","dark:bg-slate-700","text-slate-800","dark:text-white","focus:ring-2","focus:ring-emerald-500/20","focus:border-emerald-500","transition-all","duration-200",3,"ngModelChange","ngModel","min","max"],[1,"group","px-4","py-2","text-sm","font-medium","rounded-xl","border-2","transition-all","duration-200",3,"click"],[1,"font-medium","text-slate-700","dark:text-slate-300"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"p-4","rounded-xl","flex","items-center","gap-3","animate-fade-in"],[1,"p-2","bg-emerald-100","dark:bg-emerald-800/50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-emerald-600","dark:text-emerald-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-emerald-700","dark:text-emerald-300","font-medium"],[1,"p-2","bg-red-100","dark:bg-red-800/50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","dark:text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-700","dark:text-red-300","font-medium"]],template:function(l,r){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c(),e(5,"svg",5),m(6,"path",6),t()(),p(),e(7,"div")(8,"h1",7),n(9," Reporte de Conciliaci\xF3n "),t(),e(10,"p",8),n(11," Genera y descarga el reporte de conciliaci\xF3n de pagos bancarios "),t()()()(),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2",13),c(),e(17,"svg",14),m(18,"path",15),t(),n(19," Seleccionar Per\xEDodo "),t()(),p(),e(20,"div",16)(21,"div")(22,"label",17),n(23," Tipo de consulta "),t(),e(24,"div",18)(25,"button",19),f("click",function(){return r.tipoConsulta="unica",r.fechaFin=""}),c(),e(26,"svg",20),m(27,"path",15),t(),n(28," Fecha \xFAnica "),t(),p(),e(29,"button",19),f("click",function(){return r.tipoConsulta="rango"}),c(),e(30,"svg",20),m(31,"path",15),t(),n(32," Rango de fechas "),t()()(),p(),e(33,"div",21)(34,"div",22)(35,"label",23),n(36),e(37,"span",24),n(38,"*"),t()(),e(39,"div",25)(40,"input",26),T("ngModelChange",function(S){return D(r.fechaInicio,S)||(r.fechaInicio=S),S}),t()()(),x(41,z,7,3,"div",22),t(),e(42,"div")(43,"label",17),n(44," Accesos r\xE1pidos "),t(),e(45,"div",27),I(46,N,4,4,"button",28,P),t()()(),e(48,"div",29)(49,"div",30)(50,"div",31),x(51,U,7,2,"span",32),t(),e(52,"button",33),f("click",function(){return r.descargarReporte()}),x(53,Y,5,0)(54,$,4,0),t()()()(),x(55,K,3,3,"div",34),t(),e(56,"div",35)(57,"div",11)(58,"div",36)(59,"h3",37),c(),e(60,"svg",38),m(61,"path",39),t(),n(62," Informaci\xF3n "),t()(),p(),e(63,"div",40)(64,"ul",41)(65,"li",42)(66,"div",43),c(),e(67,"svg",44),m(68,"path",45),t()(),p(),e(69,"span",46),n(70,"Incluye todos los pagos procesados en el per\xEDodo"),t()(),e(71,"li",42)(72,"div",43),c(),e(73,"svg",44),m(74,"path",45),t()(),p(),e(75,"span",46),n(76,"Muestra el estado de conciliaci\xF3n de cada pago"),t()(),e(77,"li",42)(78,"div",43),c(),e(79,"svg",44),m(80,"path",45),t()(),p(),e(81,"span",46),n(82,"Formato Excel (.xlsx) compatible con todas las versiones"),t()()()()(),e(83,"div",47)(84,"div",48)(85,"div",49),c(),e(86,"svg",50),m(87,"path",6),t()(),p(),e(88,"div")(89,"p",51),n(90,"Formato del reporte"),t(),e(91,"p",52),n(92,"Microsoft Excel"),t()()(),e(93,"div",53),c(),e(94,"svg",20),m(95,"path",54),t(),p(),e(96,"span"),n(97,"Descarga autom\xE1tica"),t()()()()()()()),l&2&&(s(25),b(r.tipoConsulta==="unica"?"bg-white dark:bg-slate-600 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"),s(4),b(r.tipoConsulta==="rango"?"bg-white dark:bg-slate-600 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"),s(7),y(" ",r.tipoConsulta==="unica"?"Fecha":"Fecha inicio"," "),s(4),E("ngModel",r.fechaInicio),k("max",r.fechaMaxima),s(),u(r.tipoConsulta==="rango"?41:-1),s(5),L(r.accesosRapidos),s(5),u(r.fechaInicio?51:-1),s(),k("disabled",!r.puedeDescargar()||r.isLoading()),s(),u(r.isLoading()?53:54),s(2),u(r.mensaje()?55:-1))},dependencies:[R,A,H,j,G],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}"]});let i=d;return i})();export{ne as ConciliacionReportComponent};
