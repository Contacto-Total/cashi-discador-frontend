import{a as Je,b as ze}from"./chunk-HFM63KZ2.js";import{c as le}from"./chunk-2JQMTGI5.js";import"./chunk-NO4444JX.js";import{a as Ue}from"./chunk-4BQOIAP5.js";import{C as L,D as Fe,E as Qe,b as we,c as Ae,d as Ce,e as De,f as Se,j as Te,k as Oe,l as Ee,n as Pe,q as Le,r as Re,s as Ne,t as Ve,u as Ie,v as Be}from"./chunk-5CXVSPU7.js";import{$ as ge,$a as ye,E as ce,Lb as _e,Mb as ke,Ua as be,W as ue,Xa as he,_a as fe,f as de,fa as me,nb as xe,sa as pe,ub as ve}from"./chunk-AY2PQ2ZV.js";import{a as Me}from"./chunk-CVSECBKN.js";import{$a as l,Bc as ie,Fc as N,K as Q,Kb as m,Lb as a,Mb as o,N as z,Nb as f,O as $,Rb as q,Sb as H,Ub as O,Wb as v,X as U,Yb as b,a as R,ac as K,b as B,ba as G,bc as Y,cc as X,cd as ne,dd as ae,fa as j,ga as D,gc as Z,ic as k,jc as E,jd as oe,kc as c,lc as A,ma as y,mb as W,mc as F,na as x,pc as ee,qc as te,rb as T,rc as re,rd as se,v as J,wa as w}from"./chunk-3MKZGHO3.js";var $e=(()=>{let p=class p{constructor(e){this.http=e,this.root=`${Me.webServiceUrl}/plantillas/sms`,this.dynamicQueryUrl=`${this.root}/dynamic-query`,this.exportUrl=`${this.root}/export`,this.precheckUrl=`${this.root}/precheck`,this.previewInitUrl=`${this.root}/preview/init`,this.previewChooseUrl=`${this.root}/preview/choose`,this.previewSkipUrl=`${this.root}/preview/skip`,this.previewDlUrl=`${this.root}/preview/download`}run(e){return this.http.post(this.dynamicQueryUrl,e)}precheck(e,t){return this.http.post(this.precheckUrl,{query:e,template:t})}export(e,t){let r=R({},e);return r.limit==null&&delete r.limit,r.selectAll=!0,r.template=t,this.http.post(this.exportUrl,r,{responseType:"blob"})}previewInit(e,t,r){let n={query:B(R({},e),{template:t}),candidatas:r};return this.http.post(this.previewInitUrl,n)}previewChoose(e,t){return this.http.post(this.previewChooseUrl,{sessionId:e,variableElegida:t})}previewSkip(e){return this.http.post(this.previewSkipUrl,{sessionId:e})}previewDownload(e){return this.http.post(this.previewDlUrl,{sessionId:e},{responseType:"blob"})}previewDownloadBase(e){return this.http.get(`${this.root}/preview/${e}/download-base`,{responseType:"blob"})}};p.\u0275fac=function(t){return new(t||p)(j(se))},p.\u0275prov=G({token:p,factory:p.\u0275fac,providedIn:"root"});let d=p;return d})();var We=["tplArea"];function qe(d,p){if(d&1){let i=O();a(0,"button",46),v("click",function(){let t=y(i).$implicit,r=b(3);return x(r.toggleChip(t.key,t.affectsSelects!==!1))}),c(1),o()}if(d&2){let i=p.$implicit,e=b(3);E(e.isActive(i.key)?"px-3.5 py-2 rounded-lg text-white text-xs font-bold bg-gradient-to-r from-blue-600 to-violet-600 hover:from-blue-700 hover:to-violet-700 shadow-md shadow-blue-500/25 hover:shadow-lg hover:shadow-blue-500/35 transition-all cursor-pointer":"px-3.5 py-2 rounded-lg text-gray-700 dark:text-gray-300 text-xs font-semibold bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-700 dark:hover:text-blue-300 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all cursor-pointer shadow-sm disabled:opacity-50 disabled:cursor-not-allowed"),m("disabled",e.isChipDisabled(i.key)),l(),F(" ",i.label," ")}}function He(d,p){if(d&1&&(q(0),a(1,"div",42)(2,"div",43),c(3),o(),a(4,"div",44),T(5,qe,2,4,"button",45),o()(),H()),d&2){let i=p.$implicit;l(3),A(i.title),l(2),m("ngForOf",i.items)}}function Ke(d,p){d&1&&(a(0,"div",47)(1,"div",48)(2,"label",49),c(3,"Sumar importe:"),o(),f(4,"input",50),o()())}function Ye(d,p){if(d&1&&(a(0,"div",39)(1,"div",16),T(2,He,6,2,"ng-container",40),o(),T(3,Ke,5,0,"div",41),o()),d&2){let i=b();l(2),m("ngForOf",i.chipGroups),l(),m("ngIf",i.selectedChips.has("LTD")||i.selectedChips.has("LTDE")||i.selectedChips.has("LTD_LTDE"))}}function Xe(d,p){if(d&1&&(a(0,"option",60),c(1),o()),d&2){let i=p.$implicit;m("value",i.key),l(),A(i.label)}}function Ze(d,p){if(d&1&&(a(0,"div",61),f(1,"input",62),a(2,"label",63),f(3,"input",64),a(4,"span",65),c(5),o()(),a(6,"span",66),c(7),o(),a(8,"label",63),f(9,"input",67),a(10,"span",65),c(11),o()(),f(12,"input",68),o()),d&2){let i,e,t,r=b().$implicit,n=b(2);l(5),A((i=r.get("inclusiveMin"))!=null&&i.value?"\u2264":"<"),l(2),A(n.fieldLabel((e=r.get("field"))==null?null:e.value)),l(4),A((t=r.get("inclusiveMax"))!=null&&t.value?"\u2264":"<")}}function et(d,p){if(d&1&&(a(0,"div",61)(1,"span",66),c(2),o(),a(3,"label",63),f(4,"input",64),a(5,"span",65),c(6),o()(),f(7,"input",73),o()),d&2){let i,e,t=b(2).$implicit,r=b(2);l(2),A(r.fieldLabel((i=t.get("field"))==null?null:i.value)),l(4),A((e=t.get("inclusiveMin"))!=null&&e.value?"\u2265":">")}}function tt(d,p){if(d&1&&(a(0,"div",61)(1,"span",66),c(2),o(),a(3,"label",63),f(4,"input",67),a(5,"span",65),c(6),o()(),f(7,"input",74),o()),d&2){let i,e,t=b(2).$implicit,r=b(2);l(2),A(r.fieldLabel((i=t.get("field"))==null?null:i.value)),l(4),A((e=t.get("inclusiveMax"))!=null&&e.value?"\u2264":"<")}}function rt(d,p){if(d&1){let i=O();a(0,"div")(1,"div",69)(2,"button",28),v("click",function(){y(i);let t=b().index,r=b(2);return x(r.changeOperator(t,"gt"))}),c(3," Mayor que "),o(),a(4,"button",28),v("click",function(){y(i);let t=b().index,r=b(2);return x(r.changeOperator(t,"lt"))}),c(5," Menor que "),o()(),a(6,"div",70),T(7,et,8,2,"div",58)(8,tt,8,2,"div",58),o(),a(9,"label",71)(10,"input",72),v("change",function(t){y(i);let r=b().index,n=b(2);return x(n.toggleInterval(r,t.target.checked))}),o(),a(11,"span"),c(12,"Usar como intervalo"),o()()()}if(d&2){let i,e,t,r,n,s=b().$implicit;l(2),E(((i=s.get("mode"))==null?null:i.value)==="gt"?"flex-1 px-3 py-2 rounded-lg text-white text-sm font-bold bg-gradient-to-r from-blue-600 to-violet-600 shadow-md shadow-blue-500/25 transition-all cursor-pointer":"flex-1 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-semibold bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all cursor-pointer shadow-sm"),l(2),E(((e=s.get("mode"))==null?null:e.value)==="lt"?"flex-1 px-3 py-2 rounded-lg text-white text-sm font-bold bg-gradient-to-r from-blue-600 to-violet-600 shadow-md shadow-blue-500/25 transition-all cursor-pointer":"flex-1 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-semibold bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all cursor-pointer shadow-sm"),l(3),m("ngIf",(t=s.get("useMin"))==null?null:t.value),l(),m("ngIf",(r=s.get("useMax"))==null?null:r.value),l(2),m("checked",((n=s.get("useMin"))==null?null:n.value)&&((n=s.get("useMax"))==null?null:n.value))}}function it(d,p){if(d&1){let i=O();a(0,"div",53)(1,"div",54)(2,"select",55),T(3,Xe,2,2,"option",56),o(),a(4,"button",57),v("click",function(){let t=y(i).index,r=b(2);return x(r.removeRange(t))}),f(5,"lucide-angular",14),o()(),T(6,Ze,13,3,"div",58)(7,rt,13,7,"div",59),o()}if(d&2){let i,e,t=p.$implicit,r=b(2);m("formGroup",t),l(3),m("ngForOf",r.rangeFields),l(2),m("img",r.Trash2)("size",14),l(),m("ngIf",((i=t.get("useMin"))==null?null:i.value)&&((i=t.get("useMax"))==null?null:i.value)),l(),m("ngIf",!((e=t.get("useMin"))!=null&&e.value&&((e=t.get("useMax"))!=null&&e.value)))}}function nt(d,p){if(d&1){let i=O();a(0,"div",39)(1,"button",51),v("click",function(){y(i);let t=b();return x(t.addRange())}),f(2,"lucide-angular",14),c(3," A\xF1adir rango "),o(),a(4,"div",16),T(5,it,8,6,"div",52),o()()}if(d&2){let i=b();l(2),m("img",i.Plus)("size",16),l(3),m("ngForOf",i.rangosFA.controls)}}function at(d,p){if(d&1){let i=O();a(0,"div",39)(1,"div",75)(2,"label",76)(3,"input",77),v("change",function(t){y(i);let r=b();return x(r.toggleCond(t,"PROMESAS_HOY"))}),o(),a(4,"span",78),c(5,"Promesas para hoy"),o()(),a(6,"label",76)(7,"input",77),v("change",function(t){y(i);let r=b();return x(r.toggleCond(t,"PROMESAS_MANANA"))}),o(),a(8,"span",78),c(9,"Promesas para ma\xF1ana"),o()(),a(10,"label",76)(11,"input",77),v("change",function(t){y(i);let r=b();return x(r.toggleCond(t,"PROMESAS_MANANA2"))}),o(),a(12,"span",78),c(13,"Promesas para pasado ma\xF1ana"),o()(),a(14,"label",76)(15,"input",77),v("change",function(t){y(i);let r=b();return x(r.toggleCond(t,"PROMESAS_ROTAS"))}),o(),a(16,"span",78),c(17,"Promesas rotas"),o()()()()}}function ot(d,p){d&1&&(a(0,"div",39)(1,"div",79)(2,"label",76),f(3,"input",80),a(4,"span",78),c(5,"Sin contenido"),o()(),a(6,"label",76),f(7,"input",81),a(8,"span",78),c(9,"Excluir promesas periodo actual"),o()(),a(10,"label",76),f(11,"input",82),a(12,"span",78),c(13,"Excluir compromisos"),o()(),a(14,"label",76),f(15,"input",83),a(16,"span",78),c(17,"Excluir blacklist"),o()()(),a(18,"div",84)(19,"div",48)(20,"label",49),c(21,"L\xEDmite de filas:"),o(),f(22,"input",85),o()()())}function st(d,p){if(d&1&&(a(0,"div",86),c(1),o()),d&2){let i=b();l(),F(" ",i.previewText()," ")}}function lt(d,p){d&1&&(a(0,"div",87),c(1," Configura tu consulta para ver una vista previa "),o())}function dt(d,p){if(d&1){let i=O();a(0,"button",88),v("click",function(){y(i);let t=b();return x(t.refreshPreview())}),c(1," Actualizar preview "),o()}if(d&2){let i=b();m("disabled",i.previewMode()!=="manual"||i.loadingPreview())}}function ct(d,p){if(d&1&&(a(0,"div",89)(1,"div",90),f(2,"div",91),a(3,"p",92),c(4),o()()()),d&2){let i=b();k("bg-black/60",!i.isDarkMode())("bg-black/70",i.isDarkMode()),l(),k("dark",i.isDarkMode())("bg-white",!i.isDarkMode())("bg-gray-800",i.isDarkMode())("border",!0)("border-gray-200",!i.isDarkMode())("border-gray-700",i.isDarkMode()),l(),k("border-3",!0)("border-gray-300",!i.isDarkMode())("border-gray-600",i.isDarkMode())("border-t-blue-600",!i.isDarkMode())("border-t-blue-400",i.isDarkMode()),l(),k("text-gray-900",!i.isDarkMode())("text-gray-100",i.isDarkMode()),l(),A(i.loadingPreview()?"Cargando previsualizaci\xF3n...":i.loadingExport()?"Generando Excel...":"Guardando combo...")}}function ut(d,p){if(d&1){let i=O();a(0,"div",89)(1,"div",90)(2,"div",93),c(3,"\u26A0\uFE0F"),o(),a(4,"h3",94),c(5,"Atenci\xF3n"),o(),a(6,"p",95),c(7),o(),a(8,"button",96),v("click",function(){y(i);let t=b();return x(t.closeAlert())}),c(9,"Entendido"),o()()()}if(d&2){let i=b();k("bg-black/60",!i.isDarkMode())("bg-black/70",i.isDarkMode()),l(),k("dark",i.isDarkMode())("bg-white",!i.isDarkMode())("bg-gray-800",i.isDarkMode())("border",!0)("border-gray-200",!i.isDarkMode())("border-gray-700",i.isDarkMode()),l(3),k("text-gray-900",!i.isDarkMode())("text-gray-100",i.isDarkMode()),l(2),k("text-gray-700",!i.isDarkMode())("text-gray-300",i.isDarkMode()),l(),A(i.alertMessage())}}function gt(d,p){if(d&1){let i=O();a(0,"div",89)(1,"div",90)(2,"div",93),c(3,"\u2713"),o(),a(4,"h3",94),c(5,"\xC9xito"),o(),a(6,"p",95),c(7),o(),a(8,"button",97),v("click",function(){y(i);let t=b();return x(t.closeSuccess())}),c(9,"Aceptar"),o()()()}if(d&2){let i=b();k("bg-black/60",!i.isDarkMode())("bg-black/70",i.isDarkMode()),l(),k("dark",i.isDarkMode())("bg-white",!i.isDarkMode())("bg-gray-800",i.isDarkMode())("border",!0)("border-gray-200",!i.isDarkMode())("border-gray-700",i.isDarkMode()),l(3),k("text-gray-900",!i.isDarkMode())("text-gray-100",i.isDarkMode()),l(2),k("text-gray-700",!i.isDarkMode())("text-gray-300",i.isDarkMode()),l(),A(i.successMessage())}}function mt(d,p){if(d&1){let i=O();a(0,"div",89)(1,"div",98)(2,"h3",99),c(3,"Generaci\xF3n Guiada"),o(),a(4,"p",100),c(5,"\xBFCu\xE1ntas rondas deseas generar?"),o(),a(6,"input",101),re("ngModelChange",function(t){y(i);let r=b();return te(r.roundCount,t)||(r.roundCount=t),x(t)}),o(),a(7,"div",102)(8,"button",103),v("click",function(){y(i);let t=b();return x(t.closeRoundWizard())}),c(9,"Cancelar"),o(),a(10,"button",104),v("click",function(){y(i);let t=b();return x(t.confirmGenerate())}),c(11,"Generar"),o()()()()}if(d&2){let i=b();k("bg-black/60",!i.isDarkMode())("bg-black/70",i.isDarkMode()),l(),k("dark",i.isDarkMode())("bg-white",!i.isDarkMode())("bg-gray-800",i.isDarkMode())("border",!0)("border-gray-200",!i.isDarkMode())("border-gray-700",i.isDarkMode()),l(),k("text-gray-900",!i.isDarkMode())("text-gray-100",i.isDarkMode()),l(2),k("text-gray-700",!i.isDarkMode())("text-gray-300",i.isDarkMode()),l(2),k("border",!0)("border-gray-300",!i.isDarkMode())("border-gray-600",i.isDarkMode())("bg-white",!i.isDarkMode())("bg-gray-700",i.isDarkMode())("text-gray-900",!i.isDarkMode())("text-gray-100",i.isDarkMode())("focus:ring-blue-500",!i.isDarkMode())("focus:ring-blue-400",i.isDarkMode())("focus:border-blue-500",!i.isDarkMode())("focus:border-blue-400",i.isDarkMode())("hover:border-gray-400",!i.isDarkMode())("hover:border-gray-500",i.isDarkMode()),ee("ngModel",i.roundCount),l(2),k("bg-gray-100",!i.isDarkMode())("bg-gray-700",i.isDarkMode())("border",!0)("border-gray-300",!i.isDarkMode())("border-gray-600",i.isDarkMode())("text-gray-700",!i.isDarkMode())("text-gray-300",i.isDarkMode())("hover:bg-gray-200",!i.isDarkMode())("hover:bg-gray-600",i.isDarkMode())("hover:border-gray-400",!i.isDarkMode())("hover:border-gray-500",i.isDarkMode())}}var pt=/\{([A-Z0-9_]+)\}/gi,I=/\{([A-Z0-9_]+)\}/g,Nt=(()=>{let p=class p{constructor(){this.fbRef=D(L),this.api=D($e),this.comboApi=D(Je),this.router=D(le),this.themeService=D(Ue),this.isDarkMode=this.themeService.isDarkMode,this.sampleRow=w(null),this.Settings=ye,this.Filter=me,this.Plus=be,this.Trash2=ve,this.ListChecks=pe,this.Ban=de,this.FileText=ge,this.Table=xe,this.Eye=ue,this.Send=fe,this.Save=he,this.XCircle=ce,this.activeTab="variables",this.loadingModal=w({isOpen:!1,data:null}),this.alertModal=w({isOpen:!1,data:null}),this.successModal=w({isOpen:!1,data:null}),this.roundWizardModal=w({isOpen:!1,data:null}),this.rangeFields=[{key:"DEUDA_TOTAL",label:"Deuda total"},{key:"CAPITAL",label:"Capital"},{key:"SALDO_MORA",label:"Saldo mora"},{key:"BAJA30",label:"Baja 30"},{key:"LTD",label:"LTD"},{key:"LTDE",label:"LTDE"},{key:"PKM",label:"PKM"},{key:"DIASMORA",label:"D\xEDas mora"}],this.selects=new Set,this.condiciones=new Set,this.chipGroups=[{key:"cliente",title:"Cliente",items:[{key:"NOMBRE",label:"Nombre",affectsSelects:!0},{key:"NOMBRECOMPLETO",label:"Nombre completo",affectsSelects:!0},{key:"EMAIL",label:"Correo",affectsSelects:!0},{key:"NUMCUENTAPMCP",label:"N\xB0 de Cuenta",affectsSelects:!0}]},{key:"financiero",title:"Financiero",items:[{key:"LTD",label:"LTD",affectsSelects:!0},{key:"LTDE",label:"LTDE",affectsSelects:!0},{key:"LTD_LTDE",label:"LTD y LTDE",affectsSelects:!0},{key:"BAJA30",label:"Baja 30",affectsSelects:!0},{key:"MORA",label:"Saldo Mora",affectsSelects:!0},{key:"BAJA30_SALDOMORA",label:"Baja 30 y Saldo Mora",affectsSelects:!0},{key:"PKM",label:"PKM",affectsSelects:!0},{key:"CAPITAL",label:"Capital",affectsSelects:!0},{key:"DEUDA_TOTAL",label:"Deuda Total",affectsSelects:!0}]},{key:"fechas",title:"Fechas",items:[{key:"DIASMORA",label:"D\xEDas mora",affectsSelects:!0},{key:"HOY",label:"Hoy",affectsSelects:!1},{key:"MANANA",label:"Ma\xF1ana",affectsSelects:!1}]}],this.chips=this.chipGroups.flatMap(e=>e.items),this.selectedChips=new Set,this.previewText=N(()=>{let e=this.tplSig(),t=this.sampleRow();return this.renderTemplate(e,t)}),this.form=D(L).nonNullable.group({tramo:"3",noContenido:!1,excluirPromesasPeriodoActual:!0,excluirCompromisos:!0,excluirBlacklist:!0,limit:1e3,nombre:D(L).nonNullable.control(""),plantillaTexto:D(L).nonNullable.control(""),descripcion:D(L).nonNullable.control(""),importeExtra:D(L).nonNullable.control(0),rangos:D(L).array([])}),this.tplSig=ze(this.form.controls.plantillaTexto.valueChanges.pipe(U(this.form.controls.plantillaTexto.value??"")),{initialValue:this.form.controls.plantillaTexto.value??""}),this.rows=w([]),this.cols=w([]),this.Math=Math,this.tokensInText=w(new Set),this.affectsMap=new Map(this.chipGroups.flatMap(e=>e.items.map(t=>[this.mapVar(t.key),t.affectsSelects!==!1]))),this.previewMode=w("manual"),this.loadingPreview=w(!1),this.loadingExport=w(!1),this.loadingSave=w(!1),this.lastHash=w(""),this.pendingPreview=N(()=>this.previewMode()==="manual"&&this.hash(this.currentQueryForPreview())!==this.lastHash()),this.alertMessage=N(()=>this.alertModal().isOpen?this.alertModal().data?.message||"":null),this.successMessage=N(()=>this.successModal().isOpen?this.successModal().data?.message||"":null),this.showRoundWizard=N(()=>this.roundWizardModal().isOpen),this.roundCount=1}insertAtCursor(e){let t=this.form.controls.plantillaTexto,r=this.tplArea?.nativeElement,n=r?.value??t.value??"";if(!r){let S=n&&!n.endsWith(" ")?" ":"";t.setValue(n+S+e),t.markAsDirty();return}let s=r.selectionStart??n.length,u=r.selectionEnd??s,g=n.slice(0,s),_=n.slice(u),h=(g.length&&!/\s$/.test(g)?" ":"")+e,C=g+h+_;r.value=C,t.setValue(C),t.markAsDirty();let P=(g+h).length;setTimeout(()=>{r.focus(),r.selectionStart=r.selectionEnd=P},0)}isSelected(e){return this.selectedChips.has(e)}aliasKeys(e){let t=e.toUpperCase();switch(t){case"MORA":case"SALDO_MORA":return["SALDO_MORA","MORA","SALDO MORA"];case"BAJA30":return["BAJA30","BAJA_30","BAJA 30"];case"BAJA30_SALDOMORA":return["BAJA30_SALDOMORA","BAJA30_SALDO_MORA","BAJA 30 SALDO MORA"];case"DEUDA_TOTAL":return["DEUDA_TOTAL","DEUDA TOTAL"];case"LTD_LTDE":return["LTD_LTDE","LTD+LTDE","LTD LTDE"];case"NOMBRECOMPLETO":return["NOMBRECOMPLETO","NOMBRE COMPLETO"];case"EMAIL":return["EMAIL"];case"NUMCUENTAPMCP":return["NUMCUENTAPMCP","NUMCUENTA_PMCP","NUM_CUENTA_PMCP","NUMCUENTA PMCP","N\xB0 CUENTA PMCP"];case"DIASMORA":return["DIASMORA","DIAS_MORA","DIAS MORA"];default:return[t,t.replace(/\s+/g,"_")]}}mapVar(e){let t=e.toUpperCase();return t==="MORA"?"SALDO_MORA":t}getVal(e,t){let r=this.aliasKeys(this.mapVar(t));for(let n of r)if(e.hasOwnProperty(n))return e[n]}hasMeaningfulValue(e,t){let r=this.getVal(e,t);return r==null?!1:typeof r=="string"?r.trim().length>0:typeof r=="number"?r>0:!0}requiredColumnsForPreview(){let e=Array.from(this.selects),r=((this.form.controls.plantillaTexto.value??"").match(I)||[]).map(u=>u.slice(1,-1)),n=Array.from(new Set([...e,...r])).map(u=>this.mapVar(u)),s=new Set(["LTD","LTDE","LTD_LTDE","BAJA30","SALDO_MORA","BAJA30_SALDOMORA","CAPITAL","DEUDA_TOTAL","PKM"]);return Array.from(new Set(e.map(u=>this.mapVar(u)))).filter(u=>s.has(u))}preferredColumnsForPreview(){let t=((this.form.controls.plantillaTexto.value??"").match(I)||[]).map(n=>this.mapVar(n.slice(1,-1))),r=new Set(this.requiredColumnsForPreview());return Array.from(new Set(t.filter(n=>!r.has(n))))}pickBestRow(e,t,r){let n=e,s=n.filter(M=>t.every(h=>this.hasMeaningfulValue(M,h)));if(s.length)return s.sort((M,h)=>{let C=r.reduce((S,V)=>S+(this.hasMeaningfulValue(M,V)?1:0),0);return r.reduce((S,V)=>S+(this.hasMeaningfulValue(h,V)?1:0),0)-C}),s[0];let u=null,g=-1,_=-1;for(let M of n){let h=t.reduce((P,S)=>P+(this.hasMeaningfulValue(M,S)?1:0),0),C=r.reduce((P,S)=>P+(this.hasMeaningfulValue(M,S)?1:0),0);(h>g||h===g&&C>_)&&(u=M,g=h,_=C)}return u??e[0]??null}toggleChip(e,t=!0){this.selectedChips.has(e)?(this.selectedChips.delete(e),t&&this.selects.delete(e),this.removePlaceholder(e)):((e==="BAJA30"||e==="MORA")&&this.selectedChips.has("BAJA30_SALDOMORA")&&(this.selectedChips.delete("BAJA30_SALDOMORA"),this.selects.delete("BAJA30_SALDOMORA"),this.removePlaceholder("BAJA30_SALDOMORA")),e==="BAJA30_SALDOMORA"&&(this.selectedChips.has("BAJA30")&&(this.selectedChips.delete("BAJA30"),this.selects.delete("BAJA30"),this.removePlaceholder("BAJA30")),this.selectedChips.has("MORA")&&(this.selectedChips.delete("MORA"),this.selects.delete("MORA"),this.removePlaceholder("MORA"))),(e==="LTD"||e==="LTDE")&&this.forceDeselect("LTD_LTDE"),e==="LTD_LTDE"&&(this.forceDeselect("LTD"),this.forceDeselect("LTDE")),this.selectedChips.add(e),t&&this.selects.add(e),this.insertPlaceholderOnce(e)),this.hasTopUpSelect()||this.form.controls.importeExtra.setValue(0),this.fetchSampleRow()}onTextareaInput(e){let t=e.target;this.form.controls.plantillaTexto.setValue(t.value)}normalizeRow(e){let t={};return Object.keys(e||{}).forEach(r=>{let n=r.replace(/\s+/g,"_").toUpperCase();t[n]=e[r]}),t}fetchSampleRow(){this.previewMode()==="auto"&&this.triggerPreview()}renderTemplate(e,t){if(!e)return"";if(!t)return e;let r=this.normalizeRow(t),n=M=>String(M??"").trim().split(/\s+/)[0]||"",s=M=>{let h=Number(M);return Number.isFinite(h)?Math.trunc(h).toLocaleString("es-PE"):""},u=new Date,g=new Date(u.getTime()+1440*60*1e3),_=M=>M.toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit"});return e.replace(I,(M,h)=>{switch(h){case"NOMBRE":return n(this.getVal(r,"NOMBRE"));case"HOY":return _(u);case"MANANA":return _(g);case"DIASMORA":case"LTD":case"LTDE":case"LTD_LTDE":case"BAJA30":case"SALDO_MORA":case"BAJA30_SALDOMORA":case"CAPITAL":case"DEUDA_TOTAL":case"PKM":return s(this.getVal(r,h));default:let C=this.getVal(r,h);return C===void 0?"":String(C)}})}expandWithAliases(e){let t=new Set;return e.forEach(r=>this.aliasKeys(r).forEach(n=>t.add(n))),Array.from(t)}ngOnInit(){this.form.valueChanges.pipe(U(this.form.getRawValue()),Q(300),J(t=>({tramo:t.tramo,importeExtra:t.importeExtra,plantillaTexto:t.plantillaTexto,selects:Array.from(this.selects),condiciones:Array.from(this.condiciones)})),z((t,r)=>JSON.stringify(t)===JSON.stringify(r))).subscribe(()=>{this.syncChipsWithTemplate(),this.previewMode()==="auto"&&this.triggerPreview()}),this.form.controls.plantillaTexto.valueChanges.pipe(Q(200)).subscribe(()=>{this.syncChipsWithTemplate(),this.previewMode()==="auto"&&this.triggerPreview()}),this.syncChipsWithTemplate(),this.previewMode()==="auto"&&this.triggerPreview()}insertPlaceholderOnce(e){let r=this.tplArea?.nativeElement?.value??this.form.controls.plantillaTexto.value??"";new RegExp(`\\{${e}\\}(?!\\w)`,"i").test(r)||this.insertAtCursor(`{${e}}`)}hasTopUpSelect(){return this.selectedChips.has("LTD")||this.selectedChips.has("LTDE")||this.selectedChips.has("LTD_LTDE")}get rangosFA(){return this.form.get("rangos")}validateMinLTMax(){return e=>{let t=e,r=t.get("min")?.value,n=t.get("max")?.value;return r!=null&&n!=null&&Number(r)>Number(n)?{rangeOrder:!0}:null}}makeRange(){return this.fbRef.nonNullable.group({field:this.fbRef.nonNullable.control("DEUDA_TOTAL",{validators:[Ce.required]}),mode:this.fbRef.nonNullable.control("gt"),useMin:this.fbRef.nonNullable.control(!0),min:this.fbRef.control(null),inclusiveMin:this.fbRef.nonNullable.control(!1),useMax:this.fbRef.nonNullable.control(!1),max:this.fbRef.control(null),inclusiveMax:this.fbRef.nonNullable.control(!0)},{validators:[this.validateRange()]})}changeOperator(e,t){let r=this.rangosFA.at(e);r.get("mode")?.setValue(t),t==="gt"?(r.get("useMin")?.setValue(!0),r.get("useMax")?.setValue(!1),r.get("max")?.setValue(null)):(r.get("useMin")?.setValue(!1),r.get("useMax")?.setValue(!0),r.get("min")?.setValue(null))}toggleUseMin(e,t){let r=this.rangosFA.at(e);r.get("useMin")?.setValue(t),t||r.get("min")?.setValue(null)}toggleUseMax(e,t){let r=this.rangosFA.at(e);r.get("useMax")?.setValue(t),t||r.get("max")?.setValue(null)}toggleInterval(e,t){t&&(this.toggleUseMin(e,!0),this.toggleUseMax(e,!0))}validateRange(){return e=>{let t=e,r=!!t.get("useMin")?.value,n=!!t.get("useMax")?.value,s=t.get("min")?.value,u=t.get("max")?.value;return!r&&!n?{noBoundSelected:!0}:r&&(s==null||s==="")?{minRequired:!0}:n&&(u==null||u==="")?{maxRequired:!0}:r&&n&&Number(s)>Number(u)?{rangeOrder:!0}:null}}addRange(){this.rangosFA.push(this.makeRange())}removeRange(e){this.rangosFA.removeAt(e)}onSelectChange(e,t){let r=e.target;r.checked?(this.selects.add(r.value),this.insertPlaceholder(t)):(this.selects.delete(r.value),this.removePlaceholder(t))}toggleCond(e,t){e.target.checked?this.condiciones.add(t):this.condiciones.delete(t),this.fetchSampleRow()}buildBody(e){let t=this.form.getRawValue(),r=Array.from(this.selects).map(h=>h==="MORA"?"SALDO_MORA":h),n=new Set(["PROMESAS_HOY","PROMESAS_MANANA","PROMESAS_MANANA2","PROMESAS_ROTAS"]),s=Array.from(this.condiciones).filter(h=>n.has(h)),g=Array.from(this.extractTokens()).filter(h=>this.affectsMap.get(h));r=Array.from(new Set([...r,...g]));let _=this.hasTopUpSelect()&&Number(t.importeExtra)>0?Math.trunc(Number(t.importeExtra)):null,M=this.rangosFA.controls.map(h=>{let C=String(h.get("field")?.value||"").toUpperCase(),P=!!h.get("useMin")?.value,S=!!h.get("useMax")?.value,V=h.get("min")?.value,Ge=h.get("max")?.value;return{field:C,min:P?Number(V):void 0,max:S?Number(Ge):void 0,inclusiveMin:!!h.get("inclusiveMin")?.value,inclusiveMax:!!h.get("inclusiveMax")?.value}}).filter(h=>h.min!=null||h.max!=null);return{selects:r,tramo:t.tramo,condiciones:s,restricciones:{noContenido:!!t.noContenido,excluirPromesasPeriodoActual:!!t.excluirPromesasPeriodoActual,excluirCompromisos:!!t.excluirCompromisos,excluirBlacklist:!!t.excluirBlacklist},limit:e?Number(t.limit||1e3):void 0,importeExtra:_,rangos:M.length?M:void 0}}ejecutar(){let e=this.buildBody(!0);this.api.run(e).subscribe(t=>{this.rows.set(t),this.cols.set(t.length?Object.keys(t[0]):[])})}alert(e,t="Aviso"){this.alertModal.set({isOpen:!0,data:{title:t,message:e}})}compactQuery(e){let t=R({},e);return t.limit==null&&delete t.limit,t.importeExtra==null&&delete t.importeExtra,delete t.plantillaTexto,t}exportar(){let e=this.buildBody(!1),t=this.compactQuery(e),r=B(R({},t),{selectAll:!0}),n=(this.form.controls.plantillaTexto.value??"").trim();if(!n){this.alert("Ingresa un texto de SMS antes de exportar.","Falta texto");return}this.loadingModal.set({isOpen:!0,data:{title:"Generando Excel\u2026",subtitle:"Preparando datos y creando archivo"}}),this.api.precheck(r,n).subscribe({next:s=>{if(!s.ok){this.loadingModal.set({isOpen:!1,data:null});let u=`${s.excedidos} ${s.excedidos===1?"fila":"filas"} superan ${s.limite} caracteres.`,g=(s.ejemplos??[]).map(_=>`\u2022 ${_.len} caracteres \u2014 DNI: ${_.documento||"(sin DNI)"}`).join(`
`);this.alert(`${u}

Primeros ${Math.min((s.ejemplos??[]).length,3)} casos:
${g}`,"Mensaje demasiado largo");return}this.api.export(r,n).pipe($(()=>this.loadingModal.set({isOpen:!1,data:null}))).subscribe({next:u=>{let g=URL.createObjectURL(u),_=document.createElement("a");_.href=g,_.download=`sms report ${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(_),_.click(),_.remove(),URL.revokeObjectURL(g),this.showSuccess("Exportaci\xF3n exitosa","Tu archivo se gener\xF3 correctamente.")},error:u=>{let g=u?.status===422?u?.error?.message||"No hay filas para exportar con los filtros seleccionados.":u?.error?.message||u?.message||"Ocurri\xF3 un error al exportar.";this.alert(g,u?.status===422?"Sin resultados":"Error")}})},error:s=>{this.loadingModal.set({isOpen:!1,data:null});let u=s?.error?.message||s?.message||"No se pudo validar el SMS.";this.alert(u,"Error en precheck")}})}insertPlaceholder(e){this.insertAtCursor(`{${e}}`)}mapRangosForPayload(){return this.rangosFA.controls.map(e=>{let t=String(e.get("field")?.value||"").toUpperCase(),r=!!e.get("useMin")?.value,n=!!e.get("useMax")?.value,s=e.get("min")?.value,u=e.get("max")?.value;return{field:t,min:r?Number(s):void 0,max:n?Number(u):void 0,inclusiveMin:!!e.get("inclusiveMin")?.value,inclusiveMax:!!e.get("inclusiveMax")?.value}}).filter(e=>e.min!=null||e.max!=null)}guardarCombo(){let e=this.form.getRawValue(),t=this.hasTopUpSelect()&&Number(e.importeExtra)>0?Math.trunc(Number(e.importeExtra)):null,r=this.mapRangosForPayload(),n={name:e.nombre,plantillaName:e.nombre,descripcion:e.descripcion,tramo:e.tramo,selects:Array.from(this.selects),condiciones:Array.from(this.condiciones),restricciones:{noContenido:!!e.noContenido,excluirPromesasPeriodoActual:!!e.excluirPromesasPeriodoActual,excluirCompromisos:!!e.excluirCompromisos,excluirBlacklist:!!e.excluirBlacklist},plantillaTexto:e.plantillaTexto,importeExtra:t,rangos:r.length?r:void 0};this.comboApi.createCombo(n).subscribe({next:s=>{this.form.reset({tramo:"3",excluirPromesasPeriodoActual:!0,excluirCompromisos:!0,excluirBlacklist:!0,limit:1e3,nombre:"",plantillaTexto:"",descripcion:""}),this.selects.clear(),this.condiciones.clear(),this.rows.set([]),this.cols.set([]),this.showSuccess("Guardado","El combo se guard\xF3 correctamente."),setTimeout(()=>{this.router.navigate(["/SMS"])},1800)},error:s=>{let u=s?.error?.message||s?.message||"No se pudo guardar el combo.";this.alert(u,"Error")}})}Cancel(){this.router.navigate(["/List-sms"])}removePlaceholder(e){let t=this.form.controls.plantillaTexto,r=t.value??"",n=new RegExp(`\\{${e}\\}`,"g"),s=r.replace(n,"");s=s.replace(/\s{2,}/g," ").replace(/\s+([.,;:!?])/g,"$1").trim(),s!==r&&(t.setValue(s),t.markAsDirty())}fieldLabel(e){let t=String(e||"").toUpperCase();return this.rangeFields.find(n=>n.key===t)?.label??t}showSuccess(e,t,r=1800){this.successModal.set({isOpen:!0,data:{title:e,message:t,autoCloseMs:r}})}forceDeselect(e,t=!0){this.selectedChips.has(e)&&(this.selectedChips.delete(e),t&&this.selects.delete(e),this.removePlaceholder(e))}isChipDisabled(e){return this.isActive(e)?!1:e==="LTD_LTDE"?this.isActive("LTD")||this.isActive("LTDE"):e==="LTD"||e==="LTDE"?this.isActive("LTD_LTDE"):e==="BAJA30_SALDOMORA"?this.isActive("BAJA30")||this.isActive("MORA"):e==="BAJA30"||e==="MORA"?this.isActive("BAJA30_SALDOMORA"):!1}extractTokens(){let t=((this.form.controls.plantillaTexto.value??"").match(I)||[]).map(r=>this.mapVar(r.slice(1,-1)));return new Set(t)}syncChipsWithText(){let e=this.extractTokens();this.tokensInText.set(e);for(let t of Array.from(this.selectedChips)){let r=this.mapVar(t);(this.affectsMap.get(r)??!0)&&!e.has(r)&&(this.selectedChips.delete(t),this.selects.delete(t==="MORA"?"SALDO_MORA":t))}}isActive(e){return this.selectedChips.has(e)||this.tokensInText().has(this.mapVar(e))}chipMeta(e){for(let t of this.chipGroups){let r=t.items.find(n=>n.key===e);if(r)return r}}affectsSelects(e){return this.chipMeta(e)?.affectsSelects!==!1}syncChipsWithTemplate(){let e=this.form.controls.plantillaTexto.value??"",t=new Set;for(let g of e.matchAll(pt))t.add(String(g[1]).toUpperCase());t.has("SALDO_MORA")&&t.add("MORA"),t.has("MORA")&&t.add("SALDO_MORA"),this.tokensInText.set(new Set(t));let r=g=>t.has(g.toUpperCase()),n=g=>{this.selectedChips.has(g)||(this.selectedChips.add(g),this.affectsSelects(g)&&this.selects.add(g==="MORA"?"SALDO_MORA":g))},s=g=>{this.selectedChips.has(g)&&(this.selectedChips.delete(g),this.affectsSelects(g)&&this.selects.delete(g==="MORA"?"SALDO_MORA":g))};r("BAJA30_SALDOMORA")?(n("BAJA30_SALDOMORA"),s("BAJA30"),s("MORA")):(s("BAJA30_SALDOMORA"),r("BAJA30")?n("BAJA30"):s("BAJA30"),r("MORA")?n("MORA"):s("MORA")),r("LTD_LTDE")?(n("LTD_LTDE"),s("LTD"),s("LTDE")):(s("LTD_LTDE"),r("LTD")?n("LTD"):s("LTD"),r("LTDE")?n("LTDE"):s("LTDE"));let u=new Set(["BAJA30","MORA","BAJA30_SALDOMORA","LTD","LTDE","LTD_LTDE"]);for(let g of this.chipGroups)for(let _ of g.items)u.has(_.key)||(r(_.key)?n(_.key):s(_.key));this.hasTopUpSelect()||this.form.controls.importeExtra.setValue(0)}generarGuiado(){let e=(this.form.controls.plantillaTexto.value??"").trim();if(!e){this.alert("Ingresa un texto de SMS antes de generar.","Falta texto");return}let t=this.buildBody(!1),r=this.compactQuery(t),s=Array.from(this.extractTokens()).filter(g=>this.affectsMap.get(g));r.selects=Array.from(new Set([...r.selects||[],...s]));let u=["BAJA30","SALDO_MORA","BAJA30_SALDOMORA","LTD","LTDE","LTD_LTDE","PKM","CAPITAL"];this.loadingModal.set({isOpen:!0,data:{title:"Preparando cohorte\u2026",subtitle:"Calculando variables candidatas"}}),this.api.previewInit(r,e,u).subscribe({next:g=>{this.loadingModal.set({isOpen:!1,data:null}),this.roundWizardModal.set({isOpen:!0,data:{sessionId:g.sessionId,init:g,template:e}})},error:g=>{this.loadingModal.set({isOpen:!1,data:null});let _=g?.error?.message||g?.message||"No se pudo iniciar el guiado.";this.alert(_,"Error")}})}triggerPreview(){let e=this.currentQueryForPreview(),t=this.hash(e);if(t===this.lastHash()&&this.sampleRow())return;this.lastHash.set(t),this.loadingPreview.set(!0);let r=this.requiredColumnsForPreview(),n=this.preferredColumnsForPreview();this.api.run(e).subscribe({next:s=>{let u=this.pickBestRow(s||[],r,n);this.sampleRow.set(u??null),this.loadingPreview.set(!1)},error:()=>{this.sampleRow.set(null),this.loadingPreview.set(!1)}})}refreshPreview(){this.triggerPreview()}setMode(e){this.previewMode.set(e),e==="auto"&&this.triggerPreview()}hash(e){let t={tramo:e.tramo,selects:[...e.selects||[]].sort(),condiciones:[...e.condiciones||[]].sort(),restricciones:e.restricciones,importeExtra:e.importeExtra??null};return JSON.stringify(t)}currentQueryForPreview(){let e=this.buildBody(!0),t=this.form.controls.plantillaTexto.value??"",r=Array.from(new Set((t.match(I)||[]).map(n=>this.mapVar(n.slice(1,-1)))));return e.selects=Array.from(new Set([...e.selects||[],...r])),e.selects=Array.from(new Set([...e.selects||[],...this.expandWithAliases(e.selects||[])])),e}onLoadingModalClosed(){this.loadingModal.set({isOpen:!1,data:null})}onAlertModalClosed(){this.alertModal.set({isOpen:!1,data:null})}onSuccessModalClosed(){this.successModal.set({isOpen:!1,data:null})}onRoundWizardModalClosed(){this.roundWizardModal.set({isOpen:!1,data:null})}closeAlert(){this.alertModal.set({isOpen:!1,data:null})}closeSuccess(){this.successModal.set({isOpen:!1,data:null})}closeRoundWizard(){this.roundWizardModal.set({isOpen:!1,data:null})}confirmGenerate(){console.log(`Generando ${this.roundCount} rondas`),this.closeRoundWizard()}};p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=W({type:p,selectors:[["app-dyn-query"]],viewQuery:function(t,r){if(t&1&&K(We,5),t&2){let n;Y(n=X())&&(r.tplArea=n.first)}},decls:81,vars:54,consts:[["tplArea",""],["noPreview",""],[1,"min-h-screen","pt-24","px-8"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],["formControlName","tramo",1,"px-3","py-2.5","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","font-medium","cursor-pointer","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm",3,"formGroup"],["value","3"],["value","5"],["value","CONTACTO_TOTAL"],[1,"grid","grid-cols-[1fr_380px]","gap-3","items-start"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[3,"formGroup"],[1,"flex","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],["type","button",1,"flex-1","flex","items-center","justify-center","gap-1.5","px-4","py-3","text-sm","font-medium","transition-all","cursor-pointer","border-b-2",3,"click"],[3,"img","size"],["class","p-4 animate-fade-in",4,"ngIf"],[1,"space-y-3"],[1,"flex","items-center","gap-2","p-4","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],[1,"text-blue-600","dark:text-blue-400",3,"img","size"],[1,"text-sm","font-bold","text-gray-900","dark:text-white"],[1,"p-4"],["formControlName","plantillaTexto","placeholder","Escribe tu mensaje SMS aqu\xED. Usa los chips para insertar variables como {NOMBRE}, {LTD}, etc.","rows","6",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm","resize-none",3,"input"],[1,"flex","items-center","justify-between","mt-2"],[1,"text-xs","font-semibold","text-gray-500","dark:text-gray-400"],[1,"text-xs","font-bold"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-800/50"],[1,"flex","items-center","gap-2"],[1,"flex","gap-1","bg-gray-200","dark:bg-gray-700","rounded-lg","p-1"],["type","button",3,"click"],["class","p-3 bg-gradient-to-r from-blue-600 to-violet-600 text-white rounded-lg text-sm leading-relaxed shadow-lg min-h-[80px]",4,"ngIf","ngIfElse"],["type","button","class","w-full mt-3 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-200 dark:hover:bg-gray-600 hover:border-gray-400 dark:hover:border-gray-500 transition-all cursor-pointer shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","border","border-gray-200","dark:border-gray-700","p-4","space-y-3"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2.5","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg","shadow-blue-500/20","hover:shadow-xl","hover:shadow-blue-500/30","cursor-pointer",3,"click"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2.5","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-700","dark:text-gray-300","text-sm","font-medium","hover:bg-gray-200","dark:hover:bg-gray-600","hover:border-gray-400","dark:hover:border-gray-500","transition-all","cursor-pointer","shadow-sm",3,"click"],[1,"pt-3","border-t","border-gray-200","dark:border-gray-700","space-y-2"],["type","text","formControlName","nombre","placeholder","Nombre del combo",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],["formControlName","descripcion","placeholder","Descripci\xF3n (opcional)","rows","2",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm","resize-none"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2.5","bg-gradient-to-r","from-green-600","to-emerald-600","hover:from-green-700","hover:to-emerald-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg","shadow-green-500/20","hover:shadow-xl","hover:shadow-green-500/30","cursor-pointer",3,"click"],["class","fixed inset-0 z-[2000] flex items-center justify-center animate-fade-in",3,"bg-black/60","bg-black/70",4,"ngIf"],[1,"p-4","animate-fade-in"],[4,"ngFor","ngForOf"],["class","mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"border-b","border-gray-200","dark:border-gray-700","pb-3","last:border-0","last:pb-0"],[1,"text-xs","font-bold","text-gray-500","dark:text-gray-400","uppercase","tracking-wider","mb-2"],[1,"flex","flex-wrap","gap-2"],["type","button",3,"class","disabled","click",4,"ngFor","ngForOf"],["type","button",3,"click","disabled"],[1,"mt-4","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300"],["type","number","min","0","step","1","formControlName","importeExtra","placeholder","0",1,"px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm","w-32"],["type","button",1,"flex","items-center","gap-2","px-4","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg","shadow-blue-500/20","hover:shadow-xl","hover:shadow-blue-500/30","cursor-pointer","mb-4",3,"click"],["class","bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-4 shadow-sm hover:shadow-md transition-all",3,"formGroup",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","border","border-gray-200","dark:border-gray-600","rounded-xl","p-4","shadow-sm","hover:shadow-md","transition-all",3,"formGroup"],[1,"flex","items-center","justify-between","mb-3"],["formControlName","field",1,"flex-1","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","font-medium","cursor-pointer","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],[3,"value",4,"ngFor","ngForOf"],["type","button","title","Eliminar",1,"ml-2","p-2","bg-red-50","dark:bg-red-900/30","border","border-red-300","dark:border-red-700","rounded-lg","text-red-700","dark:text-red-300","hover:bg-red-100","dark:hover:bg-red-900/50","hover:border-red-400","dark:hover:border-red-600","transition-all","cursor-pointer",3,"click"],["class","flex items-center gap-2 flex-wrap",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"flex","items-center","gap-2","flex-wrap"],["type","number","formControlName","min","placeholder","m\xEDn",1,"w-24","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],[1,"flex","items-center","gap-1","cursor-pointer"],["type","checkbox","formControlName","inclusiveMin",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-lg","font-bold","text-gray-700","dark:text-gray-300"],[1,"px-3","py-1","bg-blue-100","dark:bg-blue-900/30","border","border-blue-300","dark:border-blue-800/50","text-blue-700","dark:text-blue-300","rounded-md","text-sm","font-bold"],["type","checkbox","formControlName","inclusiveMax",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","number","formControlName","max","placeholder","m\xE1x",1,"w-24","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],[1,"flex","gap-2","mb-3"],[1,"space-y-2","mb-3"],[1,"flex","items-center","gap-2","cursor-pointer","text-sm","text-gray-700","dark:text-gray-300"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change","checked"],["type","number","formControlName","min","placeholder","valor",1,"w-32","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],["type","number","formControlName","max","placeholder","valor",1,"w-32","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],[1,"flex","items-center","gap-3","p-3","bg-white","dark:bg-gray-700","border","border-gray-200","dark:border-gray-600","rounded-lg","cursor-pointer","hover:bg-blue-50","dark:hover:bg-gray-600","hover:border-blue-400","dark:hover:border-blue-500","transition-all","shadow-sm"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3","mb-4"],["type","checkbox","formControlName","noContenido",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","checkbox","formControlName","excluirPromesasPeriodoActual",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","checkbox","formControlName","excluirCompromisos",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","checkbox","formControlName","excluirBlacklist",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],["type","number","min","1","formControlName","limit","placeholder","1000",1,"px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-white","dark:bg-gray-700","text-gray-900","dark:text-gray-100","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","focus:border-blue-500","dark:focus:border-blue-400","transition-all","hover:border-gray-400","dark:hover:border-gray-500","shadow-sm","w-32"],[1,"p-3","bg-gradient-to-r","from-blue-600","to-violet-600","text-white","rounded-lg","text-sm","leading-relaxed","shadow-lg","min-h-[80px]"],[1,"p-8","text-center","text-sm","text-gray-500","dark:text-gray-400","bg-gray-50","dark:bg-gray-900/50","rounded-lg","border","border-gray-200","dark:border-gray-700","border-dashed","min-h-[80px]","flex","items-center","justify-center"],["type","button",1,"w-full","mt-3","px-4","py-2","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-700","dark:text-gray-300","text-sm","font-medium","hover:bg-gray-200","dark:hover:bg-gray-600","hover:border-gray-400","dark:hover:border-gray-500","transition-all","cursor-pointer","shadow-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fixed","inset-0","z-[2000]","flex","items-center","justify-center","animate-fade-in"],[1,"rounded-lg","p-6","max-w-md","w-11/12","shadow-2xl","text-center","animate-scale-in"],[1,"w-10","h-10","rounded-full","animate-spin","mx-auto","mb-4"],[1,"text-base","font-bold"],[1,"text-4xl","mb-3"],[1,"text-lg","font-bold","mb-2"],[1,"text-sm","mb-4","whitespace-pre-line"],["type","button",1,"w-full","px-4","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg",3,"click"],["type","button",1,"w-full","px-4","py-2","bg-gradient-to-r","from-green-600","to-emerald-600","hover:from-green-700","hover:to-emerald-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg",3,"click"],[1,"rounded-lg","p-6","max-w-md","w-11/12","shadow-2xl","animate-scale-in"],[1,"text-xl","font-bold","mb-2"],[1,"text-sm","mb-4"],["type","number","min","1","max","10","placeholder","N\xFAmero de rondas",1,"w-full","px-3","py-2","rounded-lg","text-sm","focus:outline-none","focus:ring-2","transition-all","shadow-sm","mb-4",3,"ngModelChange","ngModel"],[1,"flex","gap-3"],["type","button",1,"flex-1","px-4","py-2","rounded-lg","text-sm","font-medium","transition-all","cursor-pointer","shadow-sm",3,"click"],["type","button",1,"flex-1","px-4","py-2","bg-gradient-to-r","from-blue-600","to-violet-600","hover:from-blue-700","hover:to-violet-700","text-white","rounded-lg","text-sm","font-medium","transition-all","shadow-lg","shadow-blue-500/20","hover:shadow-xl","hover:shadow-blue-500/30","cursor-pointer",3,"click"]],template:function(t,r){if(t&1){let n=O();a(0,"div",2)(1,"div",3)(2,"h1",4),c(3,"Consulta Din\xE1mica SMS"),o(),a(4,"select",5)(5,"option",6),c(6,"Tramo 3"),o(),a(7,"option",7),c(8,"Tramo 5"),o(),a(9,"option",8),c(10,"Cartera Propia"),o()()(),a(11,"div",9)(12,"div",10)(13,"form",11)(14,"div",12)(15,"button",13),v("click",function(){return y(n),x(r.activeTab="variables")}),f(16,"lucide-angular",14),c(17," Variables "),o(),a(18,"button",13),v("click",function(){return y(n),x(r.activeTab="rangos")}),f(19,"lucide-angular",14),c(20," Rangos "),o(),a(21,"button",13),v("click",function(){return y(n),x(r.activeTab="condiciones")}),f(22,"lucide-angular",14),c(23," Condiciones "),o(),a(24,"button",13),v("click",function(){return y(n),x(r.activeTab="restricciones")}),f(25,"lucide-angular",14),c(26," Restricciones "),o()(),T(27,Ye,4,2,"div",15)(28,nt,6,3,"div",15)(29,at,18,0,"div",15)(30,ot,23,0,"div",15),o()(),a(31,"div",16)(32,"div",10)(33,"div",17),f(34,"lucide-angular",18),a(35,"span",19),c(36,"Plantilla SMS"),o()(),a(37,"div",20)(38,"textarea",21,0),v("input",function(u){return y(n),x(r.onTextareaInput(u))}),o(),a(40,"div",22)(41,"span",23),c(42,"Caracteres:"),o(),a(43,"span",24),c(44),o()()()(),a(45,"div",10)(46,"div",25)(47,"div",26),f(48,"lucide-angular",18),a(49,"span",19),c(50,"Vista Previa"),o()(),a(51,"div",27)(52,"button",28),v("click",function(){return y(n),x(r.setMode("manual"))}),c(53," Manual "),o(),a(54,"button",28),v("click",function(){return y(n),x(r.setMode("auto"))}),c(55," Auto "),o()()(),a(56,"div",20),T(57,st,2,1,"div",29)(58,lt,2,0,"ng-template",null,1,ie)(60,dt,2,1,"button",30),o()(),a(61,"div",31)(62,"button",32),v("click",function(){return y(n),x(r.generarGuiado())}),f(63,"lucide-angular",14),c(64," Generar Guiado "),o(),a(65,"button",33),v("click",function(){return y(n),x(r.exportar())}),f(66,"lucide-angular",14),c(67," Exportar Excel "),o(),a(68,"div",34),f(69,"input",35)(70,"textarea",36),a(71,"button",37),v("click",function(){return y(n),x(r.guardarCombo())}),f(72,"lucide-angular",14),c(73," Guardar Combo "),o()(),a(74,"button",33),v("click",function(){return y(n),x(r.Cancel())}),f(75,"lucide-angular",14),c(76," Cancelar "),o()()()()(),T(77,ct,5,31,"div",38)(78,ut,10,25,"div",38)(79,gt,10,25,"div",38)(80,mt,12,73,"div",38)}if(t&2){let n,s,u=Z(59);k("dark",r.isDarkMode())("bg-gray-50",!r.isDarkMode())("bg-gray-900",r.isDarkMode()),l(4),m("formGroup",r.form),l(9),m("formGroup",r.form),l(2),E(r.activeTab==="variables"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),m("img",r.Settings)("size",16),l(2),E(r.activeTab==="rangos"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),m("img",r.Filter)("size",16),l(2),E(r.activeTab==="condiciones"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),m("img",r.ListChecks)("size",16),l(2),E(r.activeTab==="restricciones"?"border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),l(),m("img",r.Ban)("size",16),l(2),m("ngIf",r.activeTab==="variables"),l(),m("ngIf",r.activeTab==="rangos"),l(),m("ngIf",r.activeTab==="condiciones"),l(),m("ngIf",r.activeTab==="restricciones"),l(4),m("img",r.FileText)("size",18),l(9),E((((n=r.form.get("plantillaTexto"))==null||n.value==null?null:n.value.length)||0)>160?"text-red-600 dark:text-red-400":"text-blue-700 dark:text-blue-400"),l(),F(" ",((s=r.form.get("plantillaTexto"))==null||s.value==null?null:s.value.length)||0,"/160 "),l(4),m("img",r.Eye)("size",18),l(4),E(r.previewMode()==="manual"?"px-3 py-1 rounded-md text-xs font-bold bg-white dark:bg-gray-600 text-blue-700 dark:text-blue-300 shadow-sm transition-all":"px-3 py-1 rounded-md text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-all"),l(2),E(r.previewMode()==="auto"?"px-3 py-1 rounded-md text-xs font-bold bg-white dark:bg-gray-600 text-blue-700 dark:text-blue-300 shadow-sm transition-all":"px-3 py-1 rounded-md text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-all"),l(3),m("ngIf",r.previewText())("ngIfElse",u),l(3),m("ngIf",r.previewMode()==="manual"),l(3),m("img",r.Send)("size",18),l(3),m("img",r.Table)("size",18),l(6),m("img",r.Save)("size",18),l(3),m("img",r.XCircle)("size",18),l(2),m("ngIf",r.loadingPreview()||r.loadingExport()||r.loadingSave()),l(),m("ngIf",r.alertMessage()),l(),m("ngIf",r.successMessage()),l(),m("ngIf",r.showRoundWizard())}},dependencies:[oe,ne,ae,Qe,Oe,Ne,Ve,Ae,Ee,we,Re,De,Se,Be,Ie,Pe,Le,Fe,Te,ke,_e],styles:['.min-h-screen[_ngcontent-%COMP%]:not(.dark){background-color:#f9fafb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-900"][_ngcontent-%COMP%]{background-color:#f9fafb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-800"][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-700"][_ngcontent-%COMP%]{background-color:#fff!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:bg-gray-600"][_ngcontent-%COMP%]{background-color:#f3f4f6!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-white"][_ngcontent-%COMP%]{color:#111827!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-100"][_ngcontent-%COMP%]{color:#111827!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-200"][_ngcontent-%COMP%]{color:#1f2937!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-300"][_ngcontent-%COMP%]{color:#374151!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-gray-400"][_ngcontent-%COMP%]{color:#4b5563!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-400"][_ngcontent-%COMP%]{color:#2563eb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:text-blue-300"][_ngcontent-%COMP%]{color:#3b82f6!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-700"][_ngcontent-%COMP%]{border-color:#e5e7eb!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-600"][_ngcontent-%COMP%]{border-color:#d1d5db!important}.min-h-screen[_ngcontent-%COMP%]:not(.dark)   *[class*="dark:border-gray-500"][_ngcontent-%COMP%]{border-color:#9ca3af!important}.min-h-screen.dark[_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-gray-50][_ngcontent-%COMP%]{background-color:#111827!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-white][_ngcontent-%COMP%]{background-color:#1f2937!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-gray-100][_ngcontent-%COMP%]{background-color:#374151!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=bg-blue-50][_ngcontent-%COMP%]{background-color:#1e3a8a!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-900][_ngcontent-%COMP%]{color:#fff!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-700][_ngcontent-%COMP%]{color:#f3f4f6!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-gray-600][_ngcontent-%COMP%]{color:#9ca3af!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-blue-700][_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=text-blue-600][_ngcontent-%COMP%]{color:#60a5fa!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-gray-200][_ngcontent-%COMP%], .min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-gray-300][_ngcontent-%COMP%]{border-color:#374151!important}.min-h-screen.dark[_ngcontent-%COMP%]   *[class*=border-blue-300][_ngcontent-%COMP%]{border-color:#1e40af!important}']});let d=p;return d})();export{Nt as DynQueryComponent};
