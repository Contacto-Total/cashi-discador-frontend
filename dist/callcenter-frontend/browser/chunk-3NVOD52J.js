import{a as oe}from"./chunk-YQ3P73II.js";import{a as re}from"./chunk-ZP3TNI7E.js";import{a as ie}from"./chunk-ED7RWSI6.js";import{a as B,c as L}from"./chunk-T2ZQ5EGI.js";import"./chunk-NTU7HPDP.js";import{E as ne,c as q,f as G,g as H,i as J,k as U,l as Y,m as K,s as Q,t as X,u as Z,v as $,w as ee,x as te}from"./chunk-7GV7UZOL.js";import{$b as R,_b as j}from"./chunk-W3UIH3CO.js";import"./chunk-YQKVMPSG.js";import{Ac as I,B as E,Cc as W,Lb as s,Mb as o,Nb as r,Ob as b,Sb as O,Tb as T,Vb as S,Xb as C,Zb as m,ab as a,dd as k,ed as z,gb as v,hc as D,lc as d,ld as A,mc as w,md as N,na as g,nb as V,nc as M,oa as p,oc as y,qc as f,rc as u,sb as h,sc as _,zc as F}from"./chunk-SN4XSKG7.js";function de(l,c){if(l&1&&(o(0,"div",9),b(1,"lucide-angular",10),d(2),r()),l&2){let n=m();a(),s("size",16),a(),M(" ",n.error," ")}}function se(l,c){if(l&1&&(o(0,"div",11),b(1,"div",12),o(2,"p"),d(3),r()()),l&2){let n=m();a(3),w(n.isEditMode?"Cargando...":"Guardando...")}}function me(l,c){if(l&1&&(o(0,"option",29),d(1),r()),l&2){let n=c.$implicit;s("ngValue",n.id),a(),y(" ",n.tenantCode," - ",n.tenantName," ")}}function ce(l,c){if(l&1&&(o(0,"option",29),d(1),r()),l&2){let n=c.$implicit;s("ngValue",n.id),a(),y(" ",n.portfolioCode," - ",n.portfolioName," ")}}function ge(l,c){if(l&1&&(o(0,"option",29),d(1),r()),l&2){let n=c.$implicit;s("ngValue",n.id),a(),y(" ",n.subPortfolioCode," - ",n.subPortfolioName," ")}}function pe(l,c){if(l&1&&(o(0,"option",29),d(1),r()),l&2){let n=c.$implicit;s("ngValue",n.id),a(),M(" ",n.fieldName," ")}}function fe(l,c){if(l&1){let n=S();o(0,"div",55)(1,"div",56)(2,"div",16)(3,"label",57),d(4,"Campo"),r(),o(5,"select",58),_("ngModelChange",function(e){g(n);let i=m(3);return u(i.selectedFieldId,e)||(i.selectedFieldId=e),p(e)}),o(6,"option",29),d(7,"Seleccione..."),r(),h(8,pe,2,2,"option",30),r()(),o(9,"div",16)(10,"label",59),d(11,"M\xEDn"),r(),o(12,"input",60),_("ngModelChange",function(e){g(n);let i=m(3);return u(i.newFilterMinValue,e)||(i.newFilterMinValue=e),p(e)}),r()(),o(13,"div",16)(14,"label",61),d(15,"M\xE1x"),r(),o(16,"input",62),_("ngModelChange",function(e){g(n);let i=m(3);return u(i.newFilterMaxValue,e)||(i.newFilterMaxValue=e),p(e)}),r()(),o(17,"div",63)(18,"button",64),C("click",function(){g(n);let e=m(3);return p(e.addFilter())}),b(19,"lucide-angular",65),r()()()()}if(l&2){let n=m(3);a(5),f("ngModel",n.selectedFieldId),a(),s("ngValue",0),a(2),s("ngForOf",n.filterableFields),a(4),f("ngModel",n.newFilterMinValue),a(4),f("ngModel",n.newFilterMaxValue),a(3),s("size",14)}}function ue(l,c){l&1&&(o(0,"div",66),b(1,"lucide-angular",67),d(2," Sin campos num\xE9ricos configurados. "),r()),l&2&&(a(),s("size",14))}function _e(l,c){if(l&1&&(o(0,"span"),d(1),F(2,"number"),r()),l&2){let n=m().$implicit;a(),M(" ",I(2,1,n.minValue)," ")}}function be(l,c){l&1&&(o(0,"span"),d(1," - "),r())}function he(l,c){if(l&1&&(o(0,"span"),d(1),F(2,"number"),r()),l&2){let n=m().$implicit;a(),M(" ",I(2,1,n.maxValue)," ")}}function Ce(l,c){if(l&1){let n=S();o(0,"div",71)(1,"span",72),d(2),r(),o(3,"span",73),h(4,_e,3,3,"span",74)(5,be,2,0,"span",74)(6,he,3,3,"span",74),r(),o(7,"button",75),C("click",function(){let e=g(n).index,i=m(4);return p(i.removeFilter(e))}),b(8,"lucide-angular",76),r()()}if(l&2){let n=c.$implicit;a(2),w(n.fieldName),a(2),s("ngIf",n.minValue!==void 0&&n.minValue!==null),a(),s("ngIf",n.minValue!==void 0&&n.maxValue!==void 0),a(),s("ngIf",n.maxValue!==void 0&&n.maxValue!==null),a(2),s("size",12)}}function xe(l,c){if(l&1&&(o(0,"div",68)(1,"h3"),d(2,"Filtros activos:"),r(),o(3,"div",69),h(4,Ce,9,5,"div",70),r()()),l&2){let n=m(3);a(4),s("ngForOf",n.campaignFilters)}}function Me(l,c){if(l&1&&(O(0),h(1,fe,20,6,"div",52)(2,ue,3,1,"div",53)(3,xe,5,1,"div",54),T()),l&2){let n=m(2);a(),s("ngIf",n.filterableFields.length>0),a(),s("ngIf",n.filterableFields.length===0),a(),s("ngIf",n.campaignFilters.length>0)}}function ve(l,c){l&1&&(o(0,"p",77),d(1," Selecciona una subcartera para ver los campos disponibles para filtrar. "),r())}function Se(l,c){if(l&1){let n=S();o(0,"form",13),C("ngSubmit",function(){g(n);let e=m();return p(e.onSubmit())}),o(1,"div",14)(2,"h2"),b(3,"lucide-angular",15),d(4," Informaci\xF3n B\xE1sica "),r(),o(5,"div",16)(6,"label",17),d(7,"Nombre *"),r(),o(8,"input",18),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.name,e)||(i.campaign.name=e),p(e)}),r()(),o(9,"div",16)(10,"label",19),d(11,"Descripci\xF3n"),r(),o(12,"textarea",20),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.description,e)||(i.campaign.description=e),p(e)}),r()(),o(13,"div",21)(14,"div",16)(15,"label",22),d(16,"Fecha Inicio"),r(),o(17,"input",23),_("ngModelChange",function(e){g(n);let i=m();return u(i.startDateString,e)||(i.startDateString=e),p(e)}),r()(),o(18,"div",16)(19,"label",24),d(20,"Fecha Fin"),r(),o(21,"input",25),_("ngModelChange",function(e){g(n);let i=m();return u(i.endDateString,e)||(i.endDateString=e),p(e)}),r()()()(),o(22,"div",14)(23,"h2"),b(24,"lucide-angular",26),d(25," Asignaci\xF3n "),r(),o(26,"div",16)(27,"label",27),d(28,"Proveedor *"),r(),o(29,"select",28),_("ngModelChange",function(e){g(n);let i=m();return u(i.selectedTenantId,e)||(i.selectedTenantId=e),p(e)}),C("ngModelChange",function(){g(n);let e=m();return p(e.onTenantChange())}),o(30,"option",29),d(31,"Seleccione..."),r(),h(32,me,2,3,"option",30),r()(),o(33,"div",21)(34,"div",16)(35,"label",31),d(36,"Cartera *"),r(),o(37,"select",32),_("ngModelChange",function(e){g(n);let i=m();return u(i.selectedPortfolioId,e)||(i.selectedPortfolioId=e),p(e)}),C("ngModelChange",function(){g(n);let e=m();return p(e.onPortfolioChange())}),o(38,"option",29),d(39,"Seleccione..."),r(),h(40,ce,2,3,"option",30),r()(),o(41,"div",16)(42,"label",33),d(43,"Subcartera *"),r(),o(44,"select",34),_("ngModelChange",function(e){g(n);let i=m();return u(i.selectedSubPortfolioId,e)||(i.selectedSubPortfolioId=e),p(e)}),C("ngModelChange",function(){g(n);let e=m();return p(e.onSubPortfolioChange())}),o(45,"option",29),d(46,"Seleccione..."),r(),h(47,ge,2,3,"option",30),r()()()(),o(48,"div",14)(49,"h2"),b(50,"lucide-angular",35),d(51," Configuraci\xF3n de Discado "),r(),o(52,"div",21)(53,"div",16)(54,"label",36),d(55,"Modo"),r(),o(56,"select",37),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.dialMode,e)||(i.campaign.dialMode=e),p(e)}),o(57,"option",38),d(58,"Manual"),r(),o(59,"option",39),d(60,"Progresivo"),r(),o(61,"option",40),d(62,"Predictivo"),r()()(),o(63,"div",16)(64,"label",41),d(65,"Intentos M\xE1x."),r(),o(66,"input",42),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.maxAttempts,e)||(i.campaign.maxAttempts=e),p(e)}),r()()(),o(67,"div",21)(68,"div",16)(69,"label",43),d(70,"Intervalo (min)"),r(),o(71,"input",44),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.retryInterval,e)||(i.campaign.retryInterval=e),p(e)}),r()(),o(72,"div",16)(73,"label",45),d(74,"Intensidad"),r(),o(75,"input",46),_("ngModelChange",function(e){g(n);let i=m();return u(i.campaign.intensidad,e)||(i.campaign.intensidad=e),p(e)}),r(),o(76,"small"),d(77,"Llamadas simult\xE1neas (1-100)"),r()()()(),o(78,"div",14)(79,"h2"),b(80,"lucide-angular",47),d(81," Filtros de Segmentaci\xF3n "),r(),h(82,Me,4,3,"ng-container",48)(83,ve,2,0,"ng-template",null,0,W),r(),o(85,"div",49)(86,"button",50),C("click",function(){g(n);let e=m();return p(e.onCancel())}),d(87," Cancelar "),r(),o(88,"button",51),d(89),r()()()}if(l&2){let n=D(84),t=m();a(3),s("size",16),a(5),f("ngModel",t.campaign.name),a(4),f("ngModel",t.campaign.description),a(5),f("ngModel",t.startDateString),a(4),f("ngModel",t.endDateString),a(3),s("size",16),a(5),f("ngModel",t.selectedTenantId),a(),s("ngValue",0),a(2),s("ngForOf",t.tenants),a(5),f("ngModel",t.selectedPortfolioId),s("disabled",t.selectedTenantId===0),a(),s("ngValue",0),a(2),s("ngForOf",t.portfolios),a(4),f("ngModel",t.selectedSubPortfolioId),s("disabled",t.selectedPortfolioId===0),a(),s("ngValue",0),a(2),s("ngForOf",t.subPortfolios),a(3),s("size",16),a(6),f("ngModel",t.campaign.dialMode),a(10),f("ngModel",t.campaign.maxAttempts),a(5),f("ngModel",t.campaign.retryInterval),a(4),f("ngModel",t.campaign.intensidad),a(5),s("size",16),a(2),s("ngIf",t.selectedSubPortfolioId>0)("ngIfElse",n),a(6),s("disabled",t.loading),a(),M(" ",t.isEditMode?"Actualizar":"Crear Campa\xF1a"," ")}}var ze=(()=>{let c=class c{constructor(t,e,i,x,P){this.campaignService=t,this.tenantService=e,this.portfolioService=i,this.router=x,this.route=P,this.campaign={name:"",description:"",status:"DRAFT",dialMode:"PROGRESSIVE",maxAttempts:3,retryInterval:60,intensidad:50,tenantId:void 0,portfolioId:void 0,subPortfolioId:void 0},this.isEditMode=!1,this.loading=!1,this.error=null,this.campaignId=null,this.tenants=[],this.portfolios=[],this.subPortfolios=[],this.selectedTenantId=0,this.selectedPortfolioId=0,this.selectedSubPortfolioId=0,this.startDateString="",this.endDateString="",this.filterableFields=[],this.campaignFilters=[],this.selectedFieldId=0,this.newFilterMinValue=null,this.newFilterMaxValue=null}ngOnInit(){this.loadTenants(),this.route.params.subscribe(t=>{t.id&&(this.isEditMode=!0,this.campaignId=+t.id,this.loadCampaign(this.campaignId))})}loadTenants(){this.tenantService.getAllTenants().subscribe({next:t=>{this.tenants=t.filter(e=>e.isActive)},error:t=>console.error("Error loading tenants:",t)})}onTenantChange(){this.selectedPortfolioId=0,this.selectedSubPortfolioId=0,this.portfolios=[],this.subPortfolios=[],this.selectedTenantId>0&&this.portfolioService.getPortfoliosByTenant(this.selectedTenantId).subscribe({next:t=>{this.portfolios=t.filter(e=>e.isActive)},error:t=>console.error("Error loading portfolios:",t)})}onPortfolioChange(){this.selectedSubPortfolioId=0,this.subPortfolios=[],this.filterableFields=[],this.selectedPortfolioId>0&&this.portfolioService.getSubPortfoliosByPortfolio(this.selectedPortfolioId).subscribe({next:t=>{this.subPortfolios=t.filter(e=>e.isActive)},error:t=>console.error("Error loading sub-portfolios:",t)})}onSubPortfolioChange(){this.filterableFields=[],this.selectedSubPortfolioId>0&&this.loadFilterableFields(this.selectedSubPortfolioId)}loadFilterableFields(t){this.campaignService.getFilterableFieldsBySubcartera(t).subscribe({next:e=>{this.filterableFields=e,console.log("Campos filtrables cargados:",e)},error:e=>console.error("Error loading filterable fields:",e)})}loadCampaignFilters(t){this.campaignService.getCampaignFilters(t).subscribe({next:e=>{this.campaignFilters=e,console.log("Filtros de campa\xF1a cargados:",e)},error:e=>console.error("Error loading campaign filters:",e)})}addFilter(){if(this.selectedFieldId===0){this.error="Seleccione un campo para filtrar";return}if(this.newFilterMinValue===null&&this.newFilterMaxValue===null){this.error="Ingrese al menos un valor (m\xEDnimo o m\xE1ximo)";return}let t=this.filterableFields.find(i=>i.id===this.selectedFieldId);if(!t)return;let e={fieldDefinitionId:t.id,fieldCode:t.fieldCode,fieldName:t.fieldName,minValue:this.newFilterMinValue??void 0,maxValue:this.newFilterMaxValue??void 0};this.campaignFilters.push(e),this.selectedFieldId=0,this.newFilterMinValue=null,this.newFilterMaxValue=null,this.error=null}removeFilter(t){this.campaignFilters.splice(t,1)}getFieldNameByCode(t){return this.filterableFields.find(i=>i.fieldCode===t)?.fieldName||t}loadCampaign(t){this.loading=!0,this.campaignService.getCampaignById(t).subscribe({next:e=>{console.log("\u2705 Campaign loaded:",e),this.campaign=e,e.startDate&&(this.startDateString=this.toDateTimeLocal(e.startDate)),e.endDate&&(this.endDateString=this.toDateTimeLocal(e.endDate)),e.tenantId&&e.portfolioId&&e.subPortfolioId?(console.log("\u{1F4CB} Loading cascading data for edit mode...",{tenantId:e.tenantId,portfolioId:e.portfolioId,subPortfolioId:e.subPortfolioId}),E({portfolios:this.portfolioService.getPortfoliosByTenant(e.tenantId),subPortfolios:this.portfolioService.getSubPortfoliosByPortfolio(e.portfolioId)}).subscribe({next:i=>{this.portfolios=i.portfolios.filter(x=>x.isActive),this.subPortfolios=i.subPortfolios.filter(x=>x.isActive),console.log("\u2705 Data loaded, now setting selected values:",{portfolios:this.portfolios.length,subPortfolios:this.subPortfolios.length,selectedTenant:e.tenantId,selectedPortfolio:e.portfolioId,selectedSubPortfolio:e.subPortfolioId}),this.selectedTenantId=e.tenantId||0,this.selectedPortfolioId=e.portfolioId||0,this.selectedSubPortfolioId=e.subPortfolioId||0,console.log("\u2705 Selected values assigned:",{selectedTenantId:this.selectedTenantId,selectedPortfolioId:this.selectedPortfolioId,selectedSubPortfolioId:this.selectedSubPortfolioId}),e.subPortfolioId&&this.loadFilterableFields(e.subPortfolioId),e.id&&this.loadCampaignFilters(e.id),this.loading=!1},error:i=>{console.error("\u274C Error loading portfolios/subportfolios:",i),this.error="Error al cargar portfolios/subportfolios",this.loading=!1}})):(console.warn("\u26A0\uFE0F Missing tenant/portfolio/subportfolio IDs"),this.loading=!1)},error:e=>{console.error("\u274C Error loading campaign:",e),this.error="Error al cargar la campa\xF1a",this.loading=!1}})}onSubmit(){if(!this.campaign.name){this.error="El nombre de la campa\xF1a es requerido";return}if(!this.selectedSubPortfolioId||this.selectedSubPortfolioId===0){this.error="Debe seleccionar una subcartera";return}this.campaign.tenantId=this.selectedTenantId,this.campaign.portfolioId=this.selectedPortfolioId,this.campaign.subPortfolioId=this.selectedSubPortfolioId,this.startDateString&&(this.campaign.startDate=this.startDateString),this.endDateString&&(this.campaign.endDate=this.endDateString),this.loading=!0,this.error=null,this.isEditMode&&this.campaignId?this.campaignService.updateCampaign(this.campaignId,this.campaign).subscribe({next:()=>{this.saveFiltersAndNavigate(this.campaignId)},error:t=>{console.error("Error updating campaign:",t),this.error="Error al actualizar la campa\xF1a",this.loading=!1}}):this.campaignService.createCampaign(this.campaign).subscribe({next:t=>{let e=t.id||t;e?this.saveFiltersAndNavigate(e):(console.error("No se pudo obtener el ID de la campa\xF1a creada"),this.router.navigate(["/admin/campaigns"]))},error:t=>{console.error("Error creating campaign:",t),this.error="Error al crear la campa\xF1a",this.loading=!1}})}saveFiltersAndNavigate(t){console.log("\u{1F4E4} Enviando filtros para campa\xF1a",t,":",this.campaignFilters),console.log("\u{1F4CB} Cantidad de filtros a enviar:",this.campaignFilters.length),this.campaignFilters.forEach((e,i)=>{console.log(`  Filtro[${i}]:`,e.fieldCode,e.fieldName,"min:",e.minValue,"max:",e.maxValue)}),this.campaignService.saveCampaignFilters(t,this.campaignFilters).subscribe({next:e=>{console.log("\u2705 Filtros guardados correctamente, respuesta:",e),this.router.navigate(["/admin/campaigns"])},error:e=>{console.error("Error guardando filtros:",e),this.router.navigate(["/admin/campaigns"])}})}onCancel(){this.router.navigate(["/admin/campaigns"])}toDateTimeLocal(t){let e=new Date(t),i=e.getFullYear(),x=String(e.getMonth()+1).padStart(2,"0"),P=String(e.getDate()).padStart(2,"0"),ae=String(e.getHours()).padStart(2,"0"),le=String(e.getMinutes()).padStart(2,"0");return`${i}-${x}-${P}T${ae}:${le}`}};c.\u0275fac=function(e){return new(e||c)(v(ie),v(oe),v(re),v(L),v(B))},c.\u0275cmp=V({type:c,selectors:[["app-campaign-form"]],decls:12,vars:7,consts:[["noSubcartera",""],[1,"campaign-form-container"],[1,"form-header"],[1,"header-icon",3,"name","size"],[1,"btn-back",3,"click"],["name","arrow-left",3,"size"],["class","error-message",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","form-content",3,"ngSubmit",4,"ngIf"],[1,"error-message"],["name","x-circle",3,"size"],[1,"loading-state"],[1,"spinner"],[1,"form-content",3,"ngSubmit"],[1,"form-section"],["name","file-text",3,"size"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","placeholder","Ej: Campa\xF1a Cobranza Enero 2025","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Descripci\xF3n breve...","rows","2",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"form-row"],["for","startDate"],["type","datetime-local","id","startDate","name","startDate",1,"form-input",3,"ngModelChange","ngModel"],["for","endDate"],["type","datetime-local","id","endDate","name","endDate",1,"form-input",3,"ngModelChange","ngModel"],["name","building-2",3,"size"],["for","tenant"],["id","tenant","name","tenant","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","portfolio"],["id","portfolio","name","portfolio","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["for","subportfolio"],["id","subportfolio","name","subportfolio","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["name","phone-call",3,"size"],["for","dialMode"],["id","dialMode","name","dialMode",1,"form-select",3,"ngModelChange","ngModel"],["value","MANUAL"],["value","PROGRESSIVE"],["value","PREDICTIVE"],["for","maxAttempts"],["type","number","id","maxAttempts","name","maxAttempts","min","1","max","10",1,"form-input",3,"ngModelChange","ngModel"],["for","retryInterval"],["type","number","id","retryInterval","name","retryInterval","min","1",1,"form-input",3,"ngModelChange","ngModel"],["for","intensidad"],["type","number","id","intensidad","name","intensidad","min","1","max","100","placeholder","50",1,"form-input",3,"ngModelChange","ngModel"],["name","filter",3,"size"],[4,"ngIf","ngIfElse"],[1,"form-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],["class","filter-add-section",4,"ngIf"],["class","no-fields-message",4,"ngIf"],["class","filters-list",4,"ngIf"],[1,"filter-add-section"],[1,"form-row","filter-row"],["for","filterField"],["id","filterField","name","filterField",1,"form-select",3,"ngModelChange","ngModel"],["for","minValue"],["type","number","id","minValue","name","minValue","placeholder","400",1,"form-input",3,"ngModelChange","ngModel"],["for","maxValue"],["type","number","id","maxValue","name","maxValue","placeholder","1000",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-group","filter-btn-group"],["type","button",1,"btn-add-filter",3,"click"],["name","plus",3,"size"],[1,"no-fields-message"],["name","info",3,"size"],[1,"filters-list"],[1,"filter-chips"],["class","filter-chip",4,"ngFor","ngForOf"],[1,"filter-chip"],[1,"filter-field"],[1,"filter-range"],[4,"ngIf"],["type","button",1,"btn-remove-filter",3,"click"],["name","x",3,"size"],[1,"section-description"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"h1"),b(3,"lucide-angular",3),d(4),r(),o(5,"button",4),C("click",function(){return i.onCancel()}),b(6,"lucide-angular",5),o(7,"span"),d(8,"Volver"),r()()(),h(9,de,3,2,"div",6)(10,se,4,1,"div",7)(11,Se,90,27,"form",8),r()),e&2&&(a(3),s("name",i.isEditMode?"pencil":"plus-circle")("size",18),a(),M(" ",i.isEditMode?"Editar Campa\xF1a":"Nueva Campa\xF1a"," "),a(2),s("size",14),a(3),s("ngIf",i.error),a(),s("ngIf",i.loading),a(),s("ngIf",!i.loading))},dependencies:[N,k,z,ne,Y,X,Z,q,K,Q,G,H,te,ee,$,U,J,R,j,A],styles:[".campaign-form-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:1rem 1.5rem!important;min-height:100vh;background:linear-gradient(to bottom right,#0f172a,#1e293b,#0f172a)}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--text-primary);margin:0;display:flex;align-items:center;gap:.5rem}.header-icon[_ngcontent-%COMP%]{flex-shrink:0}.btn-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;padding:.4rem .8rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:pointer;font-size:.8rem;color:var(--text-secondary);transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.error-message[_ngcontent-%COMP%]{background:#fee2e2;border:1px solid #fca5a5;color:#991b1b;padding:.6rem 1rem;border-radius:4px;margin-bottom:1rem;display:flex;align-items:center;gap:.4rem;font-size:.8rem}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem}.spinner[_ngcontent-%COMP%]{border:2px solid #f3f4f6;border-top:2px solid #3b82f6;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto .5rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.form-content[_ngcontent-%COMP%]{background:var(--bg-card);border-radius:6px;box-shadow:0 1px 3px #0000001a;display:grid;grid-template-columns:1fr 1fr;gap:0}.form-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--border-color);border-right:1px solid var(--border-color)}.form-section[_ngcontent-%COMP%]:nth-child(2n){border-right:none}.form-section[_ngcontent-%COMP%]:last-of-type, .form-section[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){border-bottom:none}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-primary);margin:0 0 .8rem;font-weight:600;display:flex;align-items:center;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   lucide-angular[_ngcontent-%COMP%]{opacity:.7}.form-group[_ngcontent-%COMP%]{margin-bottom:.8rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;color:var(--text-secondary);margin-bottom:.3rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.3px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem .6rem;border:1px solid var(--input-border);background:var(--input-bg);color:var(--text-primary);border-radius:4px;font-size:.85rem;transition:border-color .2s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.form-input[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{background:var(--bg-tertiary);color:var(--text-tertiary);cursor:not-allowed;opacity:.6}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:50px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:var(--text-tertiary);font-size:.7rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.8rem}.form-actions[_ngcontent-%COMP%]{grid-column:1 / -1;display:flex;justify-content:flex-end;gap:.8rem;padding:1rem;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{padding:.5rem 1.2rem;border-radius:4px;font-weight:500;font-size:.85rem;cursor:pointer;transition:all .2s;border:none}.btn-cancel[_ngcontent-%COMP%]{background:#fff;color:#475569;border:1px solid #cbd5e1}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f1f5f9}.btn-submit[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-submit[_ngcontent-%COMP%]:disabled{background:#93c5fd;cursor:not-allowed}.section-description[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.75rem;margin-bottom:.8rem;line-height:1.4}.filter-add-section[_ngcontent-%COMP%]{background:var(--bg-tertiary);padding:.8rem;border-radius:6px;margin-bottom:.8rem}.filter-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:.6rem;align-items:end}.filter-btn-group[_ngcontent-%COMP%]{margin-bottom:0}.btn-add-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.5rem .8rem;background:#10b981;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.8rem;transition:all .2s;white-space:nowrap}.btn-add-filter[_ngcontent-%COMP%]:hover{background:#059669}.no-fields-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;color:var(--text-tertiary);font-size:.8rem;padding:.6rem;background:var(--bg-tertiary);border-radius:4px}.filters-list[_ngcontent-%COMP%]{margin-top:.8rem}.filters-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin-bottom:.5rem;font-weight:500;text-transform:uppercase}.filter-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.filter-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;padding:.35rem .6rem;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:14px;font-size:.75rem;color:#fff}.filter-field[_ngcontent-%COMP%]{font-weight:500}.filter-range[_ngcontent-%COMP%]{background:#fff3;padding:.1rem .4rem;border-radius:8px;font-size:.7rem}.btn-remove-filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:16px;height:16px;background:#ffffff4d;border:none;border-radius:50%;cursor:pointer;transition:all .2s;color:#fff}.btn-remove-filter[_ngcontent-%COMP%]:hover{background:#ef4444}@media (max-width: 1024px){.form-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-section[_ngcontent-%COMP%]{border-right:none}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}}@media (max-width: 768px){.campaign-form-container[_ngcontent-%COMP%]{padding:.8rem!important}.form-row[_ngcontent-%COMP%], .filter-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.filter-btn-group[_ngcontent-%COMP%]{margin-top:.4rem}.btn-add-filter[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]});let l=c;return l})();export{ze as CampaignFormComponent};
