<div class="app-container" *ngIf="!isLoginPage() && authService.isAuthenticated()">
  <!-- CASHI Navbar -->
  <nav class="cashi-navbar">
    <div class="navbar-left">
      <!-- Logo CASHI -->
      <div class="cashi-logo">
        <div class="logo-icon">
          <mat-icon>account_balance_wallet</mat-icon>
        </div>
        <span class="logo-text">CASHI</span>
      </div>

      <!-- Menu Items -->
      <div class="navbar-menu">
        <a routerLink="/agent-dashboard" routerLinkActive="active" class="nav-item" *ngIf="(authService.currentUser$ | async)?.role !== 'ADMIN'">
          <mat-icon>phone</mat-icon>
          <span>Cobranza</span>
        </a>
        <a routerLink="/contacts" routerLinkActive="active" class="nav-item" *ngIf="(authService.currentUser$ | async)?.role !== 'ADMIN'">
          <mat-icon>people</mat-icon>
          <span>Clientes</span>
        </a>
        <a routerLink="/admin/monitoring" routerLinkActive="active" class="nav-item" *ngIf="(authService.currentUser$ | async)?.role === 'ADMIN'">
          <mat-icon>supervisor_account</mat-icon>
          <span>Monitoreo</span>
        </a>
        <a routerLink="/whatsapp" routerLinkActive="active" class="nav-item">
          <mat-icon>chat</mat-icon>
          <span>WhatsApp</span>
        </a>
      </div>
    </div>

    <div class="navbar-right">
      <!-- Carga de Datos -->
      <button mat-button class="nav-dropdown">
        <mat-icon>folder_open</mat-icon>
        <span>Carga de Datos</span>
        <mat-icon class="dropdown-arrow">expand_more</mat-icon>
      </button>

      <!-- Mantenimiento -->
      <button mat-button class="nav-dropdown">
        <mat-icon>settings</mat-icon>
        <span>Mantenimiento</span>
        <mat-icon class="dropdown-arrow">expand_more</mat-icon>
      </button>

      <!-- Notifications -->
      <button mat-icon-button class="nav-icon-btn">
        <mat-icon>notifications</mat-icon>
      </button>

      <!-- User Profile -->
      <button mat-icon-button class="nav-icon-btn" (click)="logout()">
        <mat-icon>person</mat-icon>
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <router-outlet></router-outlet>
  </div>
</div>

<div *ngIf="isLoginPage() || !authService.isAuthenticated()">
  <router-outlet></router-outlet>
</div>
