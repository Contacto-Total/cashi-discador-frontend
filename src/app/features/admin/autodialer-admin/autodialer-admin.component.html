<div class="autodialer-container">
  <!-- Header -->
  <div class="header">
    <h1>ğŸ¤– Panel de Auto-Dialer</h1>
    <div class="status-badge" [style.background-color]="getStatusColor()">
      {{ getStatusText() }}
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    âŒ {{ error }}
  </div>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="success-message">
    âœ… {{ successMessage }}
  </div>

  <!-- Control Panel -->
  <div class="control-panel">
    <div class="control-section">
      <h2>Control del Sistema</h2>
      <p class="subtitle">Activar o desactivar el sistema de discado automÃ¡tico</p>

      <button
        class="toggle-btn"
        [class.active]="isActivo"
        [disabled]="loading"
        (click)="toggleAutoDialer()">
        <span class="btn-icon">{{ getButtonIcon() }}</span>
        <span>{{ getButtonText() }}</span>
      </button>

      <div class="info-box" *ngIf="!isActivo">
        <p>â„¹ï¸ El auto-dialer estÃ¡ inactivo. Cuando lo actives, el sistema comenzarÃ¡ a asignar llamadas automÃ¡ticamente a los agentes disponibles.</p>
      </div>

      <div class="info-box active" *ngIf="isActivo">
        <p>ğŸŸ¢ El auto-dialer estÃ¡ activo. Las llamadas se estÃ¡n asignando automÃ¡ticamente a los agentes disponibles.</p>
      </div>
    </div>
  </div>

  <!-- EstadÃ­sticas en tiempo real -->
  <div class="statistics-panel" *ngIf="estadisticas">
    <h2>ğŸ“Š EstadÃ­sticas en Tiempo Real</h2>
    <p class="subtitle">ActualizaciÃ³n automÃ¡tica cada 5 segundos</p>

    <div class="stats-grid">
      <!-- Agentes Disponibles -->
      <div class="stat-card green">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.agentesDisponibles }}</div>
          <div class="stat-label">Agentes Disponibles</div>
        </div>
      </div>

      <!-- Contactos Pendientes -->
      <div class="stat-card blue">
        <div class="stat-icon">ğŸ“‹</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.contactosPendientes }}</div>
          <div class="stat-label">Contactos Pendientes</div>
        </div>
      </div>

      <!-- Llamadas Activas -->
      <div class="stat-card orange">
        <div class="stat-icon">ğŸ“</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.llamadasActivas }}</div>
          <div class="stat-label">Llamadas Activas</div>
        </div>
      </div>

      <!-- Llamadas Completadas Hoy -->
      <div class="stat-card purple">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.llamadasCompletadasHoy }}</div>
          <div class="stat-label">Completadas Hoy</div>
        </div>
      </div>

      <!-- Contactos Completados -->
      <div class="stat-card teal">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.contactosCompletados }}</div>
          <div class="stat-label">Total Completados</div>
        </div>
      </div>

      <!-- Contactos Fallidos -->
      <div class="stat-card red">
        <div class="stat-icon">âŒ</div>
        <div class="stat-content">
          <div class="stat-value">{{ estadisticas.contactosFallidos }}</div>
          <div class="stat-label">Llamadas Fallidas</div>
        </div>
      </div>
    </div>
  </div>

  <!-- InformaciÃ³n TÃ©cnica -->
  <div class="technical-info">
    <h3>â„¹ï¸ InformaciÃ³n TÃ©cnica</h3>
    <ul>
      <li><strong>Frecuencia de Procesamiento:</strong> Cada 10 segundos</li>
      <li><strong>Auto-Respuesta de Agentes:</strong> Activada (sin botÃ³n contestar)</li>
      <li><strong>Llamadas a Destinos:</strong> Normal (con botÃ³n contestar)</li>
      <li><strong>AsignaciÃ³n:</strong> 1 agente â†’ 1 contacto por ciclo</li>
      <li><strong>CondiciÃ³n:</strong> Solo agentes en estado DISPONIBLE</li>
    </ul>
  </div>
</div>
