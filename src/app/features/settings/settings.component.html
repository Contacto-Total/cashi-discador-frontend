<div class="settings-layout">
  <!-- Sidebar -->
  <aside class="settings-sidebar">
    <div class="sidebar-header">
      <lucide-angular name="settings" [size]="24" class="sidebar-icon"></lucide-angular>
      <span>Configuraci&oacute;n</span>
    </div>

    <nav class="sidebar-nav">
      <button
        class="nav-item"
        [class.active]="activeSection === 'appearance'"
        (click)="activeSection = 'appearance'"
      >
        <div class="nav-icon" style="background: linear-gradient(135deg, #8b5cf6, #a855f7);">
          <lucide-angular name="palette" [size]="16"></lucide-angular>
        </div>
        <span>Apariencia</span>
      </button>

      <button
        class="nav-item"
        [class.active]="activeSection === 'font'"
        (click)="activeSection = 'font'"
      >
        <div class="nav-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
          <lucide-angular name="type" [size]="16"></lucide-angular>
        </div>
        <span>Tama&ntilde;o de Texto</span>
      </button>
    </nav>
  </aside>

  <!-- Content -->
  <main class="settings-content">
    <!-- Appearance Section -->
    <div class="content-section" *ngIf="activeSection === 'appearance'">
      <h2 class="section-title">Apariencia</h2>
      <p class="section-description">Personaliza el aspecto visual de la aplicaci&oacute;n</p>

      <div class="setting-card">
        <div class="setting-row">
          <div class="setting-info">
            <lucide-angular [name]="isDarkMode ? 'moon' : 'sun'" [size]="20" class="setting-icon"></lucide-angular>
            <div>
              <span class="setting-label">Modo Oscuro</span>
              <span class="setting-hint">Reduce el brillo de la pantalla</span>
            </div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" [checked]="isDarkMode" (change)="toggleTheme()">
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <div class="theme-preview">
        <div class="preview-card light-preview" [class.selected]="!isDarkMode" (click)="setTheme('light')">
          <div class="preview-window">
            <div class="preview-header"></div>
            <div class="preview-sidebar"></div>
            <div class="preview-content">
              <div class="preview-line"></div>
              <div class="preview-line short"></div>
            </div>
          </div>
          <span>Claro</span>
        </div>
        <div class="preview-card dark-preview" [class.selected]="isDarkMode" (click)="setTheme('dark')">
          <div class="preview-window">
            <div class="preview-header"></div>
            <div class="preview-sidebar"></div>
            <div class="preview-content">
              <div class="preview-line"></div>
              <div class="preview-line short"></div>
            </div>
          </div>
          <span>Oscuro</span>
        </div>
      </div>
    </div>

    <!-- Font Size Section -->
    <div class="content-section" *ngIf="activeSection === 'font'">
      <h2 class="section-title">Tama&ntilde;o de Texto</h2>
      <p class="section-description">Ajusta el tama&ntilde;o de la fuente para mejorar la legibilidad</p>

      <div class="setting-card">
        <div class="font-control">
          <div class="font-header">
            <span class="font-current">{{ previewFontSize }}px</span>
            <span class="font-range">{{ minFontSize }}px - {{ maxFontSize }}px</span>
          </div>

          <div class="slider-row">
            <button class="size-btn" (click)="decreaseFontSize()" [disabled]="previewFontSize <= minFontSize">
              <span class="btn-label-small">A</span>
            </button>
            <input
              type="range"
              class="font-slider"
              [min]="minFontSize"
              [max]="maxFontSize"
              [value]="previewFontSize"
              (input)="onFontSizeChange($event)"
            />
            <button class="size-btn" (click)="increaseFontSize()" [disabled]="previewFontSize >= maxFontSize">
              <span class="btn-label-large">A</span>
            </button>
          </div>
        </div>

        <div class="preview-box">
          <span class="preview-label">Vista previa</span>
          <p class="preview-text" [style.font-size.px]="previewFontSize">{{ previewText }}</p>
          <p class="preview-small" [style.font-size.px]="previewFontSize * 0.85">Texto secundario m&aacute;s peque&ntilde;o.</p>
        </div>

        <div class="action-row">
          <button class="btn-secondary" (click)="resetFontSize()" [disabled]="isDefaultFontSize()">
            <lucide-angular name="refresh-cw" [size]="14"></lucide-angular>
            Restablecer
          </button>
          <button class="btn-primary" (click)="applyFontSize()" [disabled]="!hasChanges()">
            <lucide-angular name="check" [size]="14"></lucide-angular>
            Aplicar
          </button>
        </div>

        <div class="change-notice" *ngIf="hasChanges()">
          <lucide-angular name="info" [size]="14"></lucide-angular>
          <span>Tienes cambios sin guardar</span>
        </div>
      </div>
    </div>
  </main>
</div>
