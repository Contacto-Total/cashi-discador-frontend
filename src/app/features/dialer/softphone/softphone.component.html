<!-- Retro Phone Design -->
<div class="phone-body">
  <!-- Screen Display - Interactive -->
  <div class="phone-screen">
    <div class="screen-content">
      <!-- Status Icon -->
      <div class="flex items-center justify-center gap-1 mb-2">
        <lucide-angular
          [name]="callState === CallState.ACTIVE ? 'phone-call' : 'phone'"
          [size]="14"
          class="text-green-600 animate-pulse">
        </lucide-angular>
        <span class="screen-status">{{ getStatusText() }}</span>
      </div>

      <!-- Dialed Number Display with Animation -->
      <div class="screen-number" *ngIf="callState === CallState.IDLE && dialedNumber">
        <span class="number-display">{{ dialedNumber }}</span>
        <span class="cursor-blink">|</span>
      </div>

      <!-- Placeholder when empty -->
      <div class="screen-placeholder" *ngIf="callState === CallState.IDLE && !dialedNumber">
        Marque un n√∫mero
      </div>

      <!-- Active Call Info -->
      <div *ngIf="phoneNumber && callState !== CallState.IDLE" class="screen-call-info">
        <div class="screen-number-small">{{ phoneNumber }}</div>
      </div>

      <!-- Call Duration -->
      <div class="screen-duration" *ngIf="isActive()">
        {{ formatDuration(duration) }}
      </div>
    </div>
  </div>

  <!-- Control Buttons Row -->
  <div class="control-row" *ngIf="isActive()">
    <button
      *ngIf="canHangup"
      (click)="onHangup()"
      class="retro-btn retro-btn-red"
      [disabled]="!canHangup">
      <lucide-angular name="phone-off" [size]="16" class="text-white"></lucide-angular>
    </button>

    <button
      (click)="onMute()"
      [class.retro-btn-yellow]="isMuted"
      [class.retro-btn-blue]="!isMuted"
      class="retro-btn"
      [disabled]="!isActive()">
      <lucide-angular [name]="isMuted ? 'mic-off' : 'mic'" [size]="16" class="text-white"></lucide-angular>
    </button>

    <button
      (click)="onHold()"
      class="retro-btn retro-btn-gray"
      [disabled]="!isActive()">
      <lucide-angular name="pause" [size]="16" class="text-white"></lucide-angular>
    </button>
  </div>

  <!-- DTMF Keypad - Retro Style -->
  <div class="keypad-container">
    <button
      *ngFor="let key of ['1', '2', '3', '4', '5', '6', '7', '8', '9', '*', '0', '#']"
      (click)="onDTMF(key)"
      class="retro-key">
      <span class="key-digit">{{ key }}</span>
      <span class="key-letters" *ngIf="getLetters(key)">{{ getLetters(key) }}</span>
    </button>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons" *ngIf="callState === CallState.IDLE">
    <button
      (click)="onBackspace()"
      class="action-btn action-btn-secondary"
      [disabled]="!dialedNumber">
      <lucide-angular name="delete-back" [size]="18"></lucide-angular>
      <span class="action-label">Borrar</span>
    </button>

    <button
      (click)="onCall()"
      class="action-btn action-btn-call"
      [disabled]="!dialedNumber">
      <lucide-angular name="phone" [size]="20" class="text-white"></lucide-angular>
      <span class="action-label-white">Llamar</span>
    </button>

    <button
      (click)="onClear()"
      class="action-btn action-btn-secondary"
      [disabled]="!dialedNumber">
      <lucide-angular name="x-circle" [size]="18"></lucide-angular>
      <span class="action-label">Limpiar</span>
    </button>
  </div>
</div>
