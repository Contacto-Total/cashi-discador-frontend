<div class="manual-dialer-container">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="bg-gradient"></div>
    <div class="bg-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="dialer-wrapper">
    <!-- Header with smooth fade-in -->
    <div class="dialer-header">
      <div class="header-content">
        <div class="brand">
          <lucide-angular name="phone" class="brand-icon"></lucide-angular>
          <h1 class="brand-title">Marcaci√≥n Manual</h1>
        </div>
        <div class="agent-badge">
          <lucide-angular name="user-circle" class="agent-icon"></lucide-angular>
          <span class="agent-name">{{ (authService.currentUser$ | async)?.firstName || 'Agente' }}</span>
        </div>
      </div>
    </div>

    <!-- Softphone Card with scale animation -->
    <div class="softphone-card">
      <div class="card-glow"></div>
      <app-softphone
        [callState]="callState"
        [duration]="callDuration"
        [isMuted]="isMuted()"
        [phoneNumber]="''"
        [canHangup]="isInCall()"
        (hangupClicked)="hangupCall()"
        (muteClicked)="toggleMute()">
      </app-softphone>
    </div>

    <!-- Floating Status Indicator -->
    <div class="status-indicator" [class.active]="isInCall()">
      <div class="status-pulse"></div>
      <lucide-angular [name]="isInCall() ? 'phone-call' : 'phone'" class="status-icon"></lucide-angular>
      <span class="status-text">{{ isInCall() ? 'En Llamada' : 'Listo para marcar' }}</span>
    </div>
  </div>

  <!-- Hidden audio element for remote stream -->
  <audio #audioElement autoplay></audio>
</div>
